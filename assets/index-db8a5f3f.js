import{r as u,aI as m,aJ as i,aK as b,aD as e,az as g,co as f,bG as C,cp as k,aV as h,aW as l,cq as w,bb as x,c7 as y,cr as A,cc as S,cs as v,ct as W,b8 as D,cu as T,S as P}from"./index-e68fc73c.js";const Z=({boardId:d})=>{const[p,r]=u.useState(!1),a=m();return i(b,{children:[e(g,{type:"text",onClick:t=>{t.stopPropagation()},children:"分享看板"}),e(g,{danger:!0,type:"text",loading:p,onClick:t=>{t.stopPropagation(),r(!0),a(f(d)).finally(()=>{r(!1)})},children:"刪除看板"}),e("div",{style:{color:"red"}})]})},j=({title:d,permission:p,backgroundImage:r,boardId:a})=>{const t=C();return i(k,{hoverable:!0,"background-image":`${r}`,onClick:()=>{t(`/board/${a}`)},children:[e(h,{style:{marginBottom:"auto"},children:e(l,{style:{fontWeight:700,fontSize:"18px",lineHeight:"150%"},children:d})}),i(h,{justify:"space-between",align:"middle",children:[e(l,{children:e(w,{permission:p,id:a})}),e(l,{children:e(x,{trigger:"click",placement:"bottomRight",arrow:!1,content:e(Z,{boardId:a}),children:e(g,{icon:e(y,{}),type:"text",style:{color:"white"},onClick:s=>{s.stopPropagation()}})})})]})]})},G=()=>{const d=m(),[p,r]=u.useState(!1),a=A(),[t,s]=u.useState(a==null?void 0:a.board);return u.useEffect(()=>{s(a==null?void 0:a.board)},[a]),u.useEffect(()=>{d(S(!0))}),i(v,{children:[i(h,{align:"middle",justify:"space-between",children:[e(W,{}),i(l,{children:[e(g,{icon:e(D,{}),style:{backgroundColor:"#232323",color:"white",width:"121px",height:"45px"},onClick:()=>r(!0),children:"新增看板"}),e(T,{open:p,setOpen:r})]})]}),i(h,{align:"middle",justify:"space-between",style:{marginTop:"16px"},children:[e(l,{style:{fontWeight:700,fontSize:"16px",lineHeight:"150%"},children:"我的看板"}),e(l,{children:e(P,{defaultValue:"排序方式",style:{fontSize:"14px"},onChange:c=>{switch(c){case"A-Z字母排序":return s([...t].sort((n,o)=>n.name.localeCompare(o.name)));case"Z-A字母排序":return s([...t].sort((n,o)=>o.name.localeCompare(n.name)));case"最近預覽":return s([...t].sort((n,o)=>new Date(o.updatedAt).getTime()-new Date(n.updatedAt).getTime()));case"最新":return s([...t].sort((n,o)=>new Date(n.createdAt).getTime()-new Date(o.createdAt).getTime()));case"最舊":return s([...t].sort((n,o)=>new Date(o.createdAt).getTime()-new Date(n.createdAt).getTime()))}},bordered:!1,options:[{value:"最近預覽",label:"最近預覽"},{value:"最新",label:"最新"},{value:"最舊",label:"最舊"},{value:"A-Z字母排序",label:"A-Z字母排序"},{value:"Z-A字母排序",label:"Z-A字母排序"}]})})]}),e(h,{style:{marginTop:"16px",columnGap:"8px",rowGap:"24px"},children:t==null?void 0:t.map(c=>e(j,{title:c.name,permission:c.permission,backgroundImage:c.image,boardId:c._id},c._id))})]})};export{G as default};
