import{r as u,al as m,am as i,an as f,ag as e,ar as g,c9 as b,bq as C,ca as k,az as h,aA as c,cb as w,aT as x,bU as y,cc as A,bZ as S,cd as v,ce as T,aQ as W,cf as D,S as P}from"./index-bda3b61f.js";const Z=({boardId:d})=>{const[p,r]=u.useState(!1),a=m();return i(f,{children:[e(g,{type:"text",onClick:t=>{t.stopPropagation()},children:"分享看板"}),e(g,{danger:!0,type:"text",loading:p,onClick:t=>{t.stopPropagation(),r(!0),a(b(d)).finally(()=>{r(!1)})},children:"刪除看板"}),e("div",{style:{color:"red"}})]})},j=({title:d,permission:p,backgroundImage:r,boardId:a})=>{const t=C();return i(k,{hoverable:!0,"background-image":`${r}`,onClick:()=>{t(`/board/${a}`)},children:[e(h,{style:{marginBottom:"auto"},children:e(c,{style:{fontWeight:700,fontSize:"18px",lineHeight:"150%"},children:d})}),i(h,{justify:"space-between",align:"middle",children:[e(c,{children:e(w,{permission:p,id:a})}),e(c,{children:e(x,{trigger:"click",placement:"bottomRight",arrow:!1,content:e(Z,{boardId:a}),children:e(g,{icon:e(y,{}),type:"text",style:{color:"white"},onClick:s=>{s.stopPropagation()}})})})]})]})},H=()=>{const d=m(),[p,r]=u.useState(!1),a=A(),[t,s]=u.useState(a==null?void 0:a.board);return u.useEffect(()=>{s(a==null?void 0:a.board)},[a]),u.useEffect(()=>{d(S(!0))}),i(v,{children:[i(h,{align:"middle",justify:"space-between",children:[e(T,{}),i(c,{children:[e(g,{icon:e(W,{}),style:{backgroundColor:"#232323",color:"white",width:"121px",height:"45px"},onClick:()=>r(!0),children:"新增看板"}),e(D,{open:p,setOpen:r})]})]}),i(h,{align:"middle",justify:"space-between",style:{marginTop:"16px"},children:[e(c,{style:{fontWeight:700,fontSize:"16px",lineHeight:"150%"},children:"我的看板"}),e(c,{children:e(P,{defaultValue:"排序方式",style:{fontSize:"14px"},onChange:l=>{switch(l){case"A-Z字母排序":return s([...t].sort((n,o)=>n.name.localeCompare(o.name)));case"Z-A字母排序":return s([...t].sort((n,o)=>o.name.localeCompare(n.name)));case"最近預覽":return s([...t].sort((n,o)=>new Date(o.updatedAt).getTime()-new Date(n.updatedAt).getTime()));case"最新":return s([...t].sort((n,o)=>new Date(n.createdAt).getTime()-new Date(o.createdAt).getTime()));case"最舊":return s([...t].sort((n,o)=>new Date(o.createdAt).getTime()-new Date(n.createdAt).getTime()))}},bordered:!1,options:[{value:"最近預覽",label:"最近預覽"},{value:"最新",label:"最新"},{value:"最舊",label:"最舊"},{value:"A-Z字母排序",label:"A-Z字母排序"},{value:"Z-A字母排序",label:"Z-A字母排序"}]})})]}),e(h,{style:{marginTop:"16px",columnGap:"8px",rowGap:"24px"},children:t==null?void 0:t.map(l=>e(j,{title:l.name,permission:l.permission,backgroundImage:l.image,boardId:l._id},l._id))})]})};export{H as default};
