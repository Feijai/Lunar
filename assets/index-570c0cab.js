import{c as Ze,g as Wt,d as je,n as Mu,r as E,_ as oe,a as Pe,b as de,e as ge,K as Ce,w as ja,i as Lu,f as Te,u as $u,h as Lt,R as Ie,j as At,k as Al,F as Ha,S as gn,G as Bu,B as Yi,T as Pt,l as Qr,m as Mr,o as Fu,p as oi,C as mn,q as qu,s as ju,t as ct,v as li,x as Gn,y as Hu,z as zu,A as Uu,D as Pl,E as Vu,H as Wu,I as Gu,J as Yu,L as Ku,M as Xu,N as Zu,O as Qu,P as Ju,Q as ed,U as un,V as td,W as nd,X as dn,Y as Tl,Z as si,$ as rd,a0 as ad,a1 as qe,a2 as id,a3 as od,a4 as Mn,a5 as ld,a6 as sd,a7 as cd,a8 as ud,a9 as ht,aa as Ki,ab as _l,ac as dd,ad as fd,ae as hd,af as pd,ag as w,ah as Jr,ai as ke,aj as vd,ak as ye,al as we,am as Z,an as Fe,ao as Qe,ap as Yn,aq as Ue,ar as le,as as gd,at as md,au as fn,av as Rl,aw as Ml,ax as yd,ay as bd,az as Be,aA as xe,aB as xd,aC as Mt,aD as nr,aE as be,aF as Ll,aG as nn,aH as $t,aI as pt,aJ as ci,aK as Cd,aL as wd,aM as ui,aN as Ot,aO as $l,aP as di,aQ as Bl,aR as Sd,aS as Ed,aT as st,aU as Ut,aV as Od,aW as Fl,aX as Kn,aY as rn,aZ as Id,a_ as Nd,a$ as ql,b0 as Dd,b1 as kd,b2 as ot,b3 as fi,b4 as hi,b5 as jl,b6 as Hl,b7 as zl,b8 as Ad,b9 as Pd,ba as Td,bb as Ul,bc as _d,bd as Vl,be as Rd,bf as Wl,bg as Md,bh as Lr,bi as Xi,bj as Zi,bk as Ld,bl as $d,bm as Bd,bn as Fd,bo as qd,bp as Qi,bq as jd,br as Hd,bs as zd,bt as Ud,bu as Vd,bv as Wd,bw as Gl,bx as Gd,by as Yd,bz as za,bA as $r,bB as Kd,bC as Xd,bD as Zd,bE as Qd,bF as Jd,bG as ef,bH as tf,bI as nf,bJ as rf,bK as Yl,bL as af,bM as Kl,bN as of,bO as lf,bP as sf,bQ as cf,bR as uf,bS as Ca,bT as df,bU as Pr,bV as ff,bW as pi,bX as hf,bY as pf,bZ as vf,b_ as Xl,b$ as gf,c0 as Ji,c1 as mf,c2 as yf,c3 as bf,c4 as xf}from"./index-82a00655.js";var Zl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){return function(n,r){r.prototype.weekday=function(a){var i=this.$locale().weekStart||0,o=this.$W,s=(o<i?o+7:o)-i;return this.$utils().u(a)?s:this.subtract(s,"day").add(a,"day")}}})})(Zl);var Cf=Zl.exports;const wf=Wt(Cf);var Ql={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){return function(n,r,a){var i=r.prototype,o=function(c){return c&&(c.indexOf?c:c.s)},s=function(c,l,u,p,v){var m=c.name?c:c.$locale(),g=o(m[l]),b=o(m[u]),x=g||b.map(function(C){return C.slice(0,p)});if(!v)return x;var y=m.weekStart;return x.map(function(C,D){return x[(D+(y||0))%7]})},d=function(){return a.Ls[a.locale()]},f=function(c,l){return c.formats[l]||function(u){return u.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,m){return v||m.slice(1)})}(c.formats[l.toUpperCase()])},h=function(){var c=this;return{months:function(l){return l?l.format("MMMM"):s(c,"months")},monthsShort:function(l){return l?l.format("MMM"):s(c,"monthsShort","months",3)},firstDayOfWeek:function(){return c.$locale().weekStart||0},weekdays:function(l){return l?l.format("dddd"):s(c,"weekdays")},weekdaysMin:function(l){return l?l.format("dd"):s(c,"weekdaysMin","weekdays",2)},weekdaysShort:function(l){return l?l.format("ddd"):s(c,"weekdaysShort","weekdays",3)},longDateFormat:function(l){return f(c.$locale(),l)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return h.bind(this)()},a.localeData=function(){var c=d();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(l){return f(c,l)},meridiem:c.meridiem,ordinal:c.ordinal}},a.months=function(){return s(d(),"months")},a.monthsShort=function(){return s(d(),"monthsShort","months",3)},a.weekdays=function(c){return s(d(),"weekdays",null,null,c)},a.weekdaysShort=function(c){return s(d(),"weekdaysShort","weekdays",3,c)},a.weekdaysMin=function(c){return s(d(),"weekdaysMin","weekdays",2,c)}}})})(Ql);var Sf=Ql.exports;const Ef=Wt(Sf);var Jl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){var n="week",r="year";return function(a,i,o){var s=i.prototype;s.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=o(this).startOf(r).add(1,r).date(f),c=o(this).endOf(n);if(h.isBefore(c))return 1}var l=o(this).startOf(r).date(f).startOf(n).subtract(1,"millisecond"),u=this.diff(l,n,!0);return u<0?o(this).startOf("week").week():Math.ceil(u)},s.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}})})(Jl);var Of=Jl.exports;const If=Wt(Of);var es={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),i=this.week(),o=this.year();return i===1&&a===11?o+1:a===0&&i>=52?o-1:o}}})})(es);var Nf=es.exports;const Df=Wt(Nf);var ts={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){return function(n,r){var a=r.prototype,i=a.format;a.format=function(o){var s=this,d=this.$locale();if(!this.isValid())return i.bind(this)(o);var f=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(c){switch(c){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return d.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return d.ordinal(s.week(),"W");case"w":case"ww":return f.s(s.week(),c==="w"?1:2,"0");case"W":case"WW":return f.s(s.isoWeek(),c==="W"?1:2,"0");case"k":case"kk":return f.s(String(s.$H===0?24:s.$H),c==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return c}});return i.bind(this)(h)}}})})(ts);var kf=ts.exports;const Af=Wt(kf);var ns={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ze,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},d=function(v){return(v=+v)+(v>68?1900:2e3)},f=function(v){return function(m){this[v]=+m}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var g=m.match(/([+-]|\d\d)/g),b=60*g[1]+(+g[2]||0);return b===0?0:g[0]==="+"?-b:b}(v)}],c=function(v){var m=s[v];return m&&(m.indexOf?m:m.s.concat(m.f))},l=function(v,m){var g,b=s.meridiem;if(b){for(var x=1;x<=24;x+=1)if(v.indexOf(b(x,0,m))>-1){g=x>12;break}}else g=v===(m?"pm":"PM");return g},u={A:[o,function(v){this.afternoon=l(v,!1)}],a:[o,function(v){this.afternoon=l(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[i,f("seconds")],ss:[i,f("seconds")],m:[i,f("minutes")],mm:[i,f("minutes")],H:[i,f("hours")],h:[i,f("hours")],HH:[i,f("hours")],hh:[i,f("hours")],D:[i,f("day")],DD:[a,f("day")],Do:[o,function(v){var m=s.ordinal,g=v.match(/\d+/);if(this.day=g[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===v&&(this.day=b)}],M:[i,f("month")],MM:[a,f("month")],MMM:[o,function(v){var m=c("months"),g=(c("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(v)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(v){var m=c("months").indexOf(v)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,f("year")],YY:[a,function(v){this.year=d(v)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function p(v){var m,g;m=v,g=s&&s.formats;for(var b=(v=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,N,S){var A=S&&S.toUpperCase();return N||g[S]||n[S]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,_,L){return _||L.slice(1)})})).match(r),x=b.length,y=0;y<x;y+=1){var C=b[y],D=u[C],O=D&&D[0],I=D&&D[1];b[y]=I?{regex:O,parser:I}:C.replace(/^\[|\]$/g,"")}return function(k){for(var N={},S=0,A=0;S<x;S+=1){var P=b[S];if(typeof P=="string")A+=P.length;else{var _=P.regex,L=P.parser,q=k.slice(A),j=_.exec(q)[0];L.call(N,j),k=k.replace(j,"")}}return function(Y){var B=Y.afternoon;if(B!==void 0){var $=Y.hours;B?$<12&&(Y.hours+=12):$===12&&(Y.hours=0),delete Y.afternoon}}(N),N}}return function(v,m,g){g.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(d=v.parseTwoDigitYear);var b=m.prototype,x=b.parse;b.parse=function(y){var C=y.date,D=y.utc,O=y.args;this.$u=D;var I=O[1];if(typeof I=="string"){var k=O[2]===!0,N=O[3]===!0,S=k||N,A=O[2];N&&(A=O[2]),s=this.$locale(),!k&&A&&(s=g.Ls[A]),this.$d=function(q,j,Y){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*q);var B=p(j)(q),$=B.year,T=B.month,R=B.day,F=B.hours,U=B.minutes,z=B.seconds,M=B.milliseconds,H=B.zone,W=new Date,V=R||($||T?1:W.getDate()),G=$||W.getFullYear(),te=0;$&&!T||(te=T>0?T-1:W.getMonth());var Q=F||0,ae=U||0,ee=z||0,re=M||0;return H?new Date(Date.UTC(G,te,V,Q,ae,ee,re+60*H.offset*1e3)):Y?new Date(Date.UTC(G,te,V,Q,ae,ee,re)):new Date(G,te,V,Q,ae,ee,re)}catch{return new Date("")}}(C,I,D),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),S&&C!=this.format(I)&&(this.$d=new Date("")),s={}}else if(I instanceof Array)for(var P=I.length,_=1;_<=P;_+=1){O[1]=I[_-1];var L=g.apply(this,O);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}_===P&&(this.$d=new Date(""))}else x.call(this,y)}}})})(ns);var Pf=ns.exports;const Tf=Wt(Pf);je.extend(Tf);je.extend(Af);je.extend(wf);je.extend(Ef);je.extend(If);je.extend(Df);je.extend(function(e,t){var n=t.prototype,r=n.format;n.format=function(i){var o=(i||"").replace("Wo","wo");return r.bind(this)(o)}});var _f={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Xt=function(t){var n=_f[t];return n||t.split("_")[0]},eo=function(){Mu(!1,"Not match any format. Please help to fire a issue about this.")},Rf={getNow:function(){return je()},getFixedDate:function(t){return je(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var n=t.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},addYear:function(t,n){return t.add(n,"year")},addMonth:function(t,n){return t.add(n,"month")},addDate:function(t,n){return t.add(n,"day")},setYear:function(t,n){return t.year(n)},setMonth:function(t,n){return t.month(n)},setDate:function(t,n){return t.date(n)},setHour:function(t,n){return t.hour(n)},setMinute:function(t,n){return t.minute(n)},setSecond:function(t,n){return t.second(n)},isAfter:function(t,n){return t.isAfter(n)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return je().locale(Xt(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,n){return n.locale(Xt(t)).weekday(0)},getWeek:function(t,n){return n.locale(Xt(t)).week()},getShortWeekDays:function(t){return je().locale(Xt(t)).localeData().weekdaysMin()},getShortMonths:function(t){return je().locale(Xt(t)).localeData().monthsShort()},format:function(t,n,r){return n.locale(Xt(t)).format(r)},parse:function(t,n,r){for(var a=Xt(t),i=0;i<r.length;i+=1){var o=r[i],s=n;if(o.includes("wo")||o.includes("Wo")){for(var d=s.split("-")[0],f=s.split("-")[1],h=je(d,"YYYY").startOf("year").locale(a),c=0;c<=52;c+=1){var l=h.add(c,"week");if(l.format("Wo")===f)return l}return eo(),null}var u=je(s,o,!0).locale(a);if(u.isValid())return u}return n&&eo(),null}}},bt=E.createContext({}),Cr={visibility:"hidden"};function yn(e){var t=e.prefixCls,n=e.prevIcon,r=n===void 0?"‹":n,a=e.nextIcon,i=a===void 0?"›":a,o=e.superPrevIcon,s=o===void 0?"«":o,d=e.superNextIcon,f=d===void 0?"»":d,h=e.onSuperPrev,c=e.onSuperNext,l=e.onPrev,u=e.onNext,p=e.children,v=E.useContext(bt),m=v.hideNextBtn,g=v.hidePrevBtn;return E.createElement("div",{className:t},h&&E.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:g?Cr:{}},s),l&&E.createElement("button",{type:"button",onClick:l,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:g?Cr:{}},r),E.createElement("div",{className:"".concat(t,"-view")},p),u&&E.createElement("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(t,"-next-btn"),style:m?Cr:{}},i),c&&E.createElement("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:m?Cr:{}},f))}function Mf(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,a=e.onPrevDecades,i=e.onNextDecades,o=E.useContext(bt),s=o.hideHeader;if(s)return null;var d="".concat(t,"-header"),f=n.getYear(r),h=Math.floor(f/Rt)*Rt,c=h+Rt-1;return E.createElement(yn,oe({},e,{prefixCls:d,onSuperPrev:a,onSuperNext:i}),h,"-",c)}function rs(e,t,n,r,a){var i=e.setHour(t,n);return i=e.setMinute(i,r),i=e.setSecond(i,a),i}function as(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n)),r}function Lf(e,t,n,r,a,i){var o=Math.floor(e/r)*r;if(o<e)return[o,60-a,60-i];var s=Math.floor(t/a)*a;if(s<t)return[o,s,60-i];var d=Math.floor(n/i)*i;return[o,s,d]}function $f(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,a=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),i=e.getDate(a),o=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(o,"-").concat(i)}function rr(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,a=e.picker,i=e.rowNum,o=e.colNum,s=e.prefixColumn,d=e.rowClassName,f=e.baseDate,h=e.getCellClassName,c=e.getCellText,l=e.getCellNode,u=e.getCellDate,p=e.generateConfig,v=e.titleCell,m=e.headerCells,g=E.useContext(bt),b=g.onDateMouseEnter,x=g.onDateMouseLeave,y=g.mode,C="".concat(t,"-cell"),D=[],O=0;O<i;O+=1){for(var I=[],k=void 0,N=function(){var P,_=O*o+S,L=u(f,_),q=Fr({cellDate:L,mode:y,disabledDate:n,generateConfig:p});S===0&&(k=L,s&&I.push(s(k)));var j=v&&v(L),Y=E.createElement("div",{className:"".concat(C,"-inner")},c(L));I.push(E.createElement("td",{key:S,title:j,className:Pe(C,de((P={},ge(P,"".concat(C,"-disabled"),q),ge(P,"".concat(C,"-start"),c(L)===1||a==="year"&&Number(j)%10===0),ge(P,"".concat(C,"-end"),j===$f(p,L)||a==="year"&&Number(j)%10===9),P),h(L))),onClick:function(){q||r(L)},onMouseEnter:function(){!q&&b&&b(L)},onMouseLeave:function(){!q&&x&&x(L)}},l?l(L,Y):Y))},S=0;S<o;S+=1)N();D.push(E.createElement("tr",{key:O,className:d&&d(k)},I))}return E.createElement("div",{className:"".concat(t,"-body")},E.createElement("table",{className:"".concat(t,"-content")},m&&E.createElement("thead",null,E.createElement("tr",null,m)),E.createElement("tbody",null,D)))}var Ua=3,to=4;function Bf(e){var t=wt-1,n=e.prefixCls,r=e.viewDate,a=e.generateConfig,i=e.cellRender,o=e.locale,s="".concat(n,"-cell"),d=a.getYear(r),f=Math.floor(d/wt)*wt,h=Math.floor(d/Rt)*Rt,c=h+Rt-1,l=a.setYear(r,h-Math.ceil((Ua*to*wt-Rt)/2)),u=function(m){var g,b=a.getYear(m),x=b+t;return g={},ge(g,"".concat(s,"-in-view"),h<=b&&x<=c),ge(g,"".concat(s,"-selected"),b===f),g},p=i?function(v,m){return i(v,{originNode:m,today:a.getNow(),type:"decade",locale:o})}:void 0;return E.createElement(rr,oe({},e,{rowNum:to,colNum:Ua,baseDate:l,getCellNode:p,getCellText:function(m){var g=a.getYear(m);return"".concat(g,"-").concat(g+t)},getCellClassName:u,getCellDate:function(m,g){return a.addYear(m,g*wt)}}))}var wr=new Map;function Ff(e,t){var n;function r(){Lu(e)?t():n=ja(function(){r()})}return r(),function(){ja.cancel(n)}}function Va(e,t,n){if(wr.get(e)&&cancelAnimationFrame(wr.get(e)),n<=0){wr.set(e,requestAnimationFrame(function(){e.scrollTop=t}));return}var r=t-e.scrollTop,a=r/n*10;wr.set(e,requestAnimationFrame(function(){e.scrollTop+=a,e.scrollTop!==t&&Va(e,t,n-10)}))}function bn(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,a=t.onUpDown,i=t.onPageUpDown,o=t.onEnter,s=e.which,d=e.ctrlKey,f=e.metaKey;switch(s){case Ce.LEFT:if(d||f){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case Ce.RIGHT:if(d||f){if(r)return r(1),!0}else if(n)return n(1),!0;break;case Ce.UP:if(a)return a(-1),!0;break;case Ce.DOWN:if(a)return a(1),!0;break;case Ce.PAGE_UP:if(i)return i(-1),!0;break;case Ce.PAGE_DOWN:if(i)return i(1),!0;break;case Ce.ENTER:if(o)return o(),!0;break}return!1}var qf=function(t){return t==="month"||t==="date"?"year":t},jf=function(t){return t==="date"?"month":t},Hf=function(t){return t==="month"||t==="date"?"quarter":t},zf=function(t){return t==="date"?"week":t},Uf={year:qf,month:jf,quarter:Hf,week:zf,time:null,date:null},wt=10,Rt=wt*10;function Vf(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,a=e.viewDate,i=e.operationRef,o=e.onSelect,s=e.onPanelChange,d="".concat(t,"-decade-panel");i.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(p){o(r.addYear(a,p*wt),"key")},onCtrlLeftRight:function(p){o(r.addYear(a,p*Rt),"key")},onUpDown:function(p){o(r.addYear(a,p*wt*Ua),"key")},onEnter:function(){s("year",a)}})}};var f=function(l){var u=r.addYear(a,l*Rt);n(u),s(null,u)},h=function(l){o(l,"mouse"),s("year",l)};return E.createElement("div",{className:d},E.createElement(Mf,oe({},e,{prefixCls:t,onPrevDecades:function(){f(-1)},onNextDecades:function(){f(1)}})),E.createElement(Bf,oe({},e,{prefixCls:t,onSelect:h})))}var Un=7;function xn(e,t){if(!e&&!t)return!0;if(!e||!t)return!1}function vi(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getYear(t)===e.getYear(n)}function no(e,t){var n=Math.floor(e.getMonth(t)/3);return n+1}function Wf(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:vi(e,t,n)&&no(e,t)===no(e,n)}function is(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:vi(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function Br(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function Gf(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}function wa(e,t,n,r){var a=xn(n,r);return typeof a=="boolean"?a:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function ro(e,t,n){return Br(e,t,n)&&Gf(e,t,n)}function Hn(e,t,n,r){return!t||!n||!r?!1:!Br(e,t,r)&&!Br(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r)}function Yf(e,t,n){var r=t.locale.getWeekFirstDay(e),a=t.setDate(n,1),i=t.getWeekDay(a),o=t.addDate(a,r-i);return t.getMonth(o)===t.getMonth(n)&&t.getDate(o)>1&&(o=t.addDate(o,-7)),o}function It(e,t){var n=t.generateConfig,r=t.locale,a=t.format;return typeof a=="function"?a(e):n.locale.format(r.locale,e,a)}function Fr(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,a=e.generateConfig;if(!r)return!1;var i=function(p,v,m){for(var g=v;g<=m;){var b=void 0;switch(p){case"date":{if(b=a.setDate(t,g),!r(b))return!1;break}case"month":{if(b=a.setMonth(t,g),!Fr({cellDate:b,mode:"month",generateConfig:a,disabledDate:r}))return!1;break}case"year":{if(b=a.setYear(t,g),!Fr({cellDate:b,mode:"year",generateConfig:a,disabledDate:r}))return!1;break}}g+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":{var o=1,s=a.getDate(a.getEndDate(t));return i("date",o,s)}case"quarter":{var d=Math.floor(a.getMonth(t)/3)*3,f=d+2;return i("month",d,f)}case"year":return i("month",0,11);case"decade":{var h=a.getYear(t),c=Math.floor(h/wt)*wt,l=c+wt-1;return i("year",c,l)}}}function os(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}var Kf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};function Sr(e,t){return e?e[t]:null}function ea(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,a=e.hoverRangedValue,i=e.isInView,o=e.isSameCell,s=e.offsetCell,d=e.today,f=e.value;function h(c){var l,u=s(c,-1),p=s(c,1),v=Sr(r,0),m=Sr(r,1),g=Sr(a,0),b=Sr(a,1),x=Hn(n,g,b,c);function y(N){return o(v,N)}function C(N){return o(m,N)}var D=o(g,c),O=o(b,c),I=(x||O)&&(!i(u)||C(u)),k=(x||D)&&(!i(p)||y(p));return l={},ge(l,"".concat(t,"-in-view"),i(c)),ge(l,"".concat(t,"-in-range"),Hn(n,v,m,c)),ge(l,"".concat(t,"-range-start"),y(c)),ge(l,"".concat(t,"-range-end"),C(c)),ge(l,"".concat(t,"-range-start-single"),y(c)&&!m),ge(l,"".concat(t,"-range-end-single"),C(c)&&!v),ge(l,"".concat(t,"-range-start-near-hover"),y(c)&&(o(u,g)||Hn(n,g,b,u))),ge(l,"".concat(t,"-range-end-near-hover"),C(c)&&(o(p,b)||Hn(n,g,b,p))),ge(l,"".concat(t,"-range-hover"),x),ge(l,"".concat(t,"-range-hover-start"),D),ge(l,"".concat(t,"-range-hover-end"),O),ge(l,"".concat(t,"-range-hover-edge-start"),I),ge(l,"".concat(t,"-range-hover-edge-end"),k),ge(l,"".concat(t,"-range-hover-edge-start-near-range"),I&&o(u,m)),ge(l,"".concat(t,"-range-hover-edge-end-near-range"),k&&o(p,v)),ge(l,"".concat(t,"-today"),o(d,c)),ge(l,"".concat(t,"-selected"),o(f,c)),l}return h}var Cn=E.createContext({});function Xf(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,a=e.locale,i=e.rowCount,o=e.viewDate,s=e.value,d=e.cellRender,f=e.isSameCell,h=E.useContext(Cn),c=h.rangedValue,l=h.hoverRangedValue,u=Yf(a.locale,n,o),p="".concat(t,"-cell"),v=n.locale.getWeekFirstDay(a.locale),m=n.getNow(),g=[],b=a.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(a.locale):[]);r&&g.push(E.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var x=0;x<Un;x+=1)g.push(E.createElement("th",{key:x},b[(x+v)%Un]));var y=ea({cellPrefixCls:p,today:m,value:s,generateConfig:n,rangedValue:r?null:c,hoverRangedValue:r?null:l,isSameCell:f||function(D,O){return Br(n,D,O)},isInView:function(O){return is(n,O,o)},offsetCell:function(O,I){return n.addDate(O,I)}}),C=d?function(D,O){return d(D,{originNode:O,today:m,type:"date",locale:a})}:void 0;return E.createElement(rr,oe({},e,{rowNum:i,colNum:Un,baseDate:u,getCellNode:C,getCellText:n.getDate,getCellClassName:y,getCellDate:n.addDate,titleCell:function(O){return It(O,{locale:a,format:"YYYY-MM-DD",generateConfig:n})},headerCells:g}))}function Zf(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextMonth,o=e.onPrevMonth,s=e.onNextYear,d=e.onPrevYear,f=e.onYearClick,h=e.onMonthClick,c=E.useContext(bt),l=c.hideHeader;if(l)return null;var u="".concat(t,"-header"),p=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),v=n.getMonth(a),m=E.createElement("button",{type:"button",key:"year",onClick:f,tabIndex:-1,className:"".concat(t,"-year-btn")},It(a,{locale:r,format:r.yearFormat,generateConfig:n})),g=E.createElement("button",{type:"button",key:"month",onClick:h,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?It(a,{locale:r,format:r.monthFormat,generateConfig:n}):p[v]),b=r.monthBeforeYear?[g,m]:[m,g];return E.createElement(yn,oe({},e,{prefixCls:u,onSuperPrev:d,onPrev:o,onNext:i,onSuperNext:s}),b)}var Qf=6;function gi(e){var t=e.prefixCls,n=e.panelName,r=n===void 0?"date":n,a=e.keyboardConfig,i=e.active,o=e.operationRef,s=e.generateConfig,d=e.value,f=e.viewDate,h=e.onViewDateChange,c=e.onPanelChange,l=e.onSelect,u="".concat(t,"-").concat(r,"-panel");o.current={onKeyDown:function(g){return bn(g,de({onLeftRight:function(x){l(s.addDate(d||f,x),"key")},onCtrlLeftRight:function(x){l(s.addYear(d||f,x),"key")},onUpDown:function(x){l(s.addDate(d||f,x*Un),"key")},onPageUpDown:function(x){l(s.addMonth(d||f,x),"key")}},a))}};var p=function(g){var b=s.addYear(f,g);h(b),c(null,b)},v=function(g){var b=s.addMonth(f,g);h(b),c(null,b)};return E.createElement("div",{className:Pe(u,ge({},"".concat(u,"-active"),i))},E.createElement(Zf,oe({},e,{prefixCls:t,value:d,viewDate:f,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){v(-1)},onNextMonth:function(){v(1)},onMonthClick:function(){c("month",f)},onYearClick:function(){c("year",f)}})),E.createElement(Xf,oe({},e,{onSelect:function(g){return l(g,"mouse")},prefixCls:t,value:d,viewDate:f,rowCount:Qf})))}function Jf(e){var t=E.useContext(bt),n=t.hideHeader;if(n)return null;var r=e.prefixCls,a=e.generateConfig,i=e.locale,o=e.value,s=e.format,d="".concat(r,"-header");return E.createElement(yn,{prefixCls:d},o?It(o,{locale:i,format:s,generateConfig:a}):" ")}function Er(e){var t=e.prefixCls,n=e.units,r=e.onSelect,a=e.value,i=e.active,o=e.hideDisabledOptions,s=e.info,d=e.type,f="".concat(t,"-cell"),h=E.useContext(bt),c=h.open,l=E.useRef(null),u=E.useRef(new Map),p=E.useRef();return E.useLayoutEffect(function(){var v=u.current.get(a);v&&c!==!1&&Va(l.current,v.offsetTop,120)},[a]),E.useLayoutEffect(function(){if(c){var v=u.current.get(a);v&&(p.current=Ff(v,function(){Va(l.current,v.offsetTop,0)}))}return function(){var m;(m=p.current)===null||m===void 0||m.call(p)}},[c]),E.createElement("ul",{className:Pe("".concat(t,"-column"),ge({},"".concat(t,"-column-active"),i)),ref:l,style:{position:"relative"}},n.map(function(v){var m;return o&&v.disabled?null:E.createElement("li",{key:v.value,ref:function(b){u.current.set(v.value,b)},className:Pe(f,(m={},ge(m,"".concat(f,"-disabled"),v.disabled),ge(m,"".concat(f,"-selected"),a===v.value),m)),onClick:function(){v.disabled||r(v.value)}},s.cellRender?s.cellRender(v.value,{today:s.today,locale:s.locale,originNode:E.createElement("div",{className:"".concat(f,"-inner")},v.label),type:"time",subType:d}):E.createElement("div",{className:"".concat(f,"-inner")},v.label))}))}function eh(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function Sa(e,t,n,r){for(var a=[],i=n>=1?n|0:1,o=e;o<=t;o+=i)a.push({label:os(o,2),value:o,disabled:(r||[]).includes(o)});return a}function th(e){var t=e.generateConfig,n=e.prefixCls,r=e.operationRef,a=e.activeColumnIndex,i=e.value,o=e.showHour,s=e.showMinute,d=e.showSecond,f=e.use12Hours,h=e.hourStep,c=h===void 0?1:h,l=e.minuteStep,u=l===void 0?1:l,p=e.secondStep,v=p===void 0?1:p,m=e.disabledHours,g=e.disabledMinutes,b=e.disabledSeconds,x=e.disabledTime,y=e.hideDisabledOptions,C=e.onSelect,D=e.cellRender,O=e.locale,I=[],k="".concat(n,"-content"),N="".concat(n,"-time-panel"),S,A=i?t.getHour(i):-1,P=A,_=i?t.getMinute(i):-1,L=i?t.getSecond(i):-1,q=t.getNow(),j=E.useMemo(function(){if(x){var ee=x(q);return[ee.disabledHours,ee.disabledMinutes,ee.disabledSeconds]}return[m,g,b]},[m,g,b,x,q]),Y=Te(j,3),B=Y[0],$=Y[1],T=Y[2],R=function(re,fe,he,K){var X=i||t.getNow(),ne=Math.max(0,fe),ie=Math.max(0,he),J=Math.max(0,K);return X=rs(t,X,!f||!re?ne:ne+12,ie,J),X},F=Sa(0,23,c,B&&B()),U=$u(function(){return F},F,eh);f&&(S=P>=12,P%=12);var z=E.useMemo(function(){if(!f)return[!1,!1];var ee=[!0,!0];return U.forEach(function(re){var fe=re.disabled,he=re.value;fe||(he>=12?ee[1]=!1:ee[0]=!1)}),ee},[f,U]),M=Te(z,2),H=M[0],W=M[1],V=E.useMemo(function(){return f?U.filter(S?function(ee){return ee.value>=12}:function(ee){return ee.value<12}).map(function(ee){var re=ee.value%12,fe=re===0?"12":os(re,2);return de(de({},ee),{},{label:fe,value:re})}):U},[f,S,U]),G=Sa(0,59,u,$&&$(A)),te=Sa(0,59,v,T&&T(A,_));r.current={onUpDown:function(re){var fe=I[a];if(fe)for(var he=fe.units.findIndex(function(ie){return ie.value===fe.value}),K=fe.units.length,X=1;X<K;X+=1){var ne=fe.units[(he+re*X+K)%K];if(ne.disabled!==!0){fe.onSelect(ne.value);break}}}};function Q(ee,re,fe,he,K){ee!==!1&&I.push({node:E.cloneElement(re,{prefixCls:N,value:fe,active:a===I.length,onSelect:K,units:he,hideDisabledOptions:y}),onSelect:K,value:fe,units:he})}Q(o,E.createElement(Er,{key:"hour",type:"hour",info:{today:q,locale:O,cellRender:D}}),P,V,function(ee){C(R(S,ee,_,L),"mouse")}),Q(s,E.createElement(Er,{key:"minute",type:"minute",info:{today:q,locale:O,cellRender:D}}),_,G,function(ee){C(R(S,P,ee,L),"mouse")}),Q(d,E.createElement(Er,{key:"second",type:"second",info:{today:q,locale:O,cellRender:D}}),L,te,function(ee){C(R(S,P,_,ee),"mouse")});var ae=-1;return typeof S=="boolean"&&(ae=S?1:0),Q(f===!0,E.createElement(Er,{key:"meridiem",type:"meridiem",info:{today:q,locale:O,cellRender:D}}),ae,[{label:"AM",value:0,disabled:H},{label:"PM",value:1,disabled:W}],function(ee){C(R(!!ee,P,_,L),"mouse")}),E.createElement("div",{className:k},I.map(function(ee){var re=ee.node;return re}))}var nh=function(t){return t.filter(function(n){return n!==!1}).length};function ls(e){var t=e.generateConfig,n=e.format,r=n===void 0?"HH:mm:ss":n,a=e.prefixCls,i=e.active,o=e.operationRef,s=e.showHour,d=e.showMinute,f=e.showSecond,h=e.use12Hours,c=h===void 0?!1:h,l=e.onSelect,u=e.value,p="".concat(a,"-time-panel"),v=E.useRef(),m=E.useState(-1),g=Te(m,2),b=g[0],x=g[1],y=nh([s,d,f,c]);return o.current={onKeyDown:function(D){return bn(D,{onLeftRight:function(I){x((b+I+y)%y)},onUpDown:function(I){b===-1?x(0):v.current&&v.current.onUpDown(I)},onEnter:function(){l(u||t.getNow(),"key"),x(-1)}})},onBlur:function(){x(-1)}},E.createElement("div",{className:Pe(p,ge({},"".concat(p,"-active"),i))},E.createElement(Jf,oe({},e,{format:r,prefixCls:a})),E.createElement(th,oe({},e,{prefixCls:a,activeColumnIndex:b,operationRef:v})))}var ao=Kf("date","time");function rh(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,a=e.value,i=e.defaultValue,o=e.disabledTime,s=e.showTime,d=e.onSelect,f=e.cellRender,h="".concat(t,"-datetime-panel"),c=E.useState(null),l=Te(c,2),u=l[0],p=l[1],v=E.useRef({}),m=E.useRef({}),g=Lt(s)==="object"?de({},s):{};function b(D){var O=ao.indexOf(u)+D,I=ao[O]||null;return I}var x=function(O){m.current.onBlur&&m.current.onBlur(O),p(null)};n.current={onKeyDown:function(O){if(O.which===Ce.TAB){var I=b(O.shiftKey?-1:1);return p(I),I&&O.preventDefault(),!0}if(u){var k=u==="date"?v:m;return k.current&&k.current.onKeyDown&&k.current.onKeyDown(O),!0}return[Ce.LEFT,Ce.RIGHT,Ce.UP,Ce.DOWN].includes(O.which)?(p("date"),!0):!1},onBlur:x,onClose:x};var y=function(O,I){var k=O;I==="date"&&!a&&g.defaultValue?(k=r.setHour(k,r.getHour(g.defaultValue)),k=r.setMinute(k,r.getMinute(g.defaultValue)),k=r.setSecond(k,r.getSecond(g.defaultValue))):I==="time"&&!a&&i&&(k=r.setYear(k,r.getYear(i)),k=r.setMonth(k,r.getMonth(i)),k=r.setDate(k,r.getDate(i))),d&&d(k,"mouse")},C=o?o(a||null):{};return E.createElement("div",{className:Pe(h,ge({},"".concat(h,"-active"),u))},E.createElement(gi,oe({},e,{cellRender:f,operationRef:v,active:u==="date",onSelect:function(O){y(as(r,O,!a&&Lt(s)==="object"?s.defaultValue:null),"date")}})),E.createElement(ls,oe({},e,{cellRender:f?function(D,O){return f(D,de(de({},O),{},{type:"time"}))}:void 0,format:void 0},g,C,{disabledTime:null,defaultValue:void 0,operationRef:m,active:u==="time",onSelect:function(O){y(O,"time")}})))}function ah(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextYear,o=e.onPrevYear,s=e.onYearClick,d=E.useContext(bt),f=d.hideHeader;if(f)return null;var h="".concat(t,"-header");return E.createElement(yn,oe({},e,{prefixCls:h,onSuperPrev:o,onSuperNext:i}),E.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},It(a,{locale:r,format:r.yearFormat,generateConfig:n})))}var mi=3,ih=4;function oh(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.viewDate,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=ea({cellPrefixCls:h,value:r,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(m,g){return is(i,m,g)},isInView:function(){return!0},offsetCell:function(m,g){return i.addMonth(m,g)}}),l=n.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(n.locale):[]),u=i.setMonth(a,0),p=o?function(v,m){return o(v,{originNode:m,locale:n,today:i.getNow(),type:"month"})}:void 0;return E.createElement(rr,oe({},e,{rowNum:ih,colNum:mi,baseDate:u,getCellNode:p,getCellText:function(m){return n.monthFormat?It(m,{locale:n,format:n.monthFormat,generateConfig:i}):l[i.getMonth(m)]},getCellClassName:c,getCellDate:i.addMonth,titleCell:function(m){return It(m,{locale:n,format:"YYYY-MM",generateConfig:i})}}))}function lh(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.onPanelChange,d=e.onSelect,f="".concat(t,"-month-panel");n.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(p){d(a.addMonth(i||o,p),"key")},onCtrlLeftRight:function(p){d(a.addYear(i||o,p),"key")},onUpDown:function(p){d(a.addMonth(i||o,p*mi),"key")},onEnter:function(){s("date",i||o)}})}};var h=function(l){var u=a.addYear(o,l);r(u),s(null,u)};return E.createElement("div",{className:f},E.createElement(ah,oe({},e,{prefixCls:t,onPrevYear:function(){h(-1)},onNextYear:function(){h(1)},onYearClick:function(){s("year",o)}})),E.createElement(oh,oe({},e,{prefixCls:t,onSelect:function(l){d(l,"mouse"),s("date",l)}})))}function sh(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextYear,o=e.onPrevYear,s=e.onYearClick,d=E.useContext(bt),f=d.hideHeader;if(f)return null;var h="".concat(t,"-header");return E.createElement(yn,oe({},e,{prefixCls:h,onSuperPrev:o,onSuperNext:i}),E.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},It(a,{locale:r,format:r.yearFormat,generateConfig:n})))}var ch=4,uh=1;function dh(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.viewDate,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=ea({cellPrefixCls:h,value:r,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(v,m){return Wf(i,v,m)},isInView:function(){return!0},offsetCell:function(v,m){return i.addMonth(v,m*3)}}),l=i.setDate(i.setMonth(a,0),1),u=o?function(p,v){return o(p,{originNode:v,locale:n,today:i.getNow(),type:"quarter"})}:void 0;return E.createElement(rr,oe({},e,{rowNum:uh,colNum:ch,baseDate:l,getCellNode:u,getCellText:function(v){return It(v,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:i})},getCellClassName:c,getCellDate:function(v,m){return i.addMonth(v,m*3)},titleCell:function(v){return It(v,{locale:n,format:"YYYY-[Q]Q",generateConfig:i})}}))}function fh(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.onPanelChange,d=e.onSelect,f="".concat(t,"-quarter-panel");n.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(p){d(a.addMonth(i||o,p*3),"key")},onCtrlLeftRight:function(p){d(a.addYear(i||o,p),"key")},onUpDown:function(p){d(a.addYear(i||o,p),"key")}})}};var h=function(l){var u=a.addYear(o,l);r(u),s(null,u)};return E.createElement("div",{className:f},E.createElement(sh,oe({},e,{prefixCls:t,onPrevYear:function(){h(-1)},onNextYear:function(){h(1)},onYearClick:function(){s("year",o)}})),E.createElement(dh,oe({},e,{prefixCls:t,onSelect:function(l){d(l,"mouse")}})))}function hh(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.value,i=e.disabledDate,o=e.onSelect,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h=E.useContext(bt),c=h.onDateMouseEnter,l=h.onDateMouseLeave,u=(f==null?void 0:f[0])||(d==null?void 0:d[0]),p=(f==null?void 0:f[1])||(d==null?void 0:d[1]),v="".concat(t,"-cell"),m=function(y){var C=Fr({cellDate:y,mode:"week",disabledDate:i,generateConfig:n});return E.createElement("td",{key:"week",className:Pe(v,"".concat(v,"-week")),onClick:function(){C||o(y,"mouse")},onMouseEnter:function(){!C&&c&&c(y)},onMouseLeave:function(){!C&&l&&l(y)}},E.createElement("div",{className:"".concat(v,"-inner")},n.locale.getWeek(r.locale,y)))},g="".concat(t,"-week-panel-row"),b=function(y){var C,D=wa(n,r.locale,u,y),O=wa(n,r.locale,p,y);return Pe(g,(C={},ge(C,"".concat(g,"-selected"),!d&&wa(n,r.locale,a,y)),ge(C,"".concat(g,"-range-start"),D),ge(C,"".concat(g,"-range-end"),O),ge(C,"".concat(g,"-range-hover"),!D&&!O&&Hn(n,u,p,y)),C))};return E.createElement(gi,oe({},e,{panelName:"week",prefixColumn:m,rowClassName:b,keyboardConfig:{onLeftRight:null},isSameCell:function(){return!1}}))}function ph(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,a=e.onPrevDecade,i=e.onNextDecade,o=e.onDecadeClick,s=E.useContext(bt),d=s.hideHeader;if(d)return null;var f="".concat(t,"-header"),h=n.getYear(r),c=Math.floor(h/qt)*qt,l=c+qt-1;return E.createElement(yn,oe({},e,{prefixCls:f,onSuperPrev:a,onSuperNext:i}),E.createElement("button",{type:"button",onClick:o,className:"".concat(t,"-decade-btn")},c,"-",l))}var Wa=3,io=4;function vh(e){var t=e.prefixCls,n=e.value,r=e.viewDate,a=e.locale,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=i.getYear(r),l=Math.floor(c/qt)*qt,u=l+qt-1,p=i.setYear(r,l-Math.ceil((Wa*io-qt)/2)),v=i.getNow(),m=function(y){var C=i.getYear(y);return l<=C&&C<=u},g=ea({cellPrefixCls:h,value:n,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(y,C){return vi(i,y,C)},isInView:m,offsetCell:function(y,C){return i.addYear(y,C)}}),b=o?function(x,y){return o(x,{originNode:y,today:v,type:"year",locale:a})}:void 0;return E.createElement(rr,oe({},e,{rowNum:io,colNum:Wa,baseDate:p,getCellNode:b,getCellText:i.getYear,getCellClassName:g,getCellDate:i.addYear,titleCell:function(y){return It(y,{locale:a,format:"YYYY",generateConfig:i})}}))}var qt=10;function gh(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.sourceMode,d=e.onSelect,f=e.onPanelChange,h="".concat(t,"-year-panel");n.current={onKeyDown:function(u){return bn(u,{onLeftRight:function(v){d(a.addYear(i||o,v),"key")},onCtrlLeftRight:function(v){d(a.addYear(i||o,v*qt),"key")},onUpDown:function(v){d(a.addYear(i||o,v*Wa),"key")},onEnter:function(){f(s==="date"?"date":"month",i||o)}})}};var c=function(u){var p=a.addYear(o,u*10);r(p),f(null,p)};return E.createElement("div",{className:h},E.createElement(ph,oe({},e,{prefixCls:t,onPrevDecade:function(){c(-1)},onNextDecade:function(){c(1)},onDecadeClick:function(){f("decade",o)}})),E.createElement(vh,oe({},e,{prefixCls:t,onSelect:function(u){f(s==="date"?"date":"month",u),d(u,"mouse")}})))}function mh(e,t,n){return n?E.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function yh(e){var t=e.prefixCls,n=e.components,r=n===void 0?{}:n,a=e.needConfirmButton,i=e.onNow,o=e.onOk,s=e.okDisabled,d=e.showNow,f=e.locale,h,c;if(a){var l=r.button||"button";i&&d!==!1&&(h=E.createElement("li",{className:"".concat(t,"-now")},E.createElement("a",{className:"".concat(t,"-now-btn"),onClick:i},f.now))),c=a&&E.createElement("li",{className:"".concat(t,"-ok")},E.createElement(l,{disabled:s,onClick:o},f.ok))}return!h&&!c?null:E.createElement("ul",{className:"".concat(t,"-ranges")},h,c)}function bh(e){var t=e.cellRender,n=e.monthCellRender,r=e.dateRender,a=Ie.useMemo(function(){if(t)return t;if(!(!n&&!r))return function(i,o){var s=i;return r&&o.type==="date"?r(s,o.today):n&&o.type==="month"?n(s,o.locale):o.originNode}},[t,n,r]);return a}var xh=["date","month"];function Ch(e){var t,n=e,r=n.prefixCls,a=r===void 0?"rc-picker":r,i=n.className,o=n.style,s=n.locale,d=n.generateConfig,f=n.value,h=n.defaultValue,c=n.pickerValue,l=n.defaultPickerValue,u=n.disabledDate,p=n.mode,v=n.picker,m=v===void 0?"date":v,g=n.tabIndex,b=g===void 0?0:g,x=n.showNow,y=n.showTime,C=n.showToday,D=n.renderExtraFooter,O=n.hideHeader,I=n.onSelect,k=n.onChange,N=n.onPanelChange,S=n.onMouseDown,A=n.onPickerValueChange,P=n.onOk,_=n.components,L=n.direction,q=n.hourStep,j=q===void 0?1:q,Y=n.minuteStep,B=Y===void 0?1:Y,$=n.secondStep,T=$===void 0?1:$,R=n.dateRender,F=n.monthCellRender,U=n.cellRender,z=m==="date"&&!!y||m==="time",M=24%j===0,H=60%B===0,W=60%T===0,V=E.useContext(bt),G=V.operationRef,te=V.onSelect,Q=V.hideRanges,ae=V.defaultOpenValue,ee=E.useContext(Cn),re=ee.inRange,fe=ee.panelPosition,he=ee.rangedValue,K=ee.hoverRangedValue,X=E.useRef({}),ne=E.useRef(!0),ie=At(null,{value:f,defaultValue:h,postState:function(pe){return!pe&&ae&&m==="time"?ae:pe}}),J=Te(ie,2),ue=J[0],se=J[1],ve=At(null,{value:c,defaultValue:l||ue,postState:function(pe){var Oe=d.getNow();if(!pe)return Oe;if(!ue&&y){var Xe=Lt(y)==="object"?y.defaultValue:h;return as(d,Array.isArray(pe)?pe[0]:pe,Xe||Oe)}return Array.isArray(pe)?pe[0]:pe}}),Ae=Te(ve,2),_e=Ae[0],Ee=Ae[1],$e=function(pe){Ee(pe),A&&A(pe)},Ne=function(pe){var Oe=Uf[m];return Oe?Oe(pe):pe},rt=At(function(){return m==="time"?"time":Ne("date")},{value:p}),Ft=Te(rt,2),Ve=Ft[0],lt=Ft[1];E.useEffect(function(){lt(m)},[m]);var Yt=E.useState(function(){return Ve}),Kt=Te(Yt,2),an=Kt[0],Tn=Kt[1],We=function(pe,Oe){var Xe=Ne(pe||Ve);Tn(Ve),lt(Xe),N&&(Ve!==Xe||ro(d,_e,_e))&&N(Oe,Xe)},Se=function(pe,Oe){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(Ve===m||Xe)&&(se(pe),I&&I(pe),te&&te(pe,Oe),k&&!ro(d,pe,ue)&&!(u!=null&&u(pe))&&k(pe))},Ge=function(pe){if(xh.includes(Ve)){var Oe,Xe,xa=Ve==="date";switch(pe===Ce.PAGE_UP||pe===Ce.PAGE_DOWN?Xe=xa?d.addMonth:d.addYear:Xe=xa?d.addDate:d.addMonth,pe){case Ce.LEFT:case Ce.PAGE_UP:Oe=Xe(_e,-1);break;case Ce.RIGHT:case Ce.PAGE_DOWN:Oe=Xe(_e,1);break;case Ce.UP:case Ce.DOWN:Oe=Xe(_e,Number("".concat(pe===Ce.UP?"-":"").concat(xa?Un:mi)));break}if(Oe)return!(u!=null&&u(Oe))}return!0},at=function(pe){if(X.current&&X.current.onKeyDown){var Oe=!0,Xe=pe.which;if([Ce.LEFT,Ce.RIGHT,Ce.UP,Ce.DOWN,Ce.PAGE_UP,Ce.PAGE_DOWN,Ce.ENTER].includes(Xe)&&(pe.preventDefault(),Xe!==Ce.ENTER&&b===0&&(Oe=Ge(Xe))),Oe)return X.current.onKeyDown(pe)}return Al(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1},ze=function(pe){X.current&&X.current.onBlur&&X.current.onBlur(pe)};G&&fe!=="right"&&(G.current={onKeyDown:at,onClose:function(){X.current&&X.current.onClose&&X.current.onClose()}}),E.useEffect(function(){f&&!ne.current&&Ee(f)},[f]),E.useEffect(function(){ne.current=!1},[]);var Me,vt=bh({cellRender:U,monthCellRender:F,dateRender:R}),Ke=de(de({},e),{},{cellRender:vt,operationRef:X,prefixCls:a,viewDate:_e,value:ue,onViewDateChange:$e,sourceMode:an,onPanelChange:We,disabledDate:u});switch(delete Ke.onChange,delete Ke.onSelect,Ve){case"decade":Me=E.createElement(Vf,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;case"year":Me=E.createElement(gh,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;case"month":Me=E.createElement(lh,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;case"quarter":Me=E.createElement(fh,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;case"week":Me=E.createElement(hh,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;case"time":delete Ke.showTime,Me=E.createElement(ls,oe({},Ke,Lt(y)==="object"?y:null,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}));break;default:y?Me=E.createElement(rh,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}})):Me=E.createElement(gi,oe({},Ke,{onSelect:function(pe,Oe){$e(pe),Se(pe,Oe)}}))}var Ct,on,_n=function(){var pe=d.getNow(),Oe=Lf(d.getHour(pe),d.getMinute(pe),d.getSecond(pe),M?j:1,H?B:1,W?T:1),Xe=rs(d,pe,Oe[0],Oe[1],Oe[2]);Se(Xe,"submit")};Q||(Ct=mh(a,Ve,D),on=yh({prefixCls:a,components:_,needConfirmButton:z,okDisabled:!ue||u&&u(ue),locale:s,showNow:x,onNow:z&&_n,onOk:function(){ue&&(Se(ue,"submit",!0),P&&P(ue))}}));var Rn;if(C&&Ve==="date"&&m==="date"&&!y){var br=d.getNow(),xr="".concat(a,"-today-btn"),_t=u&&u(br);Rn=E.createElement("a",{className:Pe(xr,_t&&"".concat(xr,"-disabled")),"aria-disabled":_t,onClick:function(){_t||Se(br,"mouse",!0)}},s.today)}return E.createElement(bt.Provider,{value:de(de({},V),{},{mode:Ve,hideHeader:"hideHeader"in e?O:V.hideHeader,hidePrevBtn:re&&fe==="right",hideNextBtn:re&&fe==="left"})},E.createElement("div",{tabIndex:b,className:Pe("".concat(a,"-panel"),i,(t={},ge(t,"".concat(a,"-panel-has-range"),he&&he[0]&&he[1]),ge(t,"".concat(a,"-panel-has-range-hover"),K&&K[0]&&K[1]),ge(t,"".concat(a,"-panel-rtl"),L==="rtl"),t)),style:o,onKeyDown:at,onBlur:ze,onMouseDown:S},Me,Ct||on||Rn?E.createElement("div",{className:"".concat(a,"-footer")},Ct,on,Rn):null))}const wh=10,Sh=20;function Eh(e){const{fullscreen:t,validRange:n,generateConfig:r,locale:a,prefixCls:i,value:o,onChange:s,divRef:d}=e,f=r.getYear(o||r.getNow());let h=f-wh,c=h+Sh;n&&(h=r.getYear(n[0]),c=r.getYear(n[1])+1);const l=a&&a.year==="年"?"年":"",u=[];for(let p=h;p<c;p++)u.push({label:`${p}${l}`,value:p});return E.createElement(gn,{size:t?void 0:"small",options:u,value:f,className:`${i}-year-select`,onChange:p=>{let v=r.setYear(o,p);if(n){const[m,g]=n,b=r.getYear(v),x=r.getMonth(v);b===r.getYear(g)&&x>r.getMonth(g)&&(v=r.setMonth(v,r.getMonth(g))),b===r.getYear(m)&&x<r.getMonth(m)&&(v=r.setMonth(v,r.getMonth(m)))}s(v)},getPopupContainer:()=>d.current})}function Oh(e){const{prefixCls:t,fullscreen:n,validRange:r,value:a,generateConfig:i,locale:o,onChange:s,divRef:d}=e,f=i.getMonth(a||i.getNow());let h=0,c=11;if(r){const[p,v]=r,m=i.getYear(a);i.getYear(v)===m&&(c=i.getMonth(v)),i.getYear(p)===m&&(h=i.getMonth(p))}const l=o.shortMonths||i.locale.getShortMonths(o.locale),u=[];for(let p=h;p<=c;p+=1)u.push({label:l[p],value:p});return E.createElement(gn,{size:n?void 0:"small",className:`${t}-month-select`,value:f,options:u,onChange:p=>{s(i.setMonth(a,p))},getPopupContainer:()=>d.current})}function Ih(e){const{prefixCls:t,locale:n,mode:r,fullscreen:a,onModeChange:i}=e;return E.createElement(Bu,{onChange:o=>{let{target:{value:s}}=o;i(s)},value:r,size:a?void 0:"small",className:`${t}-mode-switch`},E.createElement(Yi,{value:"month"},n.month),E.createElement(Yi,{value:"year"},n.year))}function Nh(e){const{prefixCls:t,fullscreen:n,mode:r,onChange:a,onModeChange:i}=e,o=E.useRef(null),s=E.useContext(Ha),d=E.useMemo(()=>Object.assign(Object.assign({},s),{isFormItemInput:!1}),[s]),f=Object.assign(Object.assign({},e),{onChange:a,fullscreen:n,divRef:o});return E.createElement("div",{className:`${t}-header`,ref:o},E.createElement(Ha.Provider,{value:d},E.createElement(Eh,Object.assign({},f)),r==="month"&&E.createElement(Oh,Object.assign({},f))),E.createElement(Ih,Object.assign({},f,{onModeChange:i})))}const Dh=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerPanelCellHeight:a,motionDurationSlow:i,borderRadiusSM:o,motionDurationMid:s,controlItemBgHover:d,lineWidth:f,lineType:h,colorPrimary:c,controlItemBgActive:l,colorTextLightSolid:u,controlHeightSM:p,pickerDateHoverRangeBorderColor:v,pickerCellBorderGap:m,pickerBasicCellHoverWithRangeColor:g,pickerPanelCellWidth:b,colorTextDisabled:x,colorBgContainerDisabled:y}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:a,transform:"translateY(-50%)",transition:`all ${i}`,content:'""'},[r]:{position:"relative",zIndex:2,display:"inline-block",minWidth:a,height:a,lineHeight:`${a}px`,borderRadius:o,transition:`background ${s}, border ${s}`},[`&:hover:not(${n}-in-view),
    &:hover:not(${n}-selected):not(${n}-range-start):not(${n}-range-end):not(${n}-range-hover-start):not(${n}-range-hover-end)`]:{[r]:{background:d}},[`&-in-view${n}-today ${r}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${f}px ${h} ${c}`,borderRadius:o,content:'""'}},[`&-in-view${n}-in-range`]:{position:"relative","&::before":{background:l}},[`&-in-view${n}-selected ${r},
      &-in-view${n}-range-start ${r},
      &-in-view${n}-range-end ${r}`]:{color:u,background:c},[`&-in-view${n}-range-start:not(${n}-range-start-single),
      &-in-view${n}-range-end:not(${n}-range-end-single)`]:{"&::before":{background:l}},[`&-in-view${n}-range-start::before`]:{insetInlineStart:"50%"},[`&-in-view${n}-range-end::before`]:{insetInlineEnd:"50%"},[`&-in-view${n}-range-hover-start:not(${n}-in-range):not(${n}-range-start):not(${n}-range-end),
      &-in-view${n}-range-hover-end:not(${n}-in-range):not(${n}-range-start):not(${n}-range-end),
      &-in-view${n}-range-hover-start${n}-range-start-single,
      &-in-view${n}-range-hover-start${n}-range-start${n}-range-end${n}-range-end-near-hover,
      &-in-view${n}-range-hover-end${n}-range-start${n}-range-end${n}-range-start-near-hover,
      &-in-view${n}-range-hover-end${n}-range-end-single,
      &-in-view${n}-range-hover:not(${n}-in-range)`]:{"&::after":{position:"absolute",top:"50%",zIndex:0,height:p,borderTop:`${f}px dashed ${v}`,borderBottom:`${f}px dashed ${v}`,transform:"translateY(-50%)",transition:`all ${i}`,content:'""'}},[`&-range-hover-start::after,
      &-range-hover-end::after,
      &-range-hover::after`]:{insetInlineEnd:0,insetInlineStart:m},[`&-in-view${n}-in-range${n}-range-hover::before,
      &-in-view${n}-in-range${n}-range-hover-start::before,
      &-in-view${n}-in-range${n}-range-hover-end::before,
      &-in-view${n}-range-start${n}-range-hover::before,
      &-in-view${n}-range-end${n}-range-hover::before,
      &-in-view${n}-range-start:not(${n}-range-start-single)${n}-range-hover-start::before,
      &-in-view${n}-range-end:not(${n}-range-end-single)${n}-range-hover-end::before,
      ${t}-panel
      > :not(${t}-date-panel)
      &-in-view${n}-in-range${n}-range-hover-start::before,
      ${t}-panel
      > :not(${t}-date-panel)
      &-in-view${n}-in-range${n}-range-hover-end::before`]:{background:g},[`&-in-view${n}-range-start:not(${n}-range-start-single):not(${n}-range-end) ${r}`]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${n}-range-end:not(${n}-range-end-single):not(${n}-range-start) ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},[`&-range-hover${n}-range-end::after`]:{insetInlineStart:"50%"},[`tr > &-in-view${n}-range-hover:first-child::after,
      tr > &-in-view${n}-range-hover-end:first-child::after,
      &-in-view${n}-start${n}-range-hover-edge-start${n}-range-hover-edge-start-near-range::after,
      &-in-view${n}-range-hover-edge-start:not(${n}-range-hover-edge-start-near-range)::after,
      &-in-view${n}-range-hover-start::after`]:{insetInlineStart:(b-a)/2,borderInlineStart:`${f}px dashed ${v}`,borderStartStartRadius:f,borderEndStartRadius:f},[`tr > &-in-view${n}-range-hover:last-child::after,
      tr > &-in-view${n}-range-hover-start:last-child::after,
      &-in-view${n}-end${n}-range-hover-edge-end${n}-range-hover-edge-end-near-range::after,
      &-in-view${n}-range-hover-edge-end:not(${n}-range-hover-edge-end-near-range)::after,
      &-in-view${n}-range-hover-end::after`]:{insetInlineEnd:(b-a)/2,borderInlineEnd:`${f}px dashed ${v}`,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:x,pointerEvents:"none",[r]:{background:"transparent"},"&::before":{background:y}},[`&-disabled${n}-today ${r}::before`]:{borderColor:x}}},kh=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:a,pickerControlIconSize:i,pickerPanelCellWidth:o,paddingSM:s,paddingXS:d,paddingXXS:f,colorBgContainer:h,lineWidth:c,lineType:l,borderRadiusLG:u,colorPrimary:p,colorTextHeading:v,colorSplit:m,pickerControlIconBorderWidth:g,colorIcon:b,pickerTextHeight:x,motionDurationMid:y,colorIconHover:C,fontWeightStrong:D,pickerPanelCellHeight:O,pickerCellPaddingVertical:I,colorTextDisabled:k,colorText:N,fontSize:S,pickerBasicCellHoverWithRangeColor:A,motionDurationSlow:P,pickerPanelWithoutTimeCellHeight:_,pickerQuarterPanelContentHeight:L,colorLink:q,colorLinkActive:j,colorLinkHover:Y,pickerDateHoverRangeBorderColor:B,borderRadiusSM:$,colorTextLightSolid:T,controlItemBgHover:R,pickerTimePanelColumnHeight:F,pickerTimePanelColumnWidth:U,pickerTimePanelCellHeight:z,controlItemBgActive:M,marginXXS:H,pickerDatePanelPaddingHorizontal:W}=e,V=o*7+W*2,G=(V-d*2)/3-a-s,te=(V-d*2)/4-a;return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:h,border:`${c}px ${l} ${m}`,borderRadius:u,outline:"none","&-focused":{borderColor:p},"&-rtl":{direction:"rtl",[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"}}},[`&-decade-panel,
        &-year-panel,
        &-quarter-panel,
        &-month-panel,
        &-week-panel,
        &-date-panel,
        &-time-panel`]:{display:"flex",flexDirection:"column",width:V},"&-header":{display:"flex",padding:`0 ${d}px`,color:v,borderBottom:`${c}px ${l} ${m}`,"> *":{flex:"none"},button:{padding:0,color:b,lineHeight:`${x}px`,background:"transparent",border:0,cursor:"pointer",transition:`color ${y}`,fontSize:"inherit"},"> button":{minWidth:"1.6em",fontSize:S,"&:hover":{color:C}},"&-view":{flex:"auto",fontWeight:D,lineHeight:`${x}px`,button:{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:d},"&:hover":{color:p}}}},[`&-prev-icon,
        &-next-icon,
        &-super-prev-icon,
        &-super-next-icon`]:{position:"relative",display:"inline-block",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:g,borderBlockEndWidth:0,borderInlineStartWidth:g,borderInlineEndWidth:0,content:'""'}},[`&-super-prev-icon,
        &-super-next-icon`]:{"&::after":{position:"absolute",top:Math.ceil(i/2),insetInlineStart:Math.ceil(i/2),display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:g,borderBlockEndWidth:0,borderInlineStartWidth:g,borderInlineEndWidth:0,content:'""'}},[`&-prev-icon,
        &-super-prev-icon`]:{transform:"rotate(-45deg)"},[`&-next-icon,
        &-super-next-icon`]:{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:O,fontWeight:"normal"},th:{height:O+I*2,color:N,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${I}px 0`,color:k,cursor:"pointer","&-in-view":{color:N}},Dh(e)),[`&-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-start ${r},
        &-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-end ${r}`]:{"&::after":{position:"absolute",top:0,bottom:0,zIndex:-1,background:A,transition:`all ${P}`,content:'""'}},[`&-date-panel
        ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-start
        ${r}::after`]:{insetInlineEnd:-(o-O)/2,insetInlineStart:0},[`&-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-end ${r}::after`]:{insetInlineEnd:0,insetInlineStart:-(o-O)/2},[`&-range-hover${t}-range-start::after`]:{insetInlineEnd:"50%"},[`&-decade-panel,
        &-year-panel,
        &-quarter-panel,
        &-month-panel`]:{[`${t}-content`]:{height:_*4},[r]:{padding:`0 ${d}px`}},"&-quarter-panel":{[`${t}-content`]:{height:L},[`${t}-cell-range-hover-start::after`]:{insetInlineStart:te,borderInlineStart:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineEnd:te,borderInlineEnd:`${c}px dashed ${B}`}},[`${t}-cell-range-hover-end::after`]:{insetInlineEnd:te,borderInlineEnd:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineStart:te,borderInlineStart:`${c}px dashed ${B}`}}},[`&-panel ${t}-footer`]:{borderTop:`${c}px ${l} ${m}`},"&-footer":{width:"min-content",minWidth:"100%",lineHeight:`${x-2*c}px`,textAlign:"center","&-extra":{padding:`0 ${s}`,lineHeight:`${x-2*c}px`,textAlign:"start","&:not(:last-child)":{borderBottom:`${c}px ${l} ${m}`}}},"&-now":{textAlign:"start"},"&-today-btn":{color:q,"&:hover":{color:Y},"&:active":{color:j},[`&${t}-today-btn-disabled`]:{color:k,cursor:"not-allowed"}},"&-decade-panel":{[r]:{padding:`0 ${d/2}px`},[`${t}-cell::before`]:{display:"none"}},[`&-year-panel,
        &-quarter-panel,
        &-month-panel`]:{[`${t}-body`]:{padding:`0 ${d}px`},[r]:{width:a},[`${t}-cell-range-hover-start::after`]:{borderStartStartRadius:$,borderEndStartRadius:$,borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-panel-rtl &`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:$,borderEndEndRadius:$}},[`${t}-cell-range-hover-end::after`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:$,borderEndEndRadius:$,[`${t}-panel-rtl &`]:{borderStartStartRadius:$,borderEndStartRadius:$,borderStartEndRadius:0,borderEndEndRadius:0}}},[`&-year-panel,
        &-month-panel`]:{[`${t}-cell-range-hover-start::after`]:{insetInlineStart:G,borderInlineStart:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineEnd:G,borderInlineEnd:`${c}px dashed ${B}`}},[`${t}-cell-range-hover-end::after`]:{insetInlineEnd:G,borderInlineEnd:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineStart:G,borderInlineStart:`${c}px dashed ${B}`}}},"&-week-panel":{[`${t}-body`]:{padding:`${d}px ${s}px`},[`${t}-cell`]:{[`&:hover ${r},
            &-selected ${r},
            ${r}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${y}`},"&:first-child:before":{borderStartStartRadius:$,borderEndStartRadius:$},"&:last-child:before":{borderStartEndRadius:$,borderEndEndRadius:$}},["&:hover td"]:{"&:before":{background:R}},[`&-range-start td,
            &-range-end td,
            &-selected td`]:{[`&${n}`]:{"&:before":{background:p},[`&${t}-cell-week`]:{color:new Pt(T).setAlpha(.5).toHexString()},[r]:{color:T}}},["&-range-hover td:before"]:{background:M}}},"&-date-panel":{[`${t}-body`]:{padding:`${d}px ${W}px`},[`${t}-content`]:{width:o*7,th:{width:o}}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${c}px ${l} ${m}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${P}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",direction:"ltr",[`${t}-content`]:{display:"flex",flex:"auto",height:F},"&-column":{flex:"1 0 auto",width:U,margin:`${f}px 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${y}`,overflowX:"hidden","&::after":{display:"block",height:F-z,content:'""'},"&:not(:first-child)":{borderInlineStart:`${c}px ${l} ${m}`},"&-active":{background:new Pt(M).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:H,[`${t}-time-panel-cell-inner`]:{display:"block",width:U-2*H,height:z,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:(U-z)/2,color:N,lineHeight:`${z}px`,borderRadius:$,cursor:"pointer",transition:`background ${y}`,"&:hover":{background:R}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:M}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:k,background:"transparent",cursor:"not-allowed"}}}}}},[`&-datetime-panel ${t}-time-panel-column:after`]:{height:F-z+f*2}}}},Ah=e=>{const{componentCls:n,controlHeightLG:r,controlHeightSM:a,colorPrimary:i,paddingXXS:o,padding:s}=e;return{pickerCellCls:`${n}-cell`,pickerCellInnerCls:`${n}-cell-inner`,pickerTextHeight:r,pickerPanelCellWidth:a*1.5,pickerPanelCellHeight:a,pickerDateHoverRangeBorderColor:new Pt(i).lighten(20).toHexString(),pickerBasicCellHoverWithRangeColor:new Pt(i).lighten(35).toHexString(),pickerPanelWithoutTimeCellHeight:r*1.65,pickerYearMonthCellWidth:r*1.5,pickerTimePanelColumnHeight:28*8,pickerTimePanelColumnWidth:r*1.4,pickerTimePanelCellHeight:28,pickerQuarterPanelContentHeight:r*1.4,pickerCellPaddingVertical:o+o/2,pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:s+o/2}},Ph=e=>{const{calendarCls:t,componentCls:n,calendarFullBg:r,calendarFullPanelBg:a,calendarItemActiveBg:i}=e;return{[t]:Object.assign(Object.assign(Object.assign({},kh(e)),oi(e)),{background:r,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${e.paddingSM}px 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${n}-panel`]:{background:a,border:0,borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${n}-month-panel, ${n}-date-panel`]:{width:"auto"},[`${n}-body`]:{padding:`${e.paddingXS}px 0`},[`${n}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${n}-panel`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${n}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:`${e.weekHeight}px`}},[`${n}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${n}-panel`]:{display:"block",width:"100%",textAlign:"end",background:r,border:0,[`${n}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:`${e.weekHeight}px`}}},[`${n}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${n}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:i}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${e.marginXS/2}px`,padding:`${e.paddingXS/2}px ${e.paddingXS}px 0`,border:0,borderTop:`${e.lineWidthBold}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:`${e.dateValueHeight}px`,transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${e.screenXS}px) `]:{[`${t}`]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${e.paddingXS}px)`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},Th=Qr("Calendar",e=>{const t=`${e.componentCls}-calendar`,n=Mr(Fu(e),Ah(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,calendarFullBg:e.colorBgContainer,calendarFullPanelBg:e.colorBgContainer,calendarItemActiveBg:e.controlItemBgActive,dateValueHeight:e.controlHeightSM,weekHeight:e.controlHeightSM*.75,dateContentHeight:(e.fontSizeSM*e.lineHeightSM+e.marginXS)*3+e.lineWidth*2});return[Ph(n)]},{yearControlWidth:80,monthControlWidth:70,miniContentHeight:256});function _h(e){function t(i,o){return i&&o&&e.getYear(i)===e.getYear(o)}function n(i,o){return t(i,o)&&e.getMonth(i)===e.getMonth(o)}function r(i,o){return n(i,o)&&e.getDate(i)===e.getDate(o)}return i=>{const{prefixCls:o,className:s,rootClassName:d,style:f,dateFullCellRender:h,dateCellRender:c,monthFullCellRender:l,monthCellRender:u,cellRender:p,fullCellRender:v,headerRender:m,value:g,defaultValue:b,disabledDate:x,mode:y,validRange:C,fullscreen:D=!0,onChange:O,onPanelChange:I,onSelect:k}=i,{getPrefixCls:N,direction:S}=E.useContext(mn),A=N("picker",o),P=`${A}-calendar`,[_,L]=Th(A),q=e.getNow(),[j,Y]=At(()=>g||e.getNow(),{defaultValue:b,value:g}),[B,$]=At("month",{value:y}),T=E.useMemo(()=>B==="year"?"month":"date",[B]),R=E.useCallback(Q=>(C?e.isAfter(C[0],Q)||e.isAfter(Q,C[1]):!1)||!!(x!=null&&x(Q)),[x,C]),F=(Q,ae)=>{I==null||I(Q,ae)},U=Q=>{Y(Q),r(Q,j)||((T==="date"&&!n(Q,j)||T==="month"&&!t(Q,j))&&F(Q,B),O==null||O(Q))},z=Q=>{$(Q),F(j,Q)},M=Q=>{U(Q),k==null||k(Q)},H=()=>{const{locale:Q}=i,ae=Object.assign(Object.assign({},ju),Q);return ae.lang=Object.assign(Object.assign({},ae.lang),(Q||{}).lang),ae},W=E.useCallback((Q,ae)=>v?v(Q,ae):h?h(Q):E.createElement("div",{className:Pe(`${A}-cell-inner`,`${P}-date`,{[`${P}-date-today`]:r(q,Q)})},E.createElement("div",{className:`${P}-date-value`},String(e.getDate(Q)).padStart(2,"0")),E.createElement("div",{className:`${P}-date-content`},p?p(Q,ae):c&&c(Q))),[h,c,p,v]),V=E.useCallback((Q,ae)=>{if(v)return v(Q,ae);if(l)return l(Q);const ee=ae.locale.shortMonths||e.locale.getShortMonths(ae.locale.locale);return E.createElement("div",{className:Pe(`${A}-cell-inner`,`${P}-date`,{[`${P}-date-today`]:n(q,Q)})},E.createElement("div",{className:`${P}-date-value`},ee[e.getMonth(Q)]),E.createElement("div",{className:`${P}-date-content`},p?p(Q,ae):u&&u(Q)))},[l,u,p,v]),[G]=qu("Calendar",H),te=(Q,ae)=>{if(ae.type==="date")return W(Q,ae);if(ae.type==="month")return V(Q,Object.assign(Object.assign({},ae),{locale:G==null?void 0:G.lang}))};return _(E.createElement("div",{className:Pe(P,{[`${P}-full`]:D,[`${P}-mini`]:!D,[`${P}-rtl`]:S==="rtl"},s,d,L),style:f},m?m({value:j,type:B,onChange:M,onTypeChange:z}):E.createElement(Nh,{prefixCls:P,value:j,generateConfig:e,mode:B,fullscreen:D,locale:G==null?void 0:G.lang,validRange:C,onChange:M,onModeChange:z}),E.createElement(Ch,{value:j,prefixCls:A,locale:G==null?void 0:G.lang,generateConfig:e,cellRender:te,onSelect:M,mode:T,picker:T,disabledDate:R,hideHeader:!0})))}}const Rh=_h(Rf),Mh=Rh;function ss(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function Lh(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,a=t.checkable;return!!(n||r)||a===!1}function $h(e,t,n,r){for(var a=new Set(e),i=new Set,o=0;o<=n;o+=1){var s=t.get(o)||new Set;s.forEach(function(c){var l=c.key,u=c.node,p=c.children,v=p===void 0?[]:p;a.has(l)&&!r(u)&&v.filter(function(m){return!r(m.node)}).forEach(function(m){a.add(m.key)})})}for(var d=new Set,f=n;f>=0;f-=1){var h=t.get(f)||new Set;h.forEach(function(c){var l=c.parent,u=c.node;if(!(r(u)||!c.parent||d.has(c.parent.key))){if(r(c.parent.node)){d.add(l.key);return}var p=!0,v=!1;(l.children||[]).filter(function(m){return!r(m.node)}).forEach(function(m){var g=m.key,b=a.has(g);p&&!b&&(p=!1),!v&&(b||i.has(g))&&(v=!0)}),p&&a.add(l.key),v&&i.add(l.key),d.add(l.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ss(i,a))}}function Bh(e,t,n,r,a){for(var i=new Set(e),o=new Set(t),s=0;s<=r;s+=1){var d=n.get(s)||new Set;d.forEach(function(l){var u=l.key,p=l.node,v=l.children,m=v===void 0?[]:v;!i.has(u)&&!o.has(u)&&!a(p)&&m.filter(function(g){return!a(g.node)}).forEach(function(g){i.delete(g.key)})})}o=new Set;for(var f=new Set,h=r;h>=0;h-=1){var c=n.get(h)||new Set;c.forEach(function(l){var u=l.parent,p=l.node;if(!(a(p)||!l.parent||f.has(l.parent.key))){if(a(l.parent.node)){f.add(u.key);return}var v=!0,m=!1;(u.children||[]).filter(function(g){return!a(g.node)}).forEach(function(g){var b=g.key,x=i.has(b);v&&!x&&(v=!1),!m&&(x||o.has(b))&&(m=!0)}),v||i.delete(u.key),m&&o.add(u.key),f.add(u.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(ss(o,i))}}function Ea(e,t,n,r){var a=[],i;r?i=r:i=Lh;var o=new Set(e.filter(function(h){var c=!!n[h];return c||a.push(h),c})),s=new Map,d=0;Object.keys(n).forEach(function(h){var c=n[h],l=c.level,u=s.get(l);u||(u=new Set,s.set(l,u)),u.add(c),d=Math.max(d,l)}),Al(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(h){return"'".concat(h,"'")}).join(", ")));var f;return t===!0?f=$h(o,s,d,i):f=Bh(o,t.halfCheckedKeys,s,d,i),f}var ar=E.createContext(null),cn="__rc_cascader_search_mark__",Fh=function(t,n,r){var a=r.label;return n.some(function(i){return String(i[a]).toLowerCase().includes(t.toLowerCase())})},qh=function(t,n,r,a){return n.map(function(i){return i[a.label]}).join(" / ")};const jh=function(e,t,n,r,a,i){var o=a.filter,s=o===void 0?Fh:o,d=a.render,f=d===void 0?qh:d,h=a.limit,c=h===void 0?50:h,l=a.sort;return E.useMemo(function(){var u=[];if(!e)return[];function p(v,m){v.forEach(function(g){if(!(!l&&c>0&&u.length>=c)){var b=[].concat(ct(m),[g]),x=g[n.children];if((!x||x.length===0||i)&&s(e,b,{label:n.label})){var y;u.push(de(de({},g),{},(y={},ge(y,n.label,f(e,b,r,n)),ge(y,cn,b),ge(y,n.children,void 0),y)))}x&&p(g[n.children],b)}})}return p(t,[]),l&&u.sort(function(v,m){return l(v[cn],m[cn],e,n)}),c>0?u.slice(0,c):u},[e,t,n,r,f,i,s,l,c])};var yi="__RC_CASCADER_SPLIT__",cs="SHOW_PARENT",us="SHOW_CHILD";function Et(e){return e.join(yi)}function sn(e){return e.map(Et)}function Hh(e){return e.split(yi)}function zh(e){var t=e||{},n=t.label,r=t.value,a=t.children,i=r||"value";return{label:n||"label",value:i,key:i,children:a||"children"}}function zn(e,t){var n,r;return(n=e.isLeaf)!==null&&n!==void 0?n:!((r=e[t.children])!==null&&r!==void 0&&r.length)}function Uh(e){var t=e.parentElement;if(t){var n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}}function ds(e,t){return e.map(function(n){var r;return(r=n[cn])===null||r===void 0?void 0:r.map(function(a){return a[t.value]})})}function oo(e,t,n){var r=new Set(e),a=t();return e.filter(function(i){var o=a[i],s=o?o.parent:null,d=o?o.children:null;return n===us?!(d&&d.some(function(f){return f.key&&r.has(f.key)})):!(s&&!s.node.disabled&&r.has(s.key))})}function Xn(e,t,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=t,i=[],o=function(){var f,h,c,l=e[s],u=(f=a)===null||f===void 0?void 0:f.findIndex(function(v){var m=v[n.value];return r?String(m)===String(l):m===l}),p=u!==-1?(h=a)===null||h===void 0?void 0:h[u]:null;i.push({value:(c=p==null?void 0:p[n.value])!==null&&c!==void 0?c:l,index:u,option:p}),a=p==null?void 0:p[n.children]},s=0;s<e.length;s+=1)o();return i}const Vh=function(e,t,n,r,a){return E.useMemo(function(){var i=a||function(o){var s=r?o.slice(-1):o,d=" / ";return s.every(function(f){return["string","number"].includes(Lt(f))})?s.join(d):s.reduce(function(f,h,c){var l=E.isValidElement(h)?E.cloneElement(h,{key:c}):h;return c===0?[l]:[].concat(ct(f),[d,l])},[])};return e.map(function(o){var s,d,f=Xn(o,t,n),h=i(f.map(function(l){var u,p=l.option,v=l.value;return(u=p==null?void 0:p[n.label])!==null&&u!==void 0?u:v}),f.map(function(l){var u=l.option;return u})),c=Et(o);return{label:h,value:c,key:c,valueCells:o,disabled:(s=f[f.length-1])===null||s===void 0||(d=s.option)===null||d===void 0?void 0:d.disabled}})},[e,t,n,a,r])};function Wh(e,t){return"".concat(e,"-").concat(t)}function fs(e,t){return e??t}function Gh(e){var t=e||{},n=t.title,r=t._title,a=t.key,i=t.children,o=n||"title";return{title:o,_title:r||[o],key:a||"key",children:i||"children"}}function Yh(e,t,n){var r={};Lt(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var a=r,i=a.childrenPropName,o=a.externalGetKey,s=a.fieldNames,d=Gh(s),f=d.key,h=d.children,c=i||h,l;o?typeof o=="string"?l=function(v){return v[o]}:typeof o=="function"&&(l=function(v){return o(v)}):l=function(v,m){return fs(v[f],m)};function u(p,v,m,g){var b=p?p[c]:e,x=p?Wh(m.pos,v):"0",y=p?[].concat(ct(g),[p]):[];if(p){var C=l(p,x),D={node:p,index:v,pos:x,key:C,parentPos:m.node?m.pos:null,level:m.level+1,nodes:y};t(D)}b&&b.forEach(function(O,I){u(O,I,{node:p,pos:x,level:m?m.level+1:-1},y)})}u(null)}function Kh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,a=t.onProcessFinished,i=t.externalGetKey,o=t.childrenPropName,s=t.fieldNames,d=arguments.length>2?arguments[2]:void 0,f=i||d,h={},c={},l={posEntities:h,keyEntities:c};return n&&(l=n(l)||l),Yh(e,function(u){var p=u.node,v=u.index,m=u.pos,g=u.key,b=u.parentPos,x=u.level,y=u.nodes,C={node:p,nodes:y,index:v,key:g,pos:m,level:x},D=fs(g,m);h[m]=C,c[D]=C,C.parent=h[b],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),r&&r(C,l)},{externalGetKey:f,childrenPropName:o,fieldNames:s}),a&&a(l),l}const Xh=function(e,t){var n=E.useRef({options:null,info:null}),r=E.useCallback(function(){return n.current.options!==e&&(n.current.options=e,n.current.info=Kh(e,{fieldNames:t,initWrapper:function(i){return de(de({},i),{},{pathKeyEntities:{}})},processEntity:function(i,o){var s=i.nodes.map(function(d){return d[t.value]}).join(yi);o.pathKeyEntities[s]=i,i.key=s}})),n.current.info.pathKeyEntities},[t,e]);return r},Zh=function(e,t){return E.useCallback(function(n){var r=[],a=[];return n.forEach(function(i){var o=Xn(i,e,t);o.every(function(s){return s.option})?a.push(i):r.push(i)}),[a,r]},[e,t])};function lo(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}function Qh(e){return E.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&Lt(e)==="object"&&(t=de(de({},t),e)),t.limit<=0&&delete t.limit,[!0,t]},[e])}var Jh=E.memo(function(e){var t=e.children;return t},function(e,t){return!t.open});function ep(e){var t,n=e.prefixCls,r=e.checked,a=e.halfChecked,i=e.disabled,o=e.onClick,s=E.useContext(ar),d=s.checkable,f=typeof d!="boolean"?d:null;return E.createElement("span",{className:Pe("".concat(n),(t={},ge(t,"".concat(n,"-checked"),r),ge(t,"".concat(n,"-indeterminate"),!r&&a),ge(t,"".concat(n,"-disabled"),i),t)),onClick:o},f)}var hs="__cascader_fix_label__";function tp(e){var t=e.prefixCls,n=e.multiple,r=e.options,a=e.activeValue,i=e.prevValuePath,o=e.onToggleOpen,s=e.onSelect,d=e.onActive,f=e.checkedSet,h=e.halfCheckedSet,c=e.loadingKeys,l=e.isSelectable,u=e.searchValue,p="".concat(t,"-menu"),v="".concat(t,"-menu-item"),m=E.useContext(ar),g=m.fieldNames,b=m.changeOnSelect,x=m.expandTrigger,y=m.expandIcon,C=m.loadingIcon,D=m.dropdownMenuColumnStyle,O=x==="hover",I=E.useMemo(function(){return r.map(function(k){var N,S=k.disabled,A=k[cn],P=(N=k[hs])!==null&&N!==void 0?N:k[g.label],_=k[g.value],L=zn(k,g),q=A?A.map(function(T){return T[g.value]}):[].concat(ct(i),[_]),j=Et(q),Y=c.includes(j),B=f.has(j),$=h.has(j);return{disabled:S,label:P,value:_,isLeaf:L,isLoading:Y,checked:B,halfChecked:$,option:k,fullPath:q,fullPathKey:j}})},[r,f,g,h,c,i]);return E.createElement("ul",{className:p,role:"menu"},I.map(function(k){var N,S=k.disabled,A=k.label,P=k.value,_=k.isLeaf,L=k.isLoading,q=k.checked,j=k.halfChecked,Y=k.option,B=k.fullPath,$=k.fullPathKey,T=function(){if(!(S||u)){var z=ct(B);O&&_&&z.pop(),d(z)}},R=function(){l(Y)&&s(B,_)},F;return typeof Y.title=="string"?F=Y.title:typeof A=="string"&&(F=A),E.createElement("li",{key:$,className:Pe(v,(N={},ge(N,"".concat(v,"-expand"),!_),ge(N,"".concat(v,"-active"),a===P||a===$),ge(N,"".concat(v,"-disabled"),S),ge(N,"".concat(v,"-loading"),L),N)),style:D,role:"menuitemcheckbox",title:F,"aria-checked":q,"data-path-key":$,onClick:function(){T(),(!n||_)&&R()},onDoubleClick:function(){b&&o(!1)},onMouseEnter:function(){O&&T()},onMouseDown:function(z){z.preventDefault()}},n&&E.createElement(ep,{prefixCls:"".concat(t,"-checkbox"),checked:q,halfChecked:j,disabled:S,onClick:function(z){z.stopPropagation(),R()}}),E.createElement("div",{className:"".concat(v,"-content")},A),!L&&y&&!_&&E.createElement("div",{className:"".concat(v,"-expand-icon")},y),L&&C&&E.createElement("div",{className:"".concat(v,"-loading-icon")},C))}))}const np=function(){var e=li(),t=e.multiple,n=e.open,r=E.useContext(ar),a=r.values,i=E.useState([]),o=Te(i,2),s=o[0],d=o[1];return E.useEffect(function(){if(n&&!t){var f=a[0];d(f||[])}},[n]),[s,d]},rp=function(e,t,n,r,a,i){var o=li(),s=o.direction,d=o.searchValue,f=o.toggleOpen,h=o.open,c=s==="rtl",l=E.useMemo(function(){for(var D=-1,O=t,I=[],k=[],N=r.length,S=ds(t,n),A=function(Y){var B=O.findIndex(function($,T){return(S[T]?Et(S[T]):$[n.value])===r[Y]});if(B===-1)return"break";D=B,I.push(D),k.push(r[Y]),O=O[D][n.children]},P=0;P<N&&O;P+=1){var _=A(P);if(_==="break")break}for(var L=t,q=0;q<I.length-1;q+=1)L=L[I[q]][n.children];return[k,D,L,S]},[r,n,t]),u=Te(l,4),p=u[0],v=u[1],m=u[2],g=u[3],b=function(O){a(O)},x=function(O){var I=m.length,k=v;k===-1&&O<0&&(k=I);for(var N=0;N<I;N+=1){k=(k+O+I)%I;var S=m[k];if(S&&!S.disabled){var A=p.slice(0,-1).concat(g[k]?Et(g[k]):S[n.value]);b(A);return}}},y=function(){if(p.length>1){var O=p.slice(0,-1);b(O)}else f(!1)},C=function(){var O,I=((O=m[v])===null||O===void 0?void 0:O[n.children])||[],k=I.find(function(S){return!S.disabled});if(k){var N=[].concat(ct(p),[k[n.value]]);b(N)}};E.useImperativeHandle(e,function(){return{onKeyDown:function(O){var I=O.which;switch(I){case Ce.UP:case Ce.DOWN:{var k=0;I===Ce.UP?k=-1:I===Ce.DOWN&&(k=1),k!==0&&x(k);break}case Ce.LEFT:{c?C():y();break}case Ce.RIGHT:{c?y():C();break}case Ce.BACKSPACE:{d||y();break}case Ce.ENTER:{if(p.length){var N=m[v],S=(N==null?void 0:N[cn])||[];S.length?i(S.map(function(A){return A[n.value]}),S[S.length-1]):i(p,m[v])}break}case Ce.ESC:f(!1),h&&O.stopPropagation()}},onKeyUp:function(){}}})};var ap=E.forwardRef(function(e,t){var n,r,a,i,o=li(),s=o.prefixCls,d=o.multiple,f=o.searchValue,h=o.toggleOpen,c=o.notFoundContent,l=o.direction,u=o.open,p=E.useRef(),v=l==="rtl",m=E.useContext(ar),g=m.options,b=m.values,x=m.halfValues,y=m.fieldNames,C=m.changeOnSelect,D=m.onSelect,O=m.searchOptions,I=m.dropdownPrefixCls,k=m.loadData,N=m.expandTrigger,S=I||s,A=E.useState([]),P=Te(A,2),_=P[0],L=P[1],q=function(re){if(!(!k||f)){var fe=Xn(re,g,y),he=fe.map(function(ne){var ie=ne.option;return ie}),K=he[he.length-1];if(K&&!zn(K,y)){var X=Et(re);L(function(ne){return[].concat(ct(ne),[X])}),k(he)}}};E.useEffect(function(){_.length&&_.forEach(function(ee){var re=Hh(ee),fe=Xn(re,g,y,!0).map(function(K){var X=K.option;return X}),he=fe[fe.length-1];(!he||he[y.children]||zn(he,y))&&L(function(K){return K.filter(function(X){return X!==ee})})})},[g,_,y]);var j=E.useMemo(function(){return new Set(sn(b))},[b]),Y=E.useMemo(function(){return new Set(sn(x))},[x]),B=np(),$=Te(B,2),T=$[0],R=$[1],F=function(re){R(re),q(re)},U=function(re){var fe=re.disabled,he=zn(re,y);return!fe&&(he||C||d)},z=function(re,fe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D(re),!d&&(fe||C&&(N==="hover"||he))&&h(!1)},M=E.useMemo(function(){return f?O:g},[f,O,g]),H=E.useMemo(function(){for(var ee=[{options:M}],re=M,fe=ds(re,y),he=function(){var ie=T[K],J=re.find(function(se,ve){return(fe[ve]?Et(fe[ve]):se[y.value])===ie}),ue=J==null?void 0:J[y.children];if(!(ue!=null&&ue.length))return"break";re=ue,ee.push({options:ue})},K=0;K<T.length;K+=1){var X=he();if(X==="break")break}return ee},[M,T,y]),W=function(re,fe){U(fe)&&z(re,zn(fe,y),!0)};rp(t,M,y,T,F,W),E.useEffect(function(){for(var ee=0;ee<T.length;ee+=1){var re,fe=T.slice(0,ee+1),he=Et(fe),K=(re=p.current)===null||re===void 0?void 0:re.querySelector('li[data-path-key="'.concat(he.replace(/\\{0,2}"/g,'\\"'),'"]'));K&&Uh(K)}},[T]);var V=!((n=H[0])!==null&&n!==void 0&&(r=n.options)!==null&&r!==void 0&&r.length),G=[(a={},ge(a,y.value,"__EMPTY__"),ge(a,hs,c),ge(a,"disabled",!0),a)],te=de(de({},e),{},{multiple:!V&&d,onSelect:z,onActive:F,onToggleOpen:h,checkedSet:j,halfCheckedSet:Y,loadingKeys:_,isSelectable:U}),Q=V?[{options:G}]:H,ae=Q.map(function(ee,re){var fe=T.slice(0,re),he=T[re];return E.createElement(tp,oe({key:re},te,{searchValue:f,prefixCls:S,options:ee.options,prevValuePath:fe,activeValue:he}))});return E.createElement(Jh,{open:u},E.createElement("div",{className:Pe("".concat(S,"-menus"),(i={},ge(i,"".concat(S,"-menu-empty"),V),ge(i,"".concat(S,"-rtl"),v),i)),ref:p},ae))}),ip=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy"];function op(e){return Array.isArray(e)&&Array.isArray(e[0])}function so(e){return e?op(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}var ta=E.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,a=r===void 0?"rc-cascader":r,i=e.fieldNames,o=e.defaultValue,s=e.value,d=e.changeOnSelect,f=e.onChange,h=e.displayRender,c=e.checkable,l=e.searchValue,u=e.onSearch,p=e.showSearch,v=e.expandTrigger,m=e.options,g=e.dropdownPrefixCls,b=e.loadData,x=e.popupVisible,y=e.open,C=e.popupClassName,D=e.dropdownClassName,O=e.dropdownMenuColumnStyle,I=e.popupPlacement,k=e.placement,N=e.onDropdownVisibleChange,S=e.onPopupVisibleChange,A=e.expandIcon,P=A===void 0?">":A,_=e.loadingIcon,L=e.children,q=e.dropdownMatchSelectWidth,j=q===void 0?!1:q,Y=e.showCheckedStrategy,B=Y===void 0?cs:Y,$=Gn(e,ip),T=Hu(n),R=!!c,F=At(o,{value:s,postState:so}),U=Te(F,2),z=U[0],M=U[1],H=E.useMemo(function(){return zh(i)},[JSON.stringify(i)]),W=E.useMemo(function(){return m||[]},[m]),V=Xh(W,H),G=E.useCallback(function(We){var Se=V();return We.map(function(Ge){var at=Se[Ge].nodes;return at.map(function(ze){return ze[H.value]})})},[V,H]),te=At("",{value:l,postState:function(Se){return Se||""}}),Q=Te(te,2),ae=Q[0],ee=Q[1],re=function(Se,Ge){ee(Se),Ge.source!=="blur"&&u&&u(Se)},fe=Qh(p),he=Te(fe,2),K=he[0],X=he[1],ne=jh(ae,W,H,g||a,X,d),ie=Zh(W,H),J=E.useMemo(function(){var We=ie(z),Se=Te(We,2),Ge=Se[0],at=Se[1];if(!R||!z.length)return[Ge,[],at];var ze=sn(Ge),Me=V(),vt=Ea(ze,!0,Me),Ke=vt.checkedKeys,Ct=vt.halfCheckedKeys;return[G(Ke),G(Ct),at]},[R,z,V,G,ie]),ue=Te(J,3),se=ue[0],ve=ue[1],Ae=ue[2],_e=E.useMemo(function(){var We=sn(se),Se=oo(We,V,B);return[].concat(ct(Ae),ct(G(Se)))},[se,V,G,Ae,B]),Ee=Vh(_e,W,H,R,h),$e=lo(function(We){if(M(We),f){var Se=so(We),Ge=Se.map(function(Me){return Xn(Me,W,H).map(function(vt){return vt.option})}),at=R?Se:Se[0],ze=R?Ge:Ge[0];f(at,ze)}}),Ne=lo(function(We){if(ee(""),!R)$e(We);else{var Se=Et(We),Ge=sn(se),at=sn(ve),ze=Ge.includes(Se),Me=Ae.some(function(_t){return Et(_t)===Se}),vt=se,Ke=Ae;if(Me&&!ze)Ke=Ae.filter(function(_t){return Et(_t)!==Se});else{var Ct=ze?Ge.filter(function(_t){return _t!==Se}):[].concat(ct(Ge),[Se]),on=V(),_n;if(ze){var Rn=Ea(Ct,{checked:!1,halfCheckedKeys:at},on);_n=Rn.checkedKeys}else{var br=Ea(Ct,!0,on);_n=br.checkedKeys}var xr=oo(_n,V,B);vt=G(xr)}$e([].concat(ct(Ke),ct(vt)))}}),rt=function(Se,Ge){if(Ge.type==="clear"){$e([]);return}var at=Ge.values[0],ze=at.valueCells;Ne(ze)},Ft=y!==void 0?y:x,Ve=D||C,lt=k||I,Yt=function(Se){N==null||N(Se),S==null||S(Se)},Kt=E.useMemo(function(){return{options:W,fieldNames:H,values:se,halfValues:ve,changeOnSelect:d,onSelect:Ne,checkable:c,searchOptions:ne,dropdownPrefixCls:g,loadData:b,expandTrigger:v,expandIcon:P,loadingIcon:_,dropdownMenuColumnStyle:O}},[W,H,se,ve,d,Ne,c,ne,g,b,v,P,_,O]),an=!(ae?ne:W).length,Tn=ae&&X.matchInputWidth||an?{}:{minWidth:"auto"};return E.createElement(ar.Provider,{value:Kt},E.createElement(zu,oe({},$,{ref:t,id:T,prefixCls:a,dropdownMatchSelectWidth:j,dropdownStyle:Tn,displayValues:Ee,onDisplayValuesChange:rt,mode:R?"multiple":void 0,searchValue:ae,onSearch:re,showSearch:K,OptionList:ap,emptyOptions:an,open:Ft,dropdownClassName:Ve,placement:lt,onDropdownVisibleChange:Yt,getRawInputElement:function(){return L}})))});ta.SHOW_PARENT=cs;ta.SHOW_CHILD=us;const lp=e=>{const{prefixCls:t,componentCls:n,antCls:r}=e,a=`${n}-menu-item`,i=`
    &${a}-expand ${a}-expand-icon,
    ${a}-loading-icon
  `,o=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return[{[n]:{width:e.controlWidth}},{[`${n}-dropdown`]:[Uu(`${t}-checkbox`,e),{[`&${r}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[a]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Pl),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${o}px ${e.paddingSM}px`,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:e.colorTextDisabled}},[`&-active:not(${a}-disabled)`]:{["&, &:hover"]:{fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive}},"&-content":{flex:"auto"},[i]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},Vu(e)]},sp=Qr("Cascader",e=>[lp(e)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var cp=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const{SHOW_CHILD:up,SHOW_PARENT:dp}=ta;function fp(e,t,n){const r=e.toLowerCase().split(t).reduce((o,s,d)=>d===0?[s]:[].concat(ct(o),[t,s]),[]),a=[];let i=0;return r.forEach((o,s)=>{const d=i+o.length;let f=e.slice(i,d);i=d,s%2===1&&(f=E.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${s}`},f)),a.push(f)}),a}const hp=(e,t,n,r)=>{const a=[],i=e.toLowerCase();return t.forEach((o,s)=>{s!==0&&a.push(" / ");let d=o[r.label];const f=typeof d;(f==="string"||f==="number")&&(d=fp(String(d),i,n)),a.push(d)}),a},ir=E.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:a,className:i,rootClassName:o,multiple:s,bordered:d=!0,transitionName:f,choiceTransitionName:h="",popupClassName:c,dropdownClassName:l,expandIcon:u,placement:p,showSearch:v,allowClear:m=!0,notFoundContent:g,direction:b,getPopupContainer:x,status:y,showArrow:C,builtinPlacements:D}=e,O=cp(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements"]),I=Wu(O,["suffixIcon"]),{getPopupContainer:k,getPrefixCls:N,renderEmpty:S,direction:A}=E.useContext(mn),P=b||A,_=P==="rtl",{status:L,hasFeedback:q,isFormItemInput:j,feedbackIcon:Y}=E.useContext(Ha),B=nd(L,y),$=g||(S==null?void 0:S("Cascader"))||E.createElement(Gu,{componentName:"Cascader"}),T=N(),R=N("select",n),F=N("cascader",n),[U,z]=Yu(R),[M]=sp(F),{compactSize:H,compactItemClassnames:W}=Ku(R,b),V=Pe(c||l,`${F}-dropdown`,{[`${F}-dropdown-rtl`]:P==="rtl"},o,z),G=E.useMemo(()=>{if(!v)return v;let ve={render:hp};return typeof v=="object"&&(ve=Object.assign(Object.assign({},ve),v)),ve},[v]),te=E.useContext(Xu),Q=H||r||te,ae=E.useContext(Zu),ee=a??ae;let re=u;u||(re=_?E.createElement(dn,null):E.createElement(Tl,null));const fe=E.createElement("span",{className:`${R}-menu-item-loading-icon`},E.createElement(si,{spin:!0})),he=E.useMemo(()=>s?E.createElement("span",{className:`${F}-checkbox-inner`}):!1,[s]),K=rd(C),{suffixIcon:X,removeIcon:ne,clearIcon:ie}=Qu(Object.assign(Object.assign({},e),{hasFeedback:q,feedbackIcon:Y,showArrow:K,multiple:s,prefixCls:R})),J=E.useMemo(()=>p!==void 0?p:_?"bottomRight":"bottomLeft",[p,_]),ue=Ju(D),se=E.createElement(ta,Object.assign({prefixCls:R,className:Pe(!n&&F,{[`${R}-lg`]:Q==="large",[`${R}-sm`]:Q==="small",[`${R}-rtl`]:_,[`${R}-borderless`]:!d,[`${R}-in-form-item`]:j},ed(R,B,q),W,i,o,z),disabled:ee},I,{builtinPlacements:ue,direction:P,placement:J,notFoundContent:$,allowClear:m,showSearch:G,expandIcon:re,inputIcon:X,removeIcon:ne,clearIcon:ie,loadingIcon:fe,checkable:he,dropdownClassName:V,dropdownPrefixCls:n||F,choiceTransitionName:un(T,"",h),transitionName:un(T,td(p),f),getPopupContainer:x||k,ref:t,showArrow:q||K}));return M(U(se))}),pp=ad(ir);ir.SHOW_PARENT=dp;ir.SHOW_CHILD=up;ir._InternalPanelDoNotUseOrYouWillBeFired=pp;const ps=ir;var vp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const gp=vp;var vs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:gp}))};vs.displayName="ClockCircleOutlined";const gs=E.forwardRef(vs);function ms(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function mp(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var yp=["visible","onVisibleChange","getContainer","current","countRender","onChange"],bi=E.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),bp=bi.Provider;function Oa(e,t){if(t!==void 0){var n=e.indexOf(t);if(n!==-1)return n}}var xp=function(t){var n=t.previewPrefixCls,r=n===void 0?"rc-image-preview":n,a=t.children,i=t.icons,o=i===void 0?{}:i,s=t.preview,d=Lt(s)==="object"?s:{},f=d.visible,h=f===void 0?void 0:f,c=d.onVisibleChange,l=c===void 0?void 0:c,u=d.getContainer,p=u===void 0?void 0:u,v=d.current,m=v===void 0?0:v,g=d.countRender,b=g===void 0?void 0:g,x=d.onChange,y=x===void 0?void 0:x,C=Gn(d,yp),D=E.useState(new Map),O=Te(D,2),I=O[0],k=O[1],N=Array.from(I.keys()),S=E.useRef(),A=At(void 0,{onChange:function(G,te){S.current!==void 0&&(y==null||y(Oa(N,G),Oa(N,te))),S.current=te}}),P=Te(A,2),_=P[0],L=P[1],q=At(!!h,{value:h,onChange:function(G,te){l==null||l(G,te,Oa(N,_)),S.current=G?_:void 0}}),j=Te(q,2),Y=j[0],B=j[1],$=E.useState(null),T=Te($,2),R=T[0],F=T[1],U=h!==void 0,z=N[m],M=new Map(Array.from(I).filter(function(V){var G=Te(V,2),te=G[1].canPreview;return!!te}).map(function(V){var G=Te(V,2),te=G[0],Q=G[1].url;return[te,Q]})),H=function(G,te){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ae=function(){k(function(re){var fe=new Map(re),he=fe.delete(G);return he?fe:re})};return k(function(ee){return new Map(ee).set(G,{url:te,canPreview:Q})}),ae},W=function(G){G.stopPropagation(),B(!1),F(null)};return E.useEffect(function(){L(z)},[z]),E.useEffect(function(){!Y&&U&&L(z)},[z,U,Y]),E.createElement(bp,{value:{isPreviewGroup:!0,previewUrls:M,setPreviewUrls:k,current:_,setCurrent:L,setShowPreview:B,setMousePosition:F,registerImage:H}},a,E.createElement(ys,oe({"aria-hidden":!Y,visible:Y,prefixCls:r,onClose:W,mousePosition:R,src:M.get(_),icons:o,getContainer:p,countRender:b},C)))},Tr=1,_r=50,Ln=1,Cp=1,wp=function(t){var n,r=t.visible,a=t.maskTransitionName,i=t.getContainer,o=t.prefixCls,s=t.rootClassName,d=t.icons,f=t.countRender,h=t.showSwitch,c=t.showProgress,l=t.current,u=t.count,p=t.scale,v=t.onSwitchLeft,m=t.onSwitchRight,g=t.onClose,b=t.onZoomIn,x=t.onZoomOut,y=t.onRotateRight,C=t.onRotateLeft,D=t.onFlipX,O=t.onFlipY,I=d.rotateLeft,k=d.rotateRight,N=d.zoomIn,S=d.zoomOut,A=d.close,P=d.left,_=d.right,L=d.flipX,q=d.flipY,j="".concat(o,"-operations-operation"),Y="".concat(o,"-operations-icon"),B=[{icon:A,onClick:g,type:"close"},{icon:N,onClick:b,type:"zoomIn",disabled:p===_r},{icon:S,onClick:x,type:"zoomOut",disabled:p===Tr},{icon:k,onClick:y,type:"rotateRight"},{icon:I,onClick:C,type:"rotateLeft"},{icon:L,onClick:D,type:"flipX"},{icon:q,onClick:O,type:"flipY"}],$=E.createElement(E.Fragment,null,h&&E.createElement(E.Fragment,null,E.createElement("div",{className:Pe("".concat(o,"-switch-left"),ge({},"".concat(o,"-switch-left-disabled"),l===0)),onClick:v},P),E.createElement("div",{className:Pe("".concat(o,"-switch-right"),ge({},"".concat(o,"-switch-right-disabled"),l===u-1)),onClick:m},_)),E.createElement("ul",{className:"".concat(o,"-operations")},c&&E.createElement("li",{className:"".concat(o,"-operations-progress")},(n=f==null?void 0:f(l+1,u))!==null&&n!==void 0?n:"".concat(l+1," / ").concat(u)),B.map(function(T){var R,F=T.icon,U=T.onClick,z=T.type,M=T.disabled;return E.createElement("li",{className:Pe(j,(R={},ge(R,"".concat(o,"-operations-operation-").concat(z),!0),ge(R,"".concat(o,"-operations-operation-disabled"),!!M),R)),onClick:U,key:z},E.isValidElement(F)?E.cloneElement(F,{className:Y}):F)})));return E.createElement(id,{visible:r,motionName:a},function(T){var R=T.className,F=T.style;return E.createElement(od,{open:!0,getContainer:i??document.body},E.createElement("div",{className:Pe("".concat(o,"-operations-wrapper"),R,s),style:F},$))})},co={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Sp(e){var t=E.useRef(null),n=E.useRef([]),r=E.useState(co),a=Te(r,2),i=a[0],o=a[1],s=function(){o(co)},d=function(c){t.current===null&&(n.current=[],t.current=ja(function(){o(function(l){var u=l;return n.current.forEach(function(p){u=de(de({},u),p)}),t.current=null,u})})),n.current.push(de(de({},i),c))},f=function(c,l,u){var p=e.current,v=p.width,m=p.height,g=p.offsetWidth,b=p.offsetHeight,x=p.offsetLeft,y=p.offsetTop,C=c,D=i.scale*c;D>_r?(C=_r/i.scale,D=_r):D<Tr&&(C=Tr/i.scale,D=Tr);var O=l??innerWidth/2,I=u??innerHeight/2,k=C-1,N=k*v*.5,S=k*m*.5,A=k*(O-i.x-x),P=k*(I-i.y-y),_=i.x-(A-N),L=i.y-(P-S);if(c<1&&D===1){var q=g*D,j=b*D,Y=ms(),B=Y.width,$=Y.height;q<=B&&j<=$&&(_=0,L=0)}d({x:_,y:L,scale:D})};return{transform:i,resetTransform:s,updateTransform:d,dispatchZoomChange:f}}function uo(e,t,n,r){var a=t+n,i=(n-r)/2;if(n>r){if(t>0)return ge({},e,i);if(t<0&&a<r)return ge({},e,-i)}else if(t<0||a>r)return ge({},e,t<0?i:-i);return{}}function Ep(e,t,n,r){var a=ms(),i=a.width,o=a.height,s=null;return e<=i&&t<=o?s={x:0,y:0}:(e>i||t>o)&&(s=de(de({},uo("x",n,e,i)),uo("y",r,t,o))),s}var Op=["prefixCls","src","alt","onClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],ys=function(t){var n=t.prefixCls,r=t.src,a=t.alt,i=t.onClose,o=t.visible,s=t.icons,d=s===void 0?{}:s,f=t.rootClassName,h=t.getContainer,c=t.countRender,l=t.scaleStep,u=l===void 0?.5:l,p=t.transitionName,v=p===void 0?"zoom":p,m=t.maskTransitionName,g=m===void 0?"fade":m,b=Gn(t,Op),x=E.useRef(),y=E.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),C=E.useState(!1),D=Te(C,2),O=D[0],I=D[1],k=E.useContext(bi),N=k.previewUrls,S=k.current,A=k.isPreviewGroup,P=k.setCurrent,_=N.size,L=Array.from(N.keys()),q=L.indexOf(S),j=A?N.get(S):r,Y=A&&_>1,B=A&&_>=1,$=Sp(x),T=$.transform,R=$.resetTransform,F=$.updateTransform,U=$.dispatchZoomChange,z=T.rotate,M=T.scale,H=Pe(ge({},"".concat(n,"-moving"),O)),W=function(){R()},V=function(){U(Ln+u)},G=function(){U(Ln-u)},te=function(){F({rotate:z+90})},Q=function(){F({rotate:z-90})},ae=function(){F({flipX:!T.flipX})},ee=function(){F({flipY:!T.flipY})},re=function(se){se.preventDefault(),se.stopPropagation(),q>0&&P(L[q-1])},fe=function(se){se.preventDefault(),se.stopPropagation(),q<_-1&&P(L[q+1])},he=function(){if(o&&O){I(!1);var se=y.current,ve=se.transformX,Ae=se.transformY,_e=T.x!==ve&&T.y!==Ae;if(!_e)return;var Ee=x.current.offsetWidth*M,$e=x.current.offsetHeight*M,Ne=x.current.getBoundingClientRect(),rt=Ne.left,Ft=Ne.top,Ve=z%180!==0,lt=Ep(Ve?$e:Ee,Ve?Ee:$e,rt,Ft);lt&&F(de({},lt))}},K=function(se){se.button===0&&(se.preventDefault(),se.stopPropagation(),y.current={deltaX:se.pageX-T.x,deltaY:se.pageY-T.y,transformX:T.x,transformY:T.y},I(!0))},X=function(se){o&&O&&F({x:se.pageX-y.current.deltaX,y:se.pageY-y.current.deltaY})},ne=function(se){if(!(!o||se.deltaY==0)){var ve=Math.abs(se.deltaY/100),Ae=Math.min(ve,Cp),_e=Ln+Ae*u;se.deltaY>0&&(_e=Ln/_e),U(_e,se.clientX,se.clientY)}},ie=E.useCallback(function(ue){!o||!Y||(ue.keyCode===Ce.LEFT?q>0&&P(L[q-1]):ue.keyCode===Ce.RIGHT&&q<_-1&&P(L[q+1]))},[q,_,L,P,Y,o]),J=function(se){o&&(M!==1?F({x:0,y:0,scale:1}):U(Ln+u,se.clientX,se.clientY))};return E.useEffect(function(){var ue,se,ve=Mn(window,"mouseup",he,!1),Ae=Mn(window,"mousemove",X,!1),_e=Mn(window,"keydown",ie,!1);try{window.top!==window.self&&(ue=Mn(window.top,"mouseup",he,!1),se=Mn(window.top,"mousemove",X,!1))}catch{}return function(){var Ee,$e;ve.remove(),Ae.remove(),_e.remove(),(Ee=ue)===null||Ee===void 0||Ee.remove(),($e=se)===null||$e===void 0||$e.remove()}},[o,O,ie]),Ie.createElement(Ie.Fragment,null,Ie.createElement(ld,oe({transitionName:v,maskTransitionName:g,closable:!1,keyboard:!0,prefixCls:n,onClose:i,visible:o,wrapClassName:H,rootClassName:f,getContainer:h},b,{afterClose:W}),Ie.createElement("div",{className:"".concat(n,"-img-wrapper")},Ie.createElement("img",{width:t.width,height:t.height,onWheel:ne,onMouseDown:K,onDoubleClick:J,ref:x,className:"".concat(n,"-img"),src:j,alt:a,style:{transform:"translate3d(".concat(T.x,"px, ").concat(T.y,"px, 0) scale3d(").concat(T.flipX?"-":"").concat(M,", ").concat(T.flipY?"-":"").concat(M,", 1) rotate(").concat(z,"deg)")}}))),Ie.createElement(wp,{visible:o,maskTransitionName:g,getContainer:h,prefixCls:n,rootClassName:f,icons:d,countRender:c,showSwitch:Y,showProgress:B,current:q,count:_,scale:M,onSwitchLeft:re,onSwitchRight:fe,onZoomIn:V,onZoomOut:G,onRotateRight:te,onRotateLeft:Q,onFlipX:ae,onFlipY:ee,onClose:i}))},Ip=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],Np=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],fo=0;function Dp(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}var na=function(t){var n,r=t.src,a=t.alt,i=t.onPreviewClose,o=t.prefixCls,s=o===void 0?"rc-image":o,d=t.previewPrefixCls,f=d===void 0?"".concat(s,"-preview"):d,h=t.placeholder,c=t.fallback,l=t.width,u=t.height,p=t.style,v=t.preview,m=v===void 0?!0:v,g=t.className,b=t.onClick,x=t.onError,y=t.wrapperClassName,C=t.wrapperStyle,D=t.rootClassName,O=t.crossOrigin,I=t.decoding,k=t.loading,N=t.referrerPolicy,S=t.sizes,A=t.srcSet,P=t.useMap,_=t.draggable,L=Gn(t,Ip),q=h&&h!==!0,j=Lt(m)==="object"?m:{},Y=j.src,B=j.visible,$=B===void 0?void 0:B,T=j.onVisibleChange,R=T===void 0?i:T,F=j.getContainer,U=F===void 0?void 0:F,z=j.mask,M=j.maskClassName,H=j.icons,W=j.scaleStep,V=Gn(j,Np),G=Y??r,te=$!==void 0,Q=At(!!$,{value:$,onChange:R}),ae=Te(Q,2),ee=ae[0],re=ae[1],fe=E.useState(q?"loading":"normal"),he=Te(fe,2),K=he[0],X=he[1],ne=E.useState(null),ie=Te(ne,2),J=ie[0],ue=ie[1],se=K==="error",ve=E.useContext(bi),Ae=ve.isPreviewGroup,_e=ve.setCurrent,Ee=ve.setShowPreview,$e=ve.setMousePosition,Ne=ve.registerImage,rt=E.useState(function(){return fo+=1,fo}),Ft=Te(rt,1),Ve=Ft[0],lt=!!m,Yt=E.useRef(!1),Kt=function(){X("normal")},an=function(Me){if(!te){var vt=mp(Me.target),Ke=vt.left,Ct=vt.top;Ae?(_e(Ve),$e({x:Ke,y:Ct})):ue({x:Ke,y:Ct})}Ae?Ee(!0):re(!0),b==null||b(Me)},Tn=function(Me){Me.stopPropagation(),re(!1),te||ue(null)},We=function(Me){Yt.current=!1,K==="loading"&&Me!=null&&Me.complete&&(Me.naturalWidth||Me.naturalHeight)&&(Yt.current=!0,Kt())};E.useEffect(function(){Dp(G).then(function(ze){ze||X("error")})},[G]),E.useEffect(function(){var ze=Ne(Ve,G);return ze},[]),E.useEffect(function(){Ne(Ve,G,lt)},[G,lt]),E.useEffect(function(){se&&X("normal"),q&&!Yt.current&&X("loading")},[r]);var Se=Pe(s,y,D,ge({},"".concat(s,"-error"),se)),Ge=se&&c?c:G,at={crossOrigin:O,decoding:I,draggable:_,loading:k,referrerPolicy:N,sizes:S,srcSet:A,useMap:P,onError:x,alt:a,className:Pe("".concat(s,"-img"),ge({},"".concat(s,"-img-placeholder"),h===!0),g),style:de({height:u},p)};return E.createElement(E.Fragment,null,E.createElement("div",oe({},L,{className:Se,onClick:lt?an:b,style:de({width:l,height:u},C)}),E.createElement("img",oe({},at,{ref:We},se&&c?{src:c}:{onLoad:Kt,src:r},{width:l,height:u})),K==="loading"&&E.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},h),z&&lt&&E.createElement("div",{className:Pe("".concat(s,"-mask"),M),style:{display:((n=at.style)===null||n===void 0?void 0:n.display)==="none"?"none":void 0}},z)),!Ae&&lt&&E.createElement(ys,oe({"aria-hidden":!ee,visible:ee,prefixCls:f,onClose:Tn,mousePosition:J,src:Ge,alt:a,getContainer:U,icons:H,scaleStep:W,rootClassName:D},V)))};na.PreviewGroup=xp;na.displayName="Image";var kp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Ap=kp;var bs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Ap}))};bs.displayName="RotateLeftOutlined";const Pp=E.forwardRef(bs);var Tp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const _p=Tp;var xs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:_p}))};xs.displayName="RotateRightOutlined";const Rp=E.forwardRef(xs);var Mp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Lp=Mp;var Cs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Lp}))};Cs.displayName="SwapOutlined";const ho=E.forwardRef(Cs);var $p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const Bp=$p;var ws=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Bp}))};ws.displayName="ZoomInOutlined";const Fp=E.forwardRef(ws);var qp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const jp=qp;var Ss=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:jp}))};Ss.displayName="ZoomOutOutlined";const Hp=E.forwardRef(Ss),Ga=e=>({position:e||"absolute",inset:0}),zp=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:a,prefixCls:i}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new Pt("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Pl),{padding:`0 ${r}px`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},Up=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,imagePreviewOperationDisabledColor:a,motionDurationSlow:i}=e,o=new Pt(n).setAlpha(.1),s=o.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},oi(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:o.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${i}`,"&:hover":{background:s.toRgbString()},"&-disabled":{color:a,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}})}},Vp=e=>{const{modalMaskBg:t,iconCls:n,imagePreviewOperationDisabledColor:r,previewCls:a,zIndexPopup:i,motionDurationSlow:o}=e,s=new Pt(t).setAlpha(.1),d=s.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${o}`,pointerEvents:"auto","&:hover":{background:d.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.imagePreviewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},Wp=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ga()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},Ga()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[Up(e),Vp(e)]}]},Gp=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},zp(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Ga())}}},Yp=e=>{const{previewCls:t}=e;return{[`${t}-root`]:cd(e,"zoom"),["&"]:ud(e,!0)}},Es=Qr("Image",e=>{const t=new Pt(e.colorTextLightSolid),n=`${e.componentCls}-preview`,r=Mr(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new Pt(t).setAlpha(.25).toRgbString(),modalMaskBg:new Pt("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:e.fontSizeIcon*1.5,imagePreviewSwitchSize:e.controlHeightLG});return[Gp(r),Wp(r),sd(Mr(r,{componentCls:n})),Yp(r)]},e=>({zIndexPopup:e.zIndexPopupBase+80}));var Kp=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Os={rotateLeft:E.createElement(Pp,null),rotateRight:E.createElement(Rp,null),zoomIn:E.createElement(Fp,null),zoomOut:E.createElement(Hp,null),close:E.createElement(ht,null),left:E.createElement(dn,null),right:E.createElement(Tl,null),flipX:E.createElement(ho,null),flipY:E.createElement(ho,{rotate:90})},Xp=e=>{var{previewPrefixCls:t,preview:n}=e,r=Kp(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=E.useContext(mn),i=a("image",t),o=`${i}-preview`,s=a(),[d,f]=Es(i),h=E.useMemo(()=>{var c;if(n===!1)return n;const l=typeof n=="object"?n:{},u=Pe(f,(c=l.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},l),{transitionName:un(s,"zoom",l.transitionName),maskTransitionName:un(s,"fade",l.maskTransitionName),rootClassName:u})},[n]);return d(E.createElement(na.PreviewGroup,Object.assign({preview:h,previewPrefixCls:o,icons:Os},r)))},Zp=Xp;var po=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Is=e=>{var{prefixCls:t,preview:n,rootClassName:r}=e,a=po(e,["prefixCls","preview","rootClassName"]);const{getPrefixCls:i,locale:o=Ki,getPopupContainer:s}=E.useContext(mn),d=i("image",t),f=i(),h=o.Image||Ki.Image,[c,l]=Es(d),u=Pe(r,l),p=E.useMemo(()=>{if(n===!1)return n;const v=typeof n=="object"?n:{},{getContainer:m}=v,g=po(v,["getContainer"]);return Object.assign(Object.assign({mask:E.createElement("div",{className:`${d}-mask-info`},E.createElement(_l,null),h==null?void 0:h.preview),icons:Os},g),{getContainer:m||s,transitionName:un(f,"zoom",v.transitionName),maskTransitionName:un(f,"fade",v.maskTransitionName)})},[n,h]);return c(E.createElement(na,Object.assign({prefixCls:`${d}`,preview:p,rootClassName:u},a)))};Is.PreviewGroup=Zp;const Qp=Is;var Jp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"};const ev=Jp;var Ns=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:ev}))};Ns.displayName="AlignLeftOutlined";const tv=E.forwardRef(Ns);var nv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const rv=nv;var Ds=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:rv}))};Ds.displayName="ArrowRightOutlined";const av=E.forwardRef(Ds);var iv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M433.1 657.7a31.8 31.8 0 0051.7 0l210.6-292c3.8-5.3 0-12.7-6.5-12.7H642c-10.2 0-19.9 4.9-25.9 13.3L459 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H315c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"check-square",theme:"outlined"};const ov=iv;var ks=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:ov}))};ks.displayName="CheckSquareOutlined";const xi=E.forwardRef(ks);var lv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};const sv=lv;var As=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:sv}))};As.displayName="ContainerOutlined";const cv=E.forwardRef(As);var uv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const dv=uv;var Ps=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:dv}))};Ps.displayName="CopyOutlined";const Ts=E.forwardRef(Ps);var fv={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const hv=fv;var _s=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:hv}))};_s.displayName="InboxOutlined";const Rs=E.forwardRef(_s);var pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const vv=pv;var Ms=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:vv}))};Ms.displayName="LogoutOutlined";const gv=E.forwardRef(Ms);var mv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"};const yv=mv;var Ls=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:yv}))};Ls.displayName="MessageOutlined";const bv=E.forwardRef(Ls);var xv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const Cv=xv;var $s=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Cv}))};$s.displayName="MinusOutlined";const Bs=E.forwardRef($s);var wv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};const Sv=wv;var Fs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Sv}))};Fs.displayName="SendOutlined";const Ev=E.forwardRef(Fs);var Ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const Iv=Ov;var qs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Iv}))};qs.displayName="SettingOutlined";const Nv=E.forwardRef(qs);var Dv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};const kv=Dv;var js=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:kv}))};js.displayName="ShareAltOutlined";const Av=E.forwardRef(js);var Pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};const Tv=Pv;var Hs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Tv}))};Hs.displayName="TagOutlined";const zs=E.forwardRef(Hs);var _v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};const Rv=_v;var Us=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Rv}))};Us.displayName="UndoOutlined";const Vs=E.forwardRef(Us);var Mv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const Lv=Mv;var Ws=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Lv}))};Ws.displayName="UploadOutlined";const $v=E.forwardRef(Ws);var Bv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"};const Fv=Bv;var Gs=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Fv}))};Gs.displayName="UsergroupAddOutlined";const qv=E.forwardRef(Gs);var jv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"};const Hv=jv;var Ys=function(t,n){return E.createElement(qe,de(de({},t),{},{ref:n,icon:Hv}))};Ys.displayName="WalletOutlined";const zv=E.forwardRef(Ys);function Uv(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Or=(e,t,n)=>{const r=Uv(n);return{[`${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},Vv=e=>dd(e,(t,n)=>{let{textColor:r,lightBorderColor:a,lightColor:i,darkColor:o}=n;return{[`${e.componentCls}-${t}`]:{color:r,background:i,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:o,borderColor:o},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Wv=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:a}=e,i=r-n,o=t-n;return{[a]:Object.assign(Object.assign({},oi(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${a}-close-icon`]:{marginInlineStart:o,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Ks=Qr("Tag",e=>{const{fontSize:t,lineHeight:n,lineWidth:r,fontSizeIcon:a}=e,i=Math.round(t*n),o=e.fontSizeSM,s=i-r*2,d=e.colorFillQuaternary,f=e.colorText,h=Mr(e,{tagFontSize:o,tagLineHeight:s,tagDefaultBg:d,tagDefaultColor:f,tagIconSize:a-2*r,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[Wv(h),Vv(h),Or(h,"success","Success"),Or(h,"processing","Info"),Or(h,"error","Error"),Or(h,"warning","Warning")]});var Gv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Yv=e=>{const{prefixCls:t,className:n,checked:r,onChange:a,onClick:i}=e,o=Gv(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:s}=E.useContext(mn),d=u=>{a==null||a(!r),i==null||i(u)},f=s("tag",t),[h,c]=Ks(f),l=Pe(f,{[`${f}-checkable`]:!0,[`${f}-checkable-checked`]:r},n,c);return h(E.createElement("span",Object.assign({},o,{className:l,onClick:d})))},Kv=Yv;var Xv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Zv=(e,t)=>{const{prefixCls:n,className:r,rootClassName:a,style:i,children:o,icon:s,color:d,onClose:f,closeIcon:h,closable:c=!1,bordered:l=!0}=e,u=Xv(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:p,direction:v}=E.useContext(mn),[m,g]=E.useState(!0);E.useEffect(()=>{"visible"in u&&g(u.visible)},[u.visible]);const b=fd(d)||hd(d),x=Object.assign({backgroundColor:d&&!b?d:void 0},i),y=p("tag",n),[C,D]=Ks(y),O=Pe(y,{[`${y}-${d}`]:b,[`${y}-has-color`]:d&&!b,[`${y}-hidden`]:!m,[`${y}-rtl`]:v==="rtl",[`${y}-borderless`]:!l},r,a,D),I=_=>{_.stopPropagation(),f==null||f(_),!_.defaultPrevented&&g(!1)},k=E.useMemo(()=>c?h?E.createElement("span",{className:`${y}-close-icon`,onClick:I},h):E.createElement(ht,{className:`${y}-close-icon`,onClick:I}):null,[c,h,y,I]),N=typeof u.onClick=="function"||o&&o.type==="a",S=s||null,A=S?E.createElement(E.Fragment,null,S,E.createElement("span",null,o)):o,P=E.createElement("span",Object.assign({},u,{ref:t,className:O,style:x}),A,k);return C(N?E.createElement(pd,null,P):P)},Xs=E.forwardRef(Zv);Xs.CheckableTag=Kv;const Qv=Xs;var Zs=(e=>(e.DATE="DATE",e.CHECKLIST="CHECKLIST",e.NONE="NONE",e))(Zs||{});const vo={isShow:!1,type:"NONE",position:null},Qs=E.createContext(null),Jv=({children:e})=>{const[t,n]=E.useState(null),[r,a]=E.useState(vo),i=()=>{a(vo)};return w(Qs.Provider,{value:{cardData:t,setCardData:n,openPopover:r,PopoverType:Zs,setOpenPopover:a,handleClosePopover:i},children:e})},or=()=>Ie.useContext(Qs),He=()=>{const{cardId:e}=Jr();return ke(vd(e))},go=ye.div`
  font-size: 12px;
  font-weight: 600;
  line-height: 150%;
  margin-bottom: 8px;
`,eg=ye(Mh)`
  border: 1px solid #e9e9e9;
  margin-bottom: 24px;

  .ant-picker-calendar-mode-switch {
    display: none;
    margin-bottom: 16px;
  }

  .range-marker {
    height: calc(100% + 10px);
    width: calc(100% + 10px);
    background-color: #d6f3ff8c;
    border-radius: 4px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: -1;
  }
`,tg=ye.div`
  .dayPickerForm {
    display: flex;
    margin-bottom: 16px;
  }

  .dateDisplay {
    background-color: #e9e9e9;
    padding: 4px 8px;
    opacity: 0.5;
  }

  .isShow {
    display: block;
  }

  .isHidden {
    display: none;
  }
`,ng=()=>{const e=He(),t=we(),{handleClosePopover:n}=or(),{id:r="",date:a={}}=e??{},{startDate:i="",dueDate:o=""}=a??{},[s,d]=E.useState(i?()=>je(i):null),[f,h]=E.useState(o?()=>je(o):null),[c,l]=E.useState(""),[u,p]=E.useState(!1),[v,m]=E.useState(!0),g=E.useRef(null),b=E.useRef(null),x=()=>{if(c===""&&!s&&!f)return je(new Date);switch(c){case"start":return s||void 0;case"end":return f||void 0;default:return}},y=k=>{if(c==="start"){if(f&&k.isAfter(f)){d(k),h(k.add(1,"day"));return}d(k)}else if(c==="end"){if(s&&k.isBefore(s)){h(k),d(k.subtract(1,"day"));return}h(k)}},C=(k,N)=>{switch(N){case"start":p(k.target.checked),k.target.checked?l("start"):d(null);break;case"end":m(k.target.checked),k.target.checked?l("end"):h(null);break}},D=async()=>{if(!u&&!v){O();return}try{await t(gd({cardId:r,startDate:(s==null?void 0:s.format())??"",dueDate:(f==null?void 0:f.format())??""})),n()}catch(k){console.error(k)}},O=async()=>{try{await t(md(r)),l(""),d(null),h(null),m(!1),p(!1),n()}catch(k){console.error(k)}};E.useEffect(()=>{s&&p(!0),f&&m(!0)},[]),E.useEffect(()=>{var k,N,S;!s&&!f?((k=b==null?void 0:b.current)==null||k.focus(),h(je(new Date))):s&&!f?(N=g==null?void 0:g.current)==null||N.focus():(S=b==null?void 0:b.current)==null||S.focus()},[]);const I=k=>!s||!f?null:(k==null?void 0:k.isBetween(s,f,"day","[]"))?w("div",{className:"range-marker"}):null;return Z(Fe,{children:[w(eg,{value:x(),fullscreen:!1,onChange:y,onSelect:y,cellRender:I}),Z(tg,{children:[Z(Qe,{size:0,direction:"vertical",className:"dayPickerForm",children:[w(go,{children:"起始日"}),Z(Qe,{size:4,children:[w(Yn,{checked:u,onChange:k=>C(k,"start")}),w(Ue,{type:"text",value:(s==null?void 0:s.format("YYYY年MM月DD日"))||"",onFocus:()=>l("start"),className:u?"isShow":"isHidden",placeholder:"年月日",ref:g}),!u&&w("span",{className:"dateDisplay",children:(s==null?void 0:s.format("YYYY年MM月DD日"))||"年月日"})]})]}),Z(Qe,{size:0,direction:"vertical",className:"dayPickerForm",children:[w(go,{children:"截止日"}),Z(Qe,{size:4,children:[w(Yn,{checked:v,onChange:k=>C(k,"end")}),w(Ue,{type:"text",value:(f==null?void 0:f.format("YYYY年MM月DD日"))||"",onFocus:()=>l("end"),className:v?"isShow":"isHidden",placeholder:"年月日",ref:b}),!v&&w("span",{className:"dateDisplay",children:(f==null?void 0:f.format("YYYY年MM月DD日"))||"年月日"})]})]})]}),w(le,{type:"primary",block:!0,onClick:D,style:{marginBlock:"8px"},children:"儲存"}),w(le,{block:!0,onClick:O,children:"移除"})]})};function rg(e,t){if("card"in t){const n=t,r=e.filter(({_id:a})=>a!==n._id);return n.closed||r.push(n),fn.cloneDeep(r)}if("listId"in t){const n=t;return e.forEach(r=>{r.card=r.card.filter(({_id:a})=>a!==n._id)}),e.filter(({_id:r})=>r===n.listId).forEach(r=>{n.closed||r.card.push(n)}),fn.cloneDeep(e)}return e}const mo=65535,kt=[{color:"#FBF8CC"},{color:"#FDE4CF"},{color:"#FFCFD2"},{color:"#F1C0E8"},{color:"#CFBAF0"},{color:"#A3C4F3"},{color:"#90DBF4"},{color:"#8EECF5"},{color:"#98F5E1"}];function ag(e){return e===void 0}var ig=ag;const yo=Wt(ig);function xt(e,t,n){const r=yo(n)?e:e.filter(s=>s._id!==n);if(yo(t)){const s=r[r.length-1];return(s?Number(s.position):0)+mo}const a=r[t-1],i=r[t],o=a?Number(a.position):0;return i?o+(Number(i.position)-o)/2:o+mo}function bo(e,t,n="Card"){if(!e.destination)throw new Error("DropResult 錯誤");if(n==="Card"){const r=t,{target:a,position:i,newList:o,newId:s}=xo(e,r,"card");return a.position=`${i}`,Rl({listId:s,cardId:a._id,position:`${i}`}),o}else{const r=t,{target:a,position:i,newList:o,newId:s}=xo(e,r,"checkItem");a.position=`${i}`;const d=e.source.droppableId;return Ml({cardId:r.find(({_id:f})=>f===s).cardId,checkItemId:a._id,checklistIdOld:d,checklistId:s,position:`${i}`}),o}}function xo(e,t,n){if(!e.destination)throw new Error("DropResult 錯誤");const r=e.source.droppableId,a=e.source.index,i=e.destination.droppableId,o=e.destination.index,[s,d]=[r,i].map(l=>t.filter(({_id:u})=>u===l).flatMap(u=>u[n])),f=xt(d,o),h=s[a];s.splice(a,1),d.splice(o,0,h);const c=t.map(l=>l._id===r?{...l,[n]:s}:l._id===i?{...l,[n]:d}:l);return{target:h,position:f,newList:c,newId:i}}function Ya(e,t){if(!e.destination)throw new Error("DropResult 錯誤");const n=e.source.index,r=e.destination.index,a=r+(n<r?1:0),i=xt(t,a);return{target:t.find(({_id:s})=>s===e.draggableId),position:i}}function og(e,t){if(!e.destination)return t;const n=t.find(({_id:r})=>{var a;return r===((a=e.destination)==null?void 0:a.droppableId)});if(n&&"card"in n&&Array.isArray(n.card)){const{target:r,position:a}=Ya(e,n.card);r&&(r.position=`${a}`,Rl({cardId:r._id,position:r.position}))}if(n&&"cardId"in n&&typeof n.cardId=="string"&&"checkItem"in n&&Array.isArray(n.checkItem)){const{target:r,position:a}=Ya(e,n.checkItem);r&&(r.position=`${a}`,Ml({cardId:n.cardId,checklistId:r.checklistId,checkItemId:r._id,position:r.position}))}return t}function lg(e,t){if(!e.destination)throw new Error("DropResult 錯誤");const{target:n,position:r}=Ya(e,t);return n&&sg(n,r),t}function sg(e,t){e.position=`${t}`,"checkItem"in e&&"cardId"in e&&typeof e.cardId=="string"?yd({cardId:e.cardId,checklistId:e._id,position:e.position}):"card"in e&&bd({listId:e._id,position:e.position})}function Js(e,t,n="Card"){if(!e.destination)return;const r=e.source.droppableId,a=e.source.index,i=e.destination.droppableId,o=e.destination.index;if(!(a===o&&r===i))return e.type==="COLUMN"?lg(e,t):r===i?og(e,t):n==="CheckList"?bo(e,t,n):bo(e,t)}const cg=ye.div`
  box-shadow: 0px 4px 24px rgba(0, 0, 0, 0.1);
  position: absolute;
  top: ${e=>{var t;return(t=e==null?void 0:e.position)==null?void 0:t.top}}px;
  left: ${e=>{var t;return(t=e==null?void 0:e.position)!=null&&t.left?`${e.position.left}px`:"auto"}};
  right: ${e=>{var t;return(t=e==null?void 0:e.position)!=null&&t.right?`${e.position.right}px`:"auto"}};
  z-index: 1010;

  .ant-card-head-title {
    text-align: center;
  }

  .ant-card-extra {
    position: absolute;
    right: 0;
  }
`,ug=ye.div`
  font-size: 12px;
  font-weight: 600;
  line-height: 150%;
  margin-bottom: 8px;
`,dg=()=>{const e=we(),t=He(),{handleClosePopover:n}=or(),[r,a]=E.useState("待辦清單"),[i,o]=E.useState(!1),s=async()=>{if(!(r.trim()===""||!t)){o(!0);try{await e(xd({cardId:t._id,name:r,position:`${xt(t.checklist)}`})),n()}catch(d){console.log("error",d)}finally{o(!1)}}};return Z(Fe,{children:[w(ug,{children:"標題"}),w(Be,{children:w(xe,{span:24,children:w(Ue,{type:"text",placeholder:"待辦清單",value:r,onChange:d=>a(d.target.value),onPressEnter:()=>{s()},style:{width:"100%"}})})}),w(le,{type:"primary",block:!0,onClick:s,style:{marginBlock:"8px"},loading:i,children:"新增"})]})},fg=()=>{const{openPopover:e,handleClosePopover:t,PopoverType:n}=or(),{isShow:r,type:a,position:i=null}=e,o=()=>{switch(a){case n.DATE:return w(ng,{});case n.CHECKLIST:return w(dg,{});default:return null}};return w(Fe,{children:r&&w(cg,{position:i,children:w(Qe,{direction:"vertical",size:16,children:w(Mt,{title:(()=>{switch(a){case n.DATE:return"日期";case n.CHECKLIST:return"新增待辦清單";default:return""}})(),extra:w(le,{type:"link",icon:w(ht,{}),onClick:t}),size:"small",style:{width:326},children:o()})})})})},ec=e=>{const t=ke(nr),[n,r]=E.useState(t.filter(({board:i})=>i.length).map(({id:i,name:o,board:s})=>({value:i,label:o,children:s.map(({id:d,name:f})=>({value:d,label:f,isLeaf:!1}))}))),a=async i=>{const o=i[i.length-1];if(!o||i.length!==2)return;const{result:s}=await Ll(`${o.value}`);o.children=s.list.sort((d,f)=>+d.position-+f.position).map(({id:d,name:f,card:h})=>({value:d,label:f,children:[...h.sort((c,l)=>+c.position-+l.position).map((c,l,u)=>({value:xt(u,l),label:l})),{value:xt(h,h.length),label:h.length}]})),r([...n])};return w(be.Item,{...e,children:w(ps,{placement:"bottomRight",options:n,loadData:a})})},tc=({children:e})=>{const t=we(),n=nn(),r=He(),[a]=be.useForm(),[i,o]=E.useState({isLoading:!1,isPopoverOpen:!1}),s=async({cascader:[,d,f,h]})=>{if(r){o(c=>({...c,isLoading:!0}));try{await t(ci({boardId:d,listId:f,sourceBoardId:r.boardId,cardId:r.id,position:`${h}`}))}catch{}n(`/board/${d}`),o({isPopoverOpen:!1,isLoading:!1})}};return w($t,{placement:"bottom",trigger:"click",open:i.isPopoverOpen,onOpenChange:d=>{o({isLoading:!1,isPopoverOpen:d})},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"移動卡片"}),content:w(pt,{spinning:i.isLoading,children:Z(be,{layout:"vertical",form:a,onFinish:s,children:[w(ec,{label:"移動到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(be.Item,{children:w(le,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"移動"})})]})}),children:e})},hg=ye.div`
  padding: 0;
  margin: 0 0 16px;

  .coverImg {
    width: 100%;
    height: 160px;
    border-radius: 0;
    overflow: hidden;
  }
`,pg=ye.div`
  border-bottom: 1px solid #d4d4d4;
  padding: 20px 20px 12px;
  margin-bottom: 8px;

  .col {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .icon {
    color: #0083ff;
    font-size: 16px;
  }

  p {
    color: #666666;
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
    cursor: pointer;
  }
`,vg=ye.div`
  padding: 0 20px 0;

  .titleInput {
    width: 100%;
  }

  .titleTxt,
  .titleInput {
    font-size: 24px;
    font-weight: 600;
    line-height: 120%;
  }
`,gg=()=>{const e=He(),t=we(),n=ke(Cd(e==null?void 0:e._id)),r=ke(wd),a=e==null?void 0:e.member.find(({userId:i})=>i._id===r._id);return w(pg,{children:Z(Be,{align:"middle",gutter:24,children:[Z(xe,{flex:"none",className:"col",children:[w(Rs,{className:"icon"}),w(tc,{children:Z("p",{children:["在「",w("u",{children:n==null?void 0:n.name}),"」列表中"]})})]}),!a&&Z(xe,{flex:"none",className:"col",children:[w(qv,{className:"icon"}),w("p",{onClick:async()=>{e&&(await t(ui({cardId:e==null?void 0:e._id,userIdList:[r._id]})),Ot({message:"加入成功"}))},children:"加入"})]}),Z(xe,{flex:"none",className:"col",children:[w(_l,{className:"icon"}),w("p",{children:"追蹤"})]})]})})},mg=()=>{const e=He(),[t,n]=E.useState(!1),[r,a]=E.useState((e==null?void 0:e.name)||""),i=we(),o=()=>{e&&(r!==e.name&&i($l({cardId:e.id,name:r})),n(!1))};return w(vg,{children:w(Be,{align:"middle",gutter:4,children:w(xe,{flex:"auto",children:t?w(Ue.TextArea,{ref:s=>{s&&(s.focus({cursor:"end"}),n(!0))},autoSize:!0,placeholder:"請輸入標題",value:r,onChange:s=>a(s.target.value),onFocus:()=>n(!0),onBlur:o,onPressEnter:()=>{o()},className:"titleInput"}):w("h2",{onClick:()=>n(!0),className:"titleTxt",children:r})})})})},yg=()=>{var n;const e=He(),t=(n=e==null?void 0:e.attachment.at(0))==null?void 0:n.dirname;return w(Fe,{children:Z(hg,{children:[t&&w(Qp,{src:t,width:"100%",className:"coverImg",style:{objectFit:"cover"}}),w(gg,{}),w(mg,{})]})})},{Content:bg}=di,xg={color:"var(--modal-color)",background:"white",padding:"16px 16px 0 0"},Cg=ye(bg)`
  .contentDescription {
    display: flex;
    align-items: center;
    font: 14px;
    line-height: 150%;
    margin: 8px;
  }
`,wn=ye(Be)`
  align-items: center;
  color: var(--modal-color);
  font-size: 14px;
  line-height: 150%;
  margin-bottom: 8px;

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none;
  }
`,nc=ye.div`
  margin-bottom: 16px;

  .descriptionDisplay {
    min-height: 100px;
  }

  .descriptionEmpty {
    width: 100%;
    height: 100px;
  }

  .descriptionDisplay,
  .descriptionEmpty {
    border: 1px solid #d4d4d4;
    border-radius: 8px;
    padding: 8px 12px;
  }
`,wg=ye.div`
  display: flex;
  align-items: center;
  line-height: 1;

  .cardDate {
    min-height: 34px;
    background-color: #e9e9e980;
    border-radius: 4px;
    padding: 6px 12px;
    cursor: pointer;

    &:hover {
      background-color: #e9e9e9;
    }
  }

  .checkFinish {
    margin-left: 12px;
  }
`,Sg=ye.div`
  background-color: var(--comment-form-background);
  border-radius: 6px;
  padding: 16px;
  position: relative;
  .ant-form-item-label ::after {
    display: none;
  }
  .ant-form-item {
    margin-bottom: 0;
  }
  .ant-btn {
    position: absolute;
    right: 16px;
    bottom: 16px;
  }
`,Eg=ye.div`
  .userName {
    color: #232323;
    font-size: 14px;
    font-weight: 600;
    line-height: 150%;
  }

  .timeText {
    color: var(--gray9f);
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
  }

  .comment {
    color: #232323;
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
  }

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none !important;
  }
`;function Og(){this.__data__=[],this.size=0}var Ig=Og;function Ng(e,t){return e===t||e!==e&&t!==t}var rc=Ng,Dg=rc;function kg(e,t){for(var n=e.length;n--;)if(Dg(e[n][0],t))return n;return-1}var ra=kg,Ag=ra,Pg=Array.prototype,Tg=Pg.splice;function _g(e){var t=this.__data__,n=Ag(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Tg.call(t,n,1),--this.size,!0}var Rg=_g,Mg=ra;function Lg(e){var t=this.__data__,n=Mg(t,e);return n<0?void 0:t[n][1]}var $g=Lg,Bg=ra;function Fg(e){return Bg(this.__data__,e)>-1}var qg=Fg,jg=ra;function Hg(e,t){var n=this.__data__,r=jg(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var zg=Hg,Ug=Ig,Vg=Rg,Wg=$g,Gg=qg,Yg=zg;function Sn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sn.prototype.clear=Ug;Sn.prototype.delete=Vg;Sn.prototype.get=Wg;Sn.prototype.has=Gg;Sn.prototype.set=Yg;var aa=Sn,Kg=aa;function Xg(){this.__data__=new Kg,this.size=0}var Zg=Xg;function Qg(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Jg=Qg;function em(e){return this.__data__.get(e)}var tm=em;function nm(e){return this.__data__.has(e)}var rm=nm,am=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze,ac=am,im=ac,om=typeof self=="object"&&self&&self.Object===Object&&self,lm=im||om||Function("return this")(),Bt=lm,sm=Bt,cm=sm.Symbol,Ci=cm,Co=Ci,ic=Object.prototype,um=ic.hasOwnProperty,dm=ic.toString,$n=Co?Co.toStringTag:void 0;function fm(e){var t=um.call(e,$n),n=e[$n];try{e[$n]=void 0;var r=!0}catch{}var a=dm.call(e);return r&&(t?e[$n]=n:delete e[$n]),a}var hm=fm,pm=Object.prototype,vm=pm.toString;function gm(e){return vm.call(e)}var mm=gm,wo=Ci,ym=hm,bm=mm,xm="[object Null]",Cm="[object Undefined]",So=wo?wo.toStringTag:void 0;function wm(e){return e==null?e===void 0?Cm:xm:So&&So in Object(e)?ym(e):bm(e)}var ia=wm;function Sm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oc=Sm,Em=ia,Om=oc,Im="[object AsyncFunction]",Nm="[object Function]",Dm="[object GeneratorFunction]",km="[object Proxy]";function Am(e){if(!Om(e))return!1;var t=Em(e);return t==Nm||t==Dm||t==Im||t==km}var lc=Am,Pm=Bt,Tm=Pm["__core-js_shared__"],_m=Tm,Ia=_m,Eo=function(){var e=/[^.]+$/.exec(Ia&&Ia.keys&&Ia.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rm(e){return!!Eo&&Eo in e}var Mm=Rm,Lm=Function.prototype,$m=Lm.toString;function Bm(e){if(e!=null){try{return $m.call(e)}catch{}try{return e+""}catch{}}return""}var sc=Bm,Fm=lc,qm=Mm,jm=oc,Hm=sc,zm=/[\\^$.*+?()[\]{}|]/g,Um=/^\[object .+?Constructor\]$/,Vm=Function.prototype,Wm=Object.prototype,Gm=Vm.toString,Ym=Wm.hasOwnProperty,Km=RegExp("^"+Gm.call(Ym).replace(zm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xm(e){if(!jm(e)||qm(e))return!1;var t=Fm(e)?Km:Um;return t.test(Hm(e))}var Zm=Xm;function Qm(e,t){return e==null?void 0:e[t]}var Jm=Qm,ey=Zm,ty=Jm;function ny(e,t){var n=ty(e,t);return ey(n)?n:void 0}var En=ny,ry=En,ay=Bt,iy=ry(ay,"Map"),wi=iy,oy=En,ly=oy(Object,"create"),oa=ly,Oo=oa;function sy(){this.__data__=Oo?Oo(null):{},this.size=0}var cy=sy;function uy(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dy=uy,fy=oa,hy="__lodash_hash_undefined__",py=Object.prototype,vy=py.hasOwnProperty;function gy(e){var t=this.__data__;if(fy){var n=t[e];return n===hy?void 0:n}return vy.call(t,e)?t[e]:void 0}var my=gy,yy=oa,by=Object.prototype,xy=by.hasOwnProperty;function Cy(e){var t=this.__data__;return yy?t[e]!==void 0:xy.call(t,e)}var wy=Cy,Sy=oa,Ey="__lodash_hash_undefined__";function Oy(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sy&&t===void 0?Ey:t,this}var Iy=Oy,Ny=cy,Dy=dy,ky=my,Ay=wy,Py=Iy;function On(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}On.prototype.clear=Ny;On.prototype.delete=Dy;On.prototype.get=ky;On.prototype.has=Ay;On.prototype.set=Py;var Ty=On,Io=Ty,_y=aa,Ry=wi;function My(){this.size=0,this.__data__={hash:new Io,map:new(Ry||_y),string:new Io}}var Ly=My;function $y(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var By=$y,Fy=By;function qy(e,t){var n=e.__data__;return Fy(t)?n[typeof t=="string"?"string":"hash"]:n.map}var la=qy,jy=la;function Hy(e){var t=jy(this,e).delete(e);return this.size-=t?1:0,t}var zy=Hy,Uy=la;function Vy(e){return Uy(this,e).get(e)}var Wy=Vy,Gy=la;function Yy(e){return Gy(this,e).has(e)}var Ky=Yy,Xy=la;function Zy(e,t){var n=Xy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Qy=Zy,Jy=Ly,eb=zy,tb=Wy,nb=Ky,rb=Qy;function In(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}In.prototype.clear=Jy;In.prototype.delete=eb;In.prototype.get=tb;In.prototype.has=nb;In.prototype.set=rb;var cc=In,ab=aa,ib=wi,ob=cc,lb=200;function sb(e,t){var n=this.__data__;if(n instanceof ab){var r=n.__data__;if(!ib||r.length<lb-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ob(r)}return n.set(e,t),this.size=n.size,this}var cb=sb,ub=aa,db=Zg,fb=Jg,hb=tm,pb=rm,vb=cb;function Nn(e){var t=this.__data__=new ub(e);this.size=t.size}Nn.prototype.clear=db;Nn.prototype.delete=fb;Nn.prototype.get=hb;Nn.prototype.has=pb;Nn.prototype.set=vb;var gb=Nn,mb="__lodash_hash_undefined__";function yb(e){return this.__data__.set(e,mb),this}var bb=yb;function xb(e){return this.__data__.has(e)}var Cb=xb,wb=cc,Sb=bb,Eb=Cb;function qr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wb;++t<n;)this.add(e[t])}qr.prototype.add=qr.prototype.push=Sb;qr.prototype.has=Eb;var Ob=qr;function Ib(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Nb=Ib;function Db(e,t){return e.has(t)}var kb=Db,Ab=Ob,Pb=Nb,Tb=kb,_b=1,Rb=2;function Mb(e,t,n,r,a,i){var o=n&_b,s=e.length,d=t.length;if(s!=d&&!(o&&d>s))return!1;var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var c=-1,l=!0,u=n&Rb?new Ab:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var p=e[c],v=t[c];if(r)var m=o?r(v,p,c,t,e,i):r(p,v,c,e,t,i);if(m!==void 0){if(m)continue;l=!1;break}if(u){if(!Pb(t,function(g,b){if(!Tb(u,b)&&(p===g||a(p,g,n,r,i)))return u.push(b)})){l=!1;break}}else if(!(p===v||a(p,v,n,r,i))){l=!1;break}}return i.delete(e),i.delete(t),l}var uc=Mb,Lb=Bt,$b=Lb.Uint8Array,Bb=$b;function Fb(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var qb=Fb;function jb(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Hb=jb,No=Ci,Do=Bb,zb=rc,Ub=uc,Vb=qb,Wb=Hb,Gb=1,Yb=2,Kb="[object Boolean]",Xb="[object Date]",Zb="[object Error]",Qb="[object Map]",Jb="[object Number]",e1="[object RegExp]",t1="[object Set]",n1="[object String]",r1="[object Symbol]",a1="[object ArrayBuffer]",i1="[object DataView]",ko=No?No.prototype:void 0,Na=ko?ko.valueOf:void 0;function o1(e,t,n,r,a,i,o){switch(n){case i1:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case a1:return!(e.byteLength!=t.byteLength||!i(new Do(e),new Do(t)));case Kb:case Xb:case Jb:return zb(+e,+t);case Zb:return e.name==t.name&&e.message==t.message;case e1:case n1:return e==t+"";case Qb:var s=Vb;case t1:var d=r&Gb;if(s||(s=Wb),e.size!=t.size&&!d)return!1;var f=o.get(e);if(f)return f==t;r|=Yb,o.set(e,t);var h=Ub(s(e),s(t),r,a,i,o);return o.delete(e),h;case r1:if(Na)return Na.call(e)==Na.call(t)}return!1}var l1=o1;function s1(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var c1=s1,u1=Array.isArray,Si=u1,d1=c1,f1=Si;function h1(e,t,n){var r=t(e);return f1(e)?r:d1(r,n(e))}var p1=h1;function v1(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var g1=v1;function m1(){return[]}var y1=m1,b1=g1,x1=y1,C1=Object.prototype,w1=C1.propertyIsEnumerable,Ao=Object.getOwnPropertySymbols,S1=Ao?function(e){return e==null?[]:(e=Object(e),b1(Ao(e),function(t){return w1.call(e,t)}))}:x1,E1=S1;function O1(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var I1=O1;function N1(e){return e!=null&&typeof e=="object"}var sa=N1,D1=ia,k1=sa,A1="[object Arguments]";function P1(e){return k1(e)&&D1(e)==A1}var T1=P1,Po=T1,_1=sa,dc=Object.prototype,R1=dc.hasOwnProperty,M1=dc.propertyIsEnumerable,L1=Po(function(){return arguments}())?Po:function(e){return _1(e)&&R1.call(e,"callee")&&!M1.call(e,"callee")},$1=L1,jr={exports:{}};function B1(){return!1}var F1=B1;jr.exports;(function(e,t){var n=Bt,r=F1,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,d=s?s.isBuffer:void 0,f=d||r;e.exports=f})(jr,jr.exports);var fc=jr.exports,q1=9007199254740991,j1=/^(?:0|[1-9]\d*)$/;function H1(e,t){var n=typeof e;return t=t??q1,!!t&&(n=="number"||n!="symbol"&&j1.test(e))&&e>-1&&e%1==0&&e<t}var z1=H1,U1=9007199254740991;function V1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=U1}var hc=V1,W1=ia,G1=hc,Y1=sa,K1="[object Arguments]",X1="[object Array]",Z1="[object Boolean]",Q1="[object Date]",J1="[object Error]",e0="[object Function]",t0="[object Map]",n0="[object Number]",r0="[object Object]",a0="[object RegExp]",i0="[object Set]",o0="[object String]",l0="[object WeakMap]",s0="[object ArrayBuffer]",c0="[object DataView]",u0="[object Float32Array]",d0="[object Float64Array]",f0="[object Int8Array]",h0="[object Int16Array]",p0="[object Int32Array]",v0="[object Uint8Array]",g0="[object Uint8ClampedArray]",m0="[object Uint16Array]",y0="[object Uint32Array]",Le={};Le[u0]=Le[d0]=Le[f0]=Le[h0]=Le[p0]=Le[v0]=Le[g0]=Le[m0]=Le[y0]=!0;Le[K1]=Le[X1]=Le[s0]=Le[Z1]=Le[c0]=Le[Q1]=Le[J1]=Le[e0]=Le[t0]=Le[n0]=Le[r0]=Le[a0]=Le[i0]=Le[o0]=Le[l0]=!1;function b0(e){return Y1(e)&&G1(e.length)&&!!Le[W1(e)]}var x0=b0;function C0(e){return function(t){return e(t)}}var w0=C0,Hr={exports:{}};Hr.exports;(function(e,t){var n=ac,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Hr,Hr.exports);var S0=Hr.exports,E0=x0,O0=w0,To=S0,_o=To&&To.isTypedArray,I0=_o?O0(_o):E0,pc=I0,N0=I1,D0=$1,k0=Si,A0=fc,P0=z1,T0=pc,_0=Object.prototype,R0=_0.hasOwnProperty;function M0(e,t){var n=k0(e),r=!n&&D0(e),a=!n&&!r&&A0(e),i=!n&&!r&&!a&&T0(e),o=n||r||a||i,s=o?N0(e.length,String):[],d=s.length;for(var f in e)(t||R0.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||P0(f,d)))&&s.push(f);return s}var L0=M0,$0=Object.prototype;function B0(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$0;return e===n}var F0=B0;function q0(e,t){return function(n){return e(t(n))}}var j0=q0,H0=j0,z0=H0(Object.keys,Object),U0=z0,V0=F0,W0=U0,G0=Object.prototype,Y0=G0.hasOwnProperty;function K0(e){if(!V0(e))return W0(e);var t=[];for(var n in Object(e))Y0.call(e,n)&&n!="constructor"&&t.push(n);return t}var X0=K0,Z0=lc,Q0=hc;function J0(e){return e!=null&&Q0(e.length)&&!Z0(e)}var ex=J0,tx=L0,nx=X0,rx=ex;function ax(e){return rx(e)?tx(e):nx(e)}var ix=ax,ox=p1,lx=E1,sx=ix;function cx(e){return ox(e,sx,lx)}var ux=cx,Ro=ux,dx=1,fx=Object.prototype,hx=fx.hasOwnProperty;function px(e,t,n,r,a,i){var o=n&dx,s=Ro(e),d=s.length,f=Ro(t),h=f.length;if(d!=h&&!o)return!1;for(var c=d;c--;){var l=s[c];if(!(o?l in t:hx.call(t,l)))return!1}var u=i.get(e),p=i.get(t);if(u&&p)return u==t&&p==e;var v=!0;i.set(e,t),i.set(t,e);for(var m=o;++c<d;){l=s[c];var g=e[l],b=t[l];if(r)var x=o?r(b,g,l,t,e,i):r(g,b,l,e,t,i);if(!(x===void 0?g===b||a(g,b,n,r,i):x)){v=!1;break}m||(m=l=="constructor")}if(v&&!m){var y=e.constructor,C=t.constructor;y!=C&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof C=="function"&&C instanceof C)&&(v=!1)}return i.delete(e),i.delete(t),v}var vx=px,gx=En,mx=Bt,yx=gx(mx,"DataView"),bx=yx,xx=En,Cx=Bt,wx=xx(Cx,"Promise"),Sx=wx,Ex=En,Ox=Bt,Ix=Ex(Ox,"Set"),Nx=Ix,Dx=En,kx=Bt,Ax=Dx(kx,"WeakMap"),Px=Ax,Ka=bx,Xa=wi,Za=Sx,Qa=Nx,Ja=Px,vc=ia,Dn=sc,Mo="[object Map]",Tx="[object Object]",Lo="[object Promise]",$o="[object Set]",Bo="[object WeakMap]",Fo="[object DataView]",_x=Dn(Ka),Rx=Dn(Xa),Mx=Dn(Za),Lx=Dn(Qa),$x=Dn(Ja),Qt=vc;(Ka&&Qt(new Ka(new ArrayBuffer(1)))!=Fo||Xa&&Qt(new Xa)!=Mo||Za&&Qt(Za.resolve())!=Lo||Qa&&Qt(new Qa)!=$o||Ja&&Qt(new Ja)!=Bo)&&(Qt=function(e){var t=vc(e),n=t==Tx?e.constructor:void 0,r=n?Dn(n):"";if(r)switch(r){case _x:return Fo;case Rx:return Mo;case Mx:return Lo;case Lx:return $o;case $x:return Bo}return t});var Bx=Qt,Da=gb,Fx=uc,qx=l1,jx=vx,qo=Bx,jo=Si,Ho=fc,Hx=pc,zx=1,zo="[object Arguments]",Uo="[object Array]",Ir="[object Object]",Ux=Object.prototype,Vo=Ux.hasOwnProperty;function Vx(e,t,n,r,a,i){var o=jo(e),s=jo(t),d=o?Uo:qo(e),f=s?Uo:qo(t);d=d==zo?Ir:d,f=f==zo?Ir:f;var h=d==Ir,c=f==Ir,l=d==f;if(l&&Ho(e)){if(!Ho(t))return!1;o=!0,h=!1}if(l&&!h)return i||(i=new Da),o||Hx(e)?Fx(e,t,n,r,a,i):qx(e,t,d,n,r,a,i);if(!(n&zx)){var u=h&&Vo.call(e,"__wrapped__"),p=c&&Vo.call(t,"__wrapped__");if(u||p){var v=u?e.value():e,m=p?t.value():t;return i||(i=new Da),a(v,m,n,r,i)}}return l?(i||(i=new Da),jx(e,t,n,r,a,i)):!1}var Wx=Vx,Gx=Wx,Wo=sa;function gc(e,t,n,r,a){return e===t?!0:e==null||t==null||!Wo(e)&&!Wo(t)?e!==e&&t!==t:Gx(e,t,n,r,gc,a)}var Yx=gc,Kx=Yx;function Xx(e,t){return Kx(e,t)}var Zx=Xx,mc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,a){e.exports=a()})(typeof self<"u"?self:Ze,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(17),o=a(18),s=a(19),d=a(45),f=a(46),h=a(47),c=a(48),l=a(49),u=a(12),p=a(32),v=a(33),m=a(31),g=a(1),b={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:o.default,Leaf:s.default,Embed:c.default,Scroll:d.default,Block:h.default,Inline:f.default,Text:l.default,Attributor:{Attribute:u.default,Class:p.default,Style:v.default,Store:m.default}};r.default=b},function(n,r,a){var i=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var x in b)b.hasOwnProperty(x)&&(g[x]=b[x])};return function(g,b){m(g,b);function x(){this.constructor=g}g.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(m){i(g,m);function g(b){var x=this;return b="[Parchment] "+b,x=m.call(this,b)||this,x.message=b,x.name=x.constructor.name,x}return g}(Error);r.ParchmentError=o;var s={},d={},f={},h={};r.DATA_KEY="__blot";var c;(function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function l(m,g){var b=p(m);if(b==null)throw new o("Unable to create "+m+" blot");var x=b,y=m instanceof Node||m.nodeType===Node.TEXT_NODE?m:x.create(g);return new x(y,g)}r.create=l;function u(m,g){return g===void 0&&(g=!1),m==null?null:m[r.DATA_KEY]!=null?m[r.DATA_KEY].blot:g?u(m.parentNode,g):null}r.find=u;function p(m,g){g===void 0&&(g=c.ANY);var b;if(typeof m=="string")b=h[m]||s[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)b=h.text;else if(typeof m=="number")m&c.LEVEL&c.BLOCK?b=h.block:m&c.LEVEL&c.INLINE&&(b=h.inline);else if(m instanceof HTMLElement){var x=(m.getAttribute("class")||"").split(/\s+/);for(var y in x)if(b=d[x[y]],b)break;b=b||f[m.tagName]}return b==null?null:g&c.LEVEL&b.scope&&g&c.TYPE&b.scope?b:null}r.query=p;function v(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];if(m.length>1)return m.map(function(y){return v(y)});var b=m[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new o("Invalid definition");if(b.blotName==="abstract")throw new o("Cannot register abstract class");if(h[b.blotName||b.attrName]=b,typeof b.keyName=="string")s[b.keyName]=b;else if(b.className!=null&&(d[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(y){return y.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var x=Array.isArray(b.tagName)?b.tagName:[b.tagName];x.forEach(function(y){(f[y]==null||b.className==null)&&(f[y]=b)})}return b}r.register=v},function(n,r,a){var i=a(51),o=a(11),s=a(3),d=a(20),f=String.fromCharCode(0),h=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};h.prototype.insert=function(c,l){var u={};return c.length===0?this:(u.insert=c,l!=null&&typeof l=="object"&&Object.keys(l).length>0&&(u.attributes=l),this.push(u))},h.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},h.prototype.retain=function(c,l){if(c<=0)return this;var u={retain:c};return l!=null&&typeof l=="object"&&Object.keys(l).length>0&&(u.attributes=l),this.push(u)},h.prototype.push=function(c){var l=this.ops.length,u=this.ops[l-1];if(c=s(!0,{},c),typeof u=="object"){if(typeof c.delete=="number"&&typeof u.delete=="number")return this.ops[l-1]={delete:u.delete+c.delete},this;if(typeof u.delete=="number"&&c.insert!=null&&(l-=1,u=this.ops[l-1],typeof u!="object"))return this.ops.unshift(c),this;if(o(c.attributes,u.attributes)){if(typeof c.insert=="string"&&typeof u.insert=="string")return this.ops[l-1]={insert:u.insert+c.insert},typeof c.attributes=="object"&&(this.ops[l-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof u.retain=="number")return this.ops[l-1]={retain:u.retain+c.retain},typeof c.attributes=="object"&&(this.ops[l-1].attributes=c.attributes),this}}return l===this.ops.length?this.ops.push(c):this.ops.splice(l,0,c),this},h.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},h.prototype.filter=function(c){return this.ops.filter(c)},h.prototype.forEach=function(c){this.ops.forEach(c)},h.prototype.map=function(c){return this.ops.map(c)},h.prototype.partition=function(c){var l=[],u=[];return this.forEach(function(p){var v=c(p)?l:u;v.push(p)}),[l,u]},h.prototype.reduce=function(c,l){return this.ops.reduce(c,l)},h.prototype.changeLength=function(){return this.reduce(function(c,l){return l.insert?c+d.length(l):l.delete?c-l.delete:c},0)},h.prototype.length=function(){return this.reduce(function(c,l){return c+d.length(l)},0)},h.prototype.slice=function(c,l){c=c||0,typeof l!="number"&&(l=1/0);for(var u=[],p=d.iterator(this.ops),v=0;v<l&&p.hasNext();){var m;v<c?m=p.next(c-v):(m=p.next(l-v),u.push(m)),v+=d.length(m)}return new h(u)},h.prototype.compose=function(c){var l=d.iterator(this.ops),u=d.iterator(c.ops),p=[],v=u.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var m=v.retain;l.peekType()==="insert"&&l.peekLength()<=m;)m-=l.peekLength(),p.push(l.next());v.retain-m>0&&u.next(v.retain-m)}for(var g=new h(p);l.hasNext()||u.hasNext();)if(u.peekType()==="insert")g.push(u.next());else if(l.peekType()==="delete")g.push(l.next());else{var b=Math.min(l.peekLength(),u.peekLength()),x=l.next(b),y=u.next(b);if(typeof y.retain=="number"){var C={};typeof x.retain=="number"?C.retain=b:C.insert=x.insert;var D=d.attributes.compose(x.attributes,y.attributes,typeof x.retain=="number");if(D&&(C.attributes=D),g.push(C),!u.hasNext()&&o(g.ops[g.ops.length-1],C)){var O=new h(l.rest());return g.concat(O).chop()}}else typeof y.delete=="number"&&typeof x.retain=="number"&&g.push(y)}return g.chop()},h.prototype.concat=function(c){var l=new h(this.ops.slice());return c.ops.length>0&&(l.push(c.ops[0]),l.ops=l.ops.concat(c.ops.slice(1))),l},h.prototype.diff=function(c,l){if(this.ops===c.ops)return new h;var u=[this,c].map(function(b){return b.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:f;var y=b===c?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),p=new h,v=i(u[0],u[1],l),m=d.iterator(this.ops),g=d.iterator(c.ops);return v.forEach(function(b){for(var x=b[1].length;x>0;){var y=0;switch(b[0]){case i.INSERT:y=Math.min(g.peekLength(),x),p.push(g.next(y));break;case i.DELETE:y=Math.min(x,m.peekLength()),m.next(y),p.delete(y);break;case i.EQUAL:y=Math.min(m.peekLength(),g.peekLength(),x);var C=m.next(y),D=g.next(y);o(C.insert,D.insert)?p.retain(y,d.attributes.diff(C.attributes,D.attributes)):p.push(D).delete(y);break}x-=y}}),p.chop()},h.prototype.eachLine=function(c,l){l=l||`
`;for(var u=d.iterator(this.ops),p=new h,v=0;u.hasNext();){if(u.peekType()!=="insert")return;var m=u.peek(),g=d.length(m)-u.peekLength(),b=typeof m.insert=="string"?m.insert.indexOf(l,g)-g:-1;if(b<0)p.push(u.next());else if(b>0)p.push(u.next(b));else{if(c(p,u.next(1).attributes||{},v)===!1)return;v+=1,p=new h}}p.length()>0&&c(p,{},v)},h.prototype.transform=function(c,l){if(l=!!l,typeof c=="number")return this.transformPosition(c,l);for(var u=d.iterator(this.ops),p=d.iterator(c.ops),v=new h;u.hasNext()||p.hasNext();)if(u.peekType()==="insert"&&(l||p.peekType()!=="insert"))v.retain(d.length(u.next()));else if(p.peekType()==="insert")v.push(p.next());else{var m=Math.min(u.peekLength(),p.peekLength()),g=u.next(m),b=p.next(m);if(g.delete)continue;b.delete?v.push(b):v.retain(m,d.attributes.transform(g.attributes,b.attributes,l))}return v.chop()},h.prototype.transformPosition=function(c,l){l=!!l;for(var u=d.iterator(this.ops),p=0;u.hasNext()&&p<=c;){var v=u.peekLength(),m=u.peekType();if(u.next(),m==="delete"){c-=Math.min(v,c-p);continue}else m==="insert"&&(p<c||!l)&&(c+=v);p+=v}return c},n.exports=h},function(n,r){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d=function(u){return typeof Array.isArray=="function"?Array.isArray(u):i.call(u)==="[object Array]"},f=function(u){if(!u||i.call(u)!=="[object Object]")return!1;var p=a.call(u,"constructor"),v=u.constructor&&u.constructor.prototype&&a.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!p&&!v)return!1;var m;for(m in u);return typeof m>"u"||a.call(u,m)},h=function(u,p){o&&p.name==="__proto__"?o(u,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):u[p.name]=p.newValue},c=function(u,p){if(p==="__proto__")if(a.call(u,p)){if(s)return s(u,p).value}else return;return u[p]};n.exports=function l(){var u,p,v,m,g,b,x=arguments[0],y=1,C=arguments.length,D=!1;for(typeof x=="boolean"&&(D=x,x=arguments[1]||{},y=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});y<C;++y)if(u=arguments[y],u!=null)for(p in u)v=c(x,p),m=c(u,p),x!==m&&(D&&m&&(f(m)||(g=d(m)))?(g?(g=!1,b=v&&d(v)?v:[]):b=v&&f(v)?v:{},h(x,{name:p,newValue:l(D,b,m)})):typeof m<"u"&&h(x,{name:p,newValue:m}));return x}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function S(A,P){for(var _=0;_<P.length;_++){var L=P[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,_){return P&&S(A.prototype,P),_&&S(A,_),A}}(),o=function S(A,P,_){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,P);if(L===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:S(q,P,_)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(_)}},s=a(3),d=x(s),f=a(2),h=x(f),c=a(0),l=x(c),u=a(16),p=x(u),v=a(6),m=x(v),g=a(7),b=x(g);function x(S){return S&&S.__esModule?S:{default:S}}function y(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function C(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function D(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var O=1,I=function(S){D(A,S);function A(){return y(this,A),C(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(_,L){var q=l.default.query(_,l.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,L)}},{key:"formatAt",value:function(_,L,q,j){this.format(q,j)}},{key:"insertAt",value:function(_,L,q){if(typeof L=="string"&&L.endsWith(`
`)){var j=l.default.create(k.blotName);this.parent.insertBefore(j,_===0?this:this.next),j.insertAt(0,L.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,_,L,q)}}]),A}(l.default.Embed);I.scope=l.default.Scope.BLOCK_BLOT;var k=function(S){D(A,S);function A(P){y(this,A);var _=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return _.cache={},_}return i(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(_,L){return L.length()===0?_:_.insert(L.value(),N(L))},new h.default).insert(`
`,N(this))),this.cache.delta}},{key:"deleteAt",value:function(_,L){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,_,L),this.cache={}}},{key:"formatAt",value:function(_,L,q,j){L<=0||(l.default.query(q,l.default.Scope.BLOCK)?_+L===this.length()&&this.format(q,j):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,_,Math.min(L,this.length()-_-1),q,j),this.cache={})}},{key:"insertAt",value:function(_,L,q){if(q!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,_,L,q);if(L.length!==0){var j=L.split(`
`),Y=j.shift();Y.length>0&&(_<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(_,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var B=this;j.reduce(function($,T){return B=B.split($,!0),B.insertAt(0,T),T.length},_+Y.length)}}},{key:"insertBefore",value:function(_,L){var q=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,_,L),q instanceof p.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(_,L){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,_,L),this.cache={}}},{key:"optimize",value:function(_){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,_),this.cache={}}},{key:"path",value:function(_){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,_,!0)}},{key:"removeChild",value:function(_){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,_),this.cache={}}},{key:"split",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(_===0||_>=this.length()-O)){var q=this.clone();return _===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var j=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,_,L);return this.cache={},j}}}]),A}(l.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[m.default,l.default.Embed,b.default];function N(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(A=(0,d.default)(A,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?A:N(S.parent,A)}r.bubbleFormats=N,r.BlockEmbed=I,r.default=k},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B($,T){var R=[],F=!0,U=!1,z=void 0;try{for(var M=$[Symbol.iterator](),H;!(F=(H=M.next()).done)&&(R.push(H.value),!(T&&R.length===T));F=!0);}catch(W){U=!0,z=W}finally{try{!F&&M.return&&M.return()}finally{if(U)throw z}}return R}return function($,T){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return B($,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function B($,T){for(var R=0;R<T.length;R++){var F=T[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}return function($,T,R){return T&&B($.prototype,T),R&&B($,R),$}}();a(50);var d=a(2),f=N(d),h=a(14),c=N(h),l=a(8),u=N(l),p=a(9),v=N(p),m=a(0),g=N(m),b=a(15),x=N(b),y=a(3),C=N(y),D=a(10),O=N(D),I=a(34),k=N(I);function N(B){return B&&B.__esModule?B:{default:B}}function S(B,$,T){return $ in B?Object.defineProperty(B,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[$]=T,B}function A(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}var P=(0,O.default)("quill"),_=function(){s(B,null,[{key:"debug",value:function(T){T===!0&&(T="log"),O.default.level(T)}},{key:"find",value:function(T){return T.__quill||g.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&P.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var z=T.attrName||T.blotName;typeof z=="string"?this.register("formats/"+z,T,R):Object.keys(T).forEach(function(M){F.register(M,T[M],R)})}else this.imports[T]!=null&&!U&&P.warn("Overwriting "+T+" with",R),this.imports[T]=R,(T.startsWith("blots/")||T.startsWith("formats/"))&&R.blotName!=="abstract"?g.default.register(R):T.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function B($){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,B),this.options=L($,R),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",$);this.options.debug&&B.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(z){z===u.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(z,M){var H=T.selection.lastRange,W=H&&H.length===0?H.index:void 0;q.call(T,function(){return T.editor.update(null,M,W)},z)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(B,[{key:"addContainer",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var F=T;T=document.createElement("div"),T.classList.add(F)}return this.container.insertBefore(T,R),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,R,F){var U=this,z=j(T,R,F),M=o(z,4);return T=M[0],R=M[1],F=M[3],q.call(this,function(){return U.editor.deleteText(T,R)},F,T,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;return q.call(this,function(){var z=F.getSelection(!0),M=new f.default;if(z==null)return M;if(g.default.query(T,g.default.Scope.BLOCK))M=F.editor.formatLine(z.index,z.length,S({},T,R));else{if(z.length===0)return F.selection.format(T,R),M;M=F.editor.formatText(z.index,z.length,S({},T,R))}return F.setSelection(z,u.default.sources.SILENT),M},U)}},{key:"formatLine",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,R,F,U,z),V=o(W,4);return T=V[0],R=V[1],H=V[2],z=V[3],q.call(this,function(){return M.editor.formatLine(T,R,H)},z,T,0)}},{key:"formatText",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,R,F,U,z),V=o(W,4);return T=V[0],R=V[1],H=V[2],z=V[3],q.call(this,function(){return M.editor.formatText(T,R,H)},z,T,0)}},{key:"getBounds",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof T=="number"?F=this.selection.getBounds(T,R):F=this.selection.getBounds(T.index,T.length);var U=this.container.getBoundingClientRect();return{bottom:F.bottom-U.top,height:F.height,left:F.left-U.left,right:F.right-U.left,top:F.top-U.top,width:F.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,F=j(T,R),U=o(F,2);return T=U[0],R=U[1],this.editor.getContents(T,R)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,R):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,R)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,F=j(T,R),U=o(F,2);return T=U[0],R=U[1],this.editor.getText(T,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,R,F){var U=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return q.call(this,function(){return U.editor.insertEmbed(T,R,F)},z,T)}},{key:"insertText",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,0,F,U,z),V=o(W,4);return T=V[0],H=V[2],z=V[3],q.call(this,function(){return M.editor.insertText(T,R,H)},z,T,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,R,F){this.clipboard.dangerouslyPasteHTML(T,R,F)}},{key:"removeFormat",value:function(T,R,F){var U=this,z=j(T,R,F),M=o(z,4);return T=M[0],R=M[1],F=M[3],q.call(this,function(){return U.editor.removeFormat(T,R)},F,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return q.call(this,function(){T=new f.default(T);var U=R.getLength(),z=R.editor.deleteText(0,U),M=R.editor.applyDelta(T),H=M.ops[M.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),M.delete(1));var W=z.compose(M);return W},F)}},{key:"setSelection",value:function(T,R,F){if(T==null)this.selection.setRange(null,R||B.sources.API);else{var U=j(T,R,F),z=o(U,4);T=z[0],R=z[1],F=z[3],this.selection.setRange(new b.Range(T,R),F),F!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API,F=new f.default().insert(T);return this.setContents(F,R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,R=this.scroll.update(T);return this.selection.update(T),R}},{key:"updateContents",value:function(T){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return q.call(this,function(){return T=new f.default(T),R.editor.applyDelta(T,F)},F,!0)}}]),B}();_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},_.events=u.default.events,_.sources=u.default.sources,_.version="1.3.7",_.imports={delta:f.default,parchment:g.default,"core/module":v.default,"core/theme":k.default};function L(B,$){if($=(0,C.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===_.DEFAULTS.theme)$.theme=k.default;else if($.theme=_.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var T=(0,C.default)(!0,{},$.theme.DEFAULTS);[T,$].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(z){U.modules[z]===!0&&(U.modules[z]={})})});var R=Object.keys(T.modules).concat(Object.keys($.modules)),F=R.reduce(function(U,z){var M=_.import("modules/"+z);return M==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):U[z]=M.DEFAULTS||{},U},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,C.default)(!0,{},_.DEFAULTS,{modules:F},T,$),["bounds","container","scrollingContainer"].forEach(function(U){typeof $[U]=="string"&&($[U]=document.querySelector($[U]))}),$.modules=Object.keys($.modules).reduce(function(U,z){return $.modules[z]&&(U[z]=$.modules[z]),U},{}),$}function q(B,$,T,R){if(this.options.strict&&!this.isEnabled()&&$===u.default.sources.USER)return new f.default;var F=T==null?null:this.getSelection(),U=this.editor.delta,z=B();if(F!=null&&(T===!0&&(T=F.index),R==null?F=Y(F,z,$):R!==0&&(F=Y(F,T,R,$)),this.setSelection(F,u.default.sources.SILENT)),z.length()>0){var M,H=[u.default.events.TEXT_CHANGE,z,U,$];if((M=this.emitter).emit.apply(M,[u.default.events.EDITOR_CHANGE].concat(H)),$!==u.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,H)}}return z}function j(B,$,T,R,F){var U={};return typeof B.index=="number"&&typeof B.length=="number"?typeof $!="number"?(F=R,R=T,T=$,$=B.length,B=B.index):($=B.length,B=B.index):typeof $!="number"&&(F=R,R=T,T=$,$=0),(typeof T>"u"?"undefined":i(T))==="object"?(U=T,F=R):typeof T=="string"&&(R!=null?U[T]=R:F=T),F=F||u.default.sources.API,[B,$,U,F]}function Y(B,$,T,R){if(B==null)return null;var F=void 0,U=void 0;if($ instanceof f.default){var z=[B.index,B.index+B.length].map(function(V){return $.transformPosition(V,R!==u.default.sources.USER)}),M=o(z,2);F=M[0],U=M[1]}else{var H=[B.index,B.index+B.length].map(function(V){return V<$||V===$&&R===u.default.sources.USER?V:T>=0?V+T:Math.max($,V+T)}),W=o(H,2);F=W[0],U=W[1]}return new b.Range(F,U-F)}r.expandConfig=L,r.overload=j,r.default=_},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var D=y.get;return D===void 0?void 0:D.call(x)}},s=a(7),d=c(s),f=a(0),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function u(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function p(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var v=function(m){p(g,m);function g(){return l(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"formatAt",value:function(x,y,C,D){if(g.compare(this.statics.blotName,C)<0&&h.default.query(C,h.default.Scope.BLOT)){var O=this.isolate(x,y);D&&O.wrap(C,D)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,x,y,C,D)}},{key:"optimize",value:function(x){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,x),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(x,y){var C=g.order.indexOf(x),D=g.order.indexOf(y);return C>=0||D>=0?C-D:x===y?0:x<y?-1:1}}]),g}(h.default.Inline);v.allowedChildren=[v,h.default.Embed,d.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default.Text);r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(x,y){for(var C=0;C<y.length;C++){var D=y[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,y,C){return y&&b(x.prototype,y),C&&b(x,C),x}}(),o=function b(x,y,C){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,y);if(D===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:b(O,y,C)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(C)}},s=a(54),d=c(s),f=a(10),h=c(f);function c(b){return b&&b.__esModule?b:{default:b}}function l(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function u(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function p(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var v=(0,h.default)("quill:events"),m=["selectionchange","mousedown","mouseup","click"];m.forEach(function(b){document.addEventListener(b,function(){for(var x=arguments.length,y=Array(x),C=0;C<x;C++)y[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(D){if(D.__quill&&D.__quill.emitter){var O;(O=D.__quill.emitter).handleDOM.apply(O,y)}})})});var g=function(b){p(x,b);function x(){l(this,x);var y=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return y.listeners={},y.on("error",v.error),y}return i(x,[{key:"emit",value:function(){v.log.apply(v,arguments),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var D=arguments.length,O=Array(D>1?D-1:0),I=1;I<D;I++)O[I-1]=arguments[I];(this.listeners[C.type]||[]).forEach(function(k){var N=k.node,S=k.handler;(C.target===N||N.contains(C.target))&&S.apply(void 0,[C].concat(O))})}},{key:"listenDOM",value:function(C,D,O){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:D,handler:O})}}]),x}(d.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});function i(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function s(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,s),this.quill=d,this.options=f};o.DEFAULTS={},r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function s(f){if(i.indexOf(f)<=i.indexOf(o)){for(var h,c=arguments.length,l=Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];(h=console)[f].apply(h,l)}}function d(f){return i.reduce(function(h,c){return h[c]=s.bind(console,c,f),h},{})}s.level=d.level=function(f){o=f},r.default=d},function(n,r,a){var i=Array.prototype.slice,o=a(52),s=a(53),d=n.exports=function(l,u,p){return p||(p={}),l===u?!0:l instanceof Date&&u instanceof Date?l.getTime()===u.getTime():!l||!u||typeof l!="object"&&typeof u!="object"?p.strict?l===u:l==u:c(l,u,p)};function f(l){return l==null}function h(l){return!(!l||typeof l!="object"||typeof l.length!="number"||typeof l.copy!="function"||typeof l.slice!="function"||l.length>0&&typeof l[0]!="number")}function c(l,u,p){var v,m;if(f(l)||f(u)||l.prototype!==u.prototype)return!1;if(s(l))return s(u)?(l=i.call(l),u=i.call(u),d(l,u,p)):!1;if(h(l)){if(!h(u)||l.length!==u.length)return!1;for(v=0;v<l.length;v++)if(l[v]!==u[v])return!1;return!0}try{var g=o(l),b=o(u)}catch{return!1}if(g.length!=b.length)return!1;for(g.sort(),b.sort(),v=g.length-1;v>=0;v--)if(g[v]!=b[v])return!1;for(v=g.length-1;v>=0;v--)if(m=g[v],!d(l[m],u[m],p))return!1;return typeof l==typeof u}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function s(d,f,h){h===void 0&&(h={}),this.attrName=d,this.keyName=f;var c=i.Scope.TYPE&i.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&i.Scope.LEVEL|c:this.scope=i.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return s.keys=function(d){return[].map.call(d.attributes,function(f){return f.name})},s.prototype.add=function(d,f){return this.canAdd(d,f)?(d.setAttribute(this.keyName,f),!0):!1},s.prototype.canAdd=function(d,f){var h=i.query(d,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},s.prototype.remove=function(d){d.removeAttribute(this.keyName)},s.prototype.value=function(d){var f=d.getAttribute(this.keyName);return this.canAdd(d,f)&&f?f:""},s}();r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function I(k,N){var S=[],A=!0,P=!1,_=void 0;try{for(var L=k[Symbol.iterator](),q;!(A=(q=L.next()).done)&&(S.push(q.value),!(N&&S.length===N));A=!0);}catch(j){P=!0,_=j}finally{try{!A&&L.return&&L.return()}finally{if(P)throw _}}return S}return function(k,N){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,N){for(var S=0;S<N.length;S++){var A=N[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}return function(k,N,S){return N&&I(k.prototype,N),S&&I(k,S),k}}(),s=function I(k,N,S){k===null&&(k=Function.prototype);var A=Object.getOwnPropertyDescriptor(k,N);if(A===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:I(P,N,S)}else{if("value"in A)return A.value;var _=A.get;return _===void 0?void 0:_.call(S)}},d=a(2),f=b(d),h=a(0),c=b(h),l=a(4),u=b(l),p=a(6),v=b(p),m=a(7),g=b(m);function b(I){return I&&I.__esModule?I:{default:I}}function x(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function y(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function C(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var D=function(I){C(k,I);function k(){return x(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(v.default);D.blotName="code",D.tagName="CODE";var O=function(I){C(k,I);function k(){return x(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var S=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(P,_){return P.insert(_).insert(`
`,S.formats())},new f.default)}},{key:"format",value:function(S,A){if(!(S===this.statics.blotName&&A)){var P=this.descendant(g.default,this.length()-1),_=i(P,1),L=_[0];L!=null&&L.deleteAt(L.length()-1,1),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,A)}}},{key:"formatAt",value:function(S,A,P,_){if(A!==0&&!(c.default.query(P,c.default.Scope.BLOCK)==null||P===this.statics.blotName&&_===this.statics.formats(this.domNode))){var L=this.newlineIndex(S);if(!(L<0||L>=S+A)){var q=this.newlineIndex(S,!0)+1,j=L-q+1,Y=this.isolate(q,j),B=Y.next;Y.format(P,_),B instanceof k&&B.formatAt(0,S-q+A-j,P,_)}}}},{key:"insertAt",value:function(S,A,P){if(P==null){var _=this.descendant(g.default,S),L=i(_,2),q=L[0],j=L[1];q.insertAt(j,A)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var P=this.domNode.textContent.slice(S).indexOf(`
`);return P>-1?S+P:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(S),A.moveChildren(this),A.remove())}},{key:"replace",value:function(S){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var P=c.default.find(A);P==null?A.parentNode.removeChild(A):P instanceof c.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(S){var A=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,S);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),k}(u.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=D,r.default=O},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B($,T){var R=[],F=!0,U=!1,z=void 0;try{for(var M=$[Symbol.iterator](),H;!(F=(H=M.next()).done)&&(R.push(H.value),!(T&&R.length===T));F=!0);}catch(W){U=!0,z=W}finally{try{!F&&M.return&&M.return()}finally{if(U)throw z}}return R}return function($,T){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return B($,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function B($,T){for(var R=0;R<T.length;R++){var F=T[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}return function($,T,R){return T&&B($.prototype,T),R&&B($,R),$}}(),d=a(2),f=A(d),h=a(20),c=A(h),l=a(0),u=A(l),p=a(13),v=A(p),m=a(24),g=A(m),b=a(4),x=A(b),y=a(16),C=A(y),D=a(21),O=A(D),I=a(11),k=A(I),N=a(3),S=A(N);function A(B){return B&&B.__esModule?B:{default:B}}function P(B,$,T){return $ in B?Object.defineProperty(B,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[$]=T,B}function _(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,q=function(){function B($){_(this,B),this.scroll=$,this.delta=this.getDelta()}return s(B,[{key:"applyDelta",value:function(T){var R=this,F=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),T=Y(T),T.reduce(function(z,M){var H=M.retain||M.delete||M.insert.length||1,W=M.attributes||{};if(M.insert!=null){if(typeof M.insert=="string"){var V=M.insert;V.endsWith(`
`)&&F&&(F=!1,V=V.slice(0,-1)),z>=U&&!V.endsWith(`
`)&&(F=!0),R.scroll.insertAt(z,V);var G=R.scroll.line(z),te=o(G,2),Q=te[0],ae=te[1],ee=(0,S.default)({},(0,b.bubbleFormats)(Q));if(Q instanceof x.default){var re=Q.descendant(u.default.Leaf,ae),fe=o(re,1),he=fe[0];ee=(0,S.default)(ee,(0,b.bubbleFormats)(he))}W=c.default.attributes.diff(ee,W)||{}}else if(i(M.insert)==="object"){var K=Object.keys(M.insert)[0];if(K==null)return z;R.scroll.insertAt(z,K,M.insert[K])}U+=H}return Object.keys(W).forEach(function(X){R.scroll.formatAt(z,H,X,W[X])}),z+H},0),T.reduce(function(z,M){return typeof M.delete=="number"?(R.scroll.deleteAt(z,M.delete),z):z+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,R){return this.scroll.deleteAt(T,R),this.update(new f.default().retain(T).delete(R))}},{key:"formatLine",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(z){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[z])){var M=F.scroll.lines(T,Math.max(R,1)),H=R;M.forEach(function(W){var V=W.length();if(!(W instanceof v.default))W.format(z,U[z]);else{var G=T-W.offset(F.scroll),te=W.newlineIndex(G+H)-G+1;W.formatAt(G,te,z,U[z])}H-=V})}}),this.scroll.optimize(),this.update(new f.default().retain(T).retain(R,(0,O.default)(U)))}},{key:"formatText",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(z){F.scroll.formatAt(T,R,z,U[z])}),this.update(new f.default().retain(T).retain(R,(0,O.default)(U)))}},{key:"getContents",value:function(T,R){return this.delta.slice(T,T+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,R){return T.concat(R.delta())},new f.default)}},{key:"getFormat",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],U=[];R===0?this.scroll.path(T).forEach(function(M){var H=o(M,1),W=H[0];W instanceof x.default?F.push(W):W instanceof u.default.Leaf&&U.push(W)}):(F=this.scroll.lines(T,R),U=this.scroll.descendants(u.default.Leaf,T,R));var z=[F,U].map(function(M){if(M.length===0)return{};for(var H=(0,b.bubbleFormats)(M.shift());Object.keys(H).length>0;){var W=M.shift();if(W==null)return H;H=j((0,b.bubbleFormats)(W),H)}return H});return S.default.apply(S.default,z)}},{key:"getText",value:function(T,R){return this.getContents(T,R).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(T,R,F){return this.scroll.insertAt(T,R,F),this.update(new f.default().retain(T).insert(P({},R,F)))}},{key:"insertText",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,R),Object.keys(U).forEach(function(z){F.scroll.formatAt(T,R.length,z,U[z])}),this.update(new f.default().retain(T).insert(R,(0,O.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==x.default.blotName||T.children.length>1?!1:T.children.head instanceof C.default}},{key:"removeFormat",value:function(T,R){var F=this.getText(T,R),U=this.scroll.line(T+R),z=o(U,2),M=z[0],H=z[1],W=0,V=new f.default;M!=null&&(M instanceof v.default?W=M.newlineIndex(H)-H+1:W=M.length()-H,V=M.delta().slice(H,H+W-1).insert(`
`));var G=this.getContents(T,R+W),te=G.diff(new f.default().insert(F).concat(V)),Q=new f.default().retain(T).concat(te);return this.applyDelta(Q)}},{key:"update",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(L)&&u.default.find(R[0].target)){var z=u.default.find(R[0].target),M=(0,b.bubbleFormats)(z),H=z.offset(this.scroll),W=R[0].oldValue.replace(g.default.CONTENTS,""),V=new f.default().insert(W),G=new f.default().insert(z.value()),te=new f.default().retain(H).concat(V.diff(G,F));T=te.reduce(function(Q,ae){return ae.insert?Q.insert(ae.insert,M):Q.push(ae)},new f.default),this.delta=U.compose(T)}else this.delta=this.getDelta(),(!T||!(0,k.default)(U.compose(T),this.delta))&&(T=U.diff(this.delta,F));return T}}]),B}();function j(B,$){return Object.keys($).reduce(function(T,R){return B[R]==null||($[R]===B[R]?T[R]=$[R]:Array.isArray($[R])?$[R].indexOf(B[R])<0&&(T[R]=$[R].concat([B[R]])):T[R]=[$[R],B[R]]),T},{})}function Y(B){return B.reduce(function($,T){if(T.insert===1){var R=(0,O.default)(T.attributes);return delete R.image,$.insert({image:T.attributes.image},R)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,O.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var F=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(F,T.attributes)}return $.push(T)},new f.default)}r.default=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function I(k,N){var S=[],A=!0,P=!1,_=void 0;try{for(var L=k[Symbol.iterator](),q;!(A=(q=L.next()).done)&&(S.push(q.value),!(N&&S.length===N));A=!0);}catch(j){P=!0,_=j}finally{try{!A&&L.return&&L.return()}finally{if(P)throw _}}return S}return function(k,N){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,N){for(var S=0;S<N.length;S++){var A=N[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}return function(k,N,S){return N&&I(k.prototype,N),S&&I(k,S),k}}(),s=a(0),d=g(s),f=a(21),h=g(f),c=a(11),l=g(c),u=a(8),p=g(u),v=a(10),m=g(v);function g(I){return I&&I.__esModule?I:{default:I}}function b(I){if(Array.isArray(I)){for(var k=0,N=Array(I.length);k<I.length;k++)N[k]=I[k];return N}else return Array.from(I)}function x(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}var y=(0,m.default)("quill:selection"),C=function I(k){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,I),this.index=k,this.length=N},D=function(){function I(k,N){var S=this;x(this,I),this.emitter=N,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(A,P){A===p.default.events.TEXT_CHANGE&&P.length()>0&&S.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var A=S.getNativeRange();A!=null&&A.start.node!==S.cursor.textNode&&S.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(A,P){if(P.range){var _=P.range,L=_.startNode,q=_.startOffset,j=_.endNode,Y=_.endOffset;S.setNativeRange(L,q,j,Y)}}),this.update(p.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var N=this;this.root.addEventListener("compositionstart",function(){N.composing=!0}),this.root.addEventListener("compositionend",function(){if(N.composing=!1,N.cursor.parent){var S=N.cursor.restore();if(!S)return;setTimeout(function(){N.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var N=this;this.emitter.listenDOM("mousedown",document.body,function(){N.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){N.mouseDown=!1,N.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(N,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[N])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||d.default.query(N,d.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var P=d.default.find(A.start.node,!1);if(P==null)return;if(P instanceof d.default.Leaf){var _=P.split(A.start.offset);P.parent.insertBefore(this.cursor,_)}else P.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(N,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(N){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();N=Math.min(N,A-1),S=Math.min(N+S,A-1)-N;var P=void 0,_=this.scroll.leaf(N),L=i(_,2),q=L[0],j=L[1];if(q==null)return null;var Y=q.position(j,!0),B=i(Y,2);P=B[0],j=B[1];var $=document.createRange();if(S>0){$.setStart(P,j);var T=this.scroll.leaf(N+S),R=i(T,2);if(q=R[0],j=R[1],q==null)return null;var F=q.position(j,!0),U=i(F,2);return P=U[0],j=U[1],$.setEnd(P,j),$.getBoundingClientRect()}else{var z="left",M=void 0;return P instanceof Text?(j<P.data.length?($.setStart(P,j),$.setEnd(P,j+1)):($.setStart(P,j-1),$.setEnd(P,j),z="right"),M=$.getBoundingClientRect()):(M=q.domNode.getBoundingClientRect(),j>0&&(z="right")),{bottom:M.top+M.height,height:M.height,left:M[z],right:M[z],top:M.top,width:0}}}},{key:"getNativeRange",value:function(){var N=document.getSelection();if(N==null||N.rangeCount<=0)return null;var S=N.getRangeAt(0);if(S==null)return null;var A=this.normalizeNative(S);return y.info("getNativeRange",A),A}},{key:"getRange",value:function(){var N=this.getNativeRange();if(N==null)return[null,null];var S=this.normalizedToRange(N);return[S,N]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(N){var S=this,A=[[N.start.node,N.start.offset]];N.native.collapsed||A.push([N.end.node,N.end.offset]);var P=A.map(function(q){var j=i(q,2),Y=j[0],B=j[1],$=d.default.find(Y,!0),T=$.offset(S.scroll);return B===0?T:$ instanceof d.default.Container?T+$.length():T+$.index(Y,B)}),_=Math.min(Math.max.apply(Math,b(P)),this.scroll.length()-1),L=Math.min.apply(Math,[_].concat(b(P)));return new C(L,_-L)}},{key:"normalizeNative",value:function(N){if(!O(this.root,N.startContainer)||!N.collapsed&&!O(this.root,N.endContainer))return null;var S={start:{node:N.startContainer,offset:N.startOffset},end:{node:N.endContainer,offset:N.endOffset},native:N};return[S.start,S.end].forEach(function(A){for(var P=A.node,_=A.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>_)P=P.childNodes[_],_=0;else if(P.childNodes.length===_)P=P.lastChild,_=P instanceof Text?P.data.length:P.childNodes.length+1;else break;A.node=P,A.offset=_}),S}},{key:"rangeToNative",value:function(N){var S=this,A=N.collapsed?[N.index]:[N.index,N.index+N.length],P=[],_=this.scroll.length();return A.forEach(function(L,q){L=Math.min(_-1,L);var j=void 0,Y=S.scroll.leaf(L),B=i(Y,2),$=B[0],T=B[1],R=$.position(T,q!==0),F=i(R,2);j=F[0],T=F[1],P.push(j,T)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(N){var S=this.lastRange;if(S!=null){var A=this.getBounds(S.index,S.length);if(A!=null){var P=this.scroll.length()-1,_=this.scroll.line(Math.min(S.index,P)),L=i(_,1),q=L[0],j=q;if(S.length>0){var Y=this.scroll.line(Math.min(S.index+S.length,P)),B=i(Y,1);j=B[0]}if(!(q==null||j==null)){var $=N.getBoundingClientRect();A.top<$.top?N.scrollTop-=$.top-A.top:A.bottom>$.bottom&&(N.scrollTop+=A.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(N,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",N,S,A,P),!(N!=null&&(this.root.parentNode==null||N.parentNode==null||A.parentNode==null))){var L=document.getSelection();if(L!=null)if(N!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||_||N!==q.startContainer||S!==q.startOffset||A!==q.endContainer||P!==q.endOffset){N.tagName=="BR"&&(S=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode),A.tagName=="BR"&&(P=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var j=document.createRange();j.setStart(N,S),j.setEnd(A,P),L.removeAllRanges(),L.addRange(j)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(N){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof S=="string"&&(A=S,S=!1),y.info("setRange",N),N!=null){var P=this.rangeToNative(N);this.setNativeRange.apply(this,b(P).concat([S]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,S=this.lastRange,A=this.getRange(),P=i(A,2),_=P[0],L=P[1];if(this.lastRange=_,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,l.default)(S,this.lastRange)){var q;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var j=[p.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(S),N];if((q=this.emitter).emit.apply(q,[p.default.events.EDITOR_CHANGE].concat(j)),N!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,j)}}}}]),I}();function O(I,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),I.contains(k)}r.Range=C,r.default=D},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,m,g){return m&&p(v.prototype,m),g&&p(v,g),v}}(),o=function p(v,m,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,m);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:p(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(0),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(g,b){g.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(d.default.Embed);u.blotName="break",u.tagName="BR",r.default=u},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)u.hasOwnProperty(p)&&(l[p]=u[p])};return function(l,u){c(l,u);function p(){this.constructor=l}l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(44),s=a(30),d=a(1),f=function(c){i(l,c);function l(u){var p=c.call(this,u)||this;return p.build(),p}return l.prototype.appendChild=function(u){this.insertBefore(u)},l.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(u){u.attach()})},l.prototype.build=function(){var u=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var v=h(p);u.insertBefore(v,u.children.head||void 0)}catch(m){if(m instanceof d.ParchmentError)return;throw m}})},l.prototype.deleteAt=function(u,p){if(u===0&&p===this.length())return this.remove();this.children.forEachAt(u,p,function(v,m,g){v.deleteAt(m,g)})},l.prototype.descendant=function(u,p){var v=this.children.find(p),m=v[0],g=v[1];return u.blotName==null&&u(m)||u.blotName!=null&&m instanceof u?[m,g]:m instanceof l?m.descendant(u,g):[null,-1]},l.prototype.descendants=function(u,p,v){p===void 0&&(p=0),v===void 0&&(v=Number.MAX_VALUE);var m=[],g=v;return this.children.forEachAt(p,v,function(b,x,y){(u.blotName==null&&u(b)||u.blotName!=null&&b instanceof u)&&m.push(b),b instanceof l&&(m=m.concat(b.descendants(u,x,g))),g-=y}),m},l.prototype.detach=function(){this.children.forEach(function(u){u.detach()}),c.prototype.detach.call(this)},l.prototype.formatAt=function(u,p,v,m){this.children.forEachAt(u,p,function(g,b,x){g.formatAt(b,x,v,m)})},l.prototype.insertAt=function(u,p,v){var m=this.children.find(u),g=m[0],b=m[1];if(g)g.insertAt(b,p,v);else{var x=v==null?d.create("text",p):d.create(p,v);this.appendChild(x)}},l.prototype.insertBefore=function(u,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return u instanceof v}))throw new d.ParchmentError("Cannot insert "+u.statics.blotName+" into "+this.statics.blotName);u.insertInto(this,p)},l.prototype.length=function(){return this.children.reduce(function(u,p){return u+p.length()},0)},l.prototype.moveChildren=function(u,p){this.children.forEach(function(v){u.insertBefore(v,p)})},l.prototype.optimize=function(u){if(c.prototype.optimize.call(this,u),this.children.length===0)if(this.statics.defaultChild!=null){var p=d.create(this.statics.defaultChild);this.appendChild(p),p.optimize(u)}else this.remove()},l.prototype.path=function(u,p){p===void 0&&(p=!1);var v=this.children.find(u,p),m=v[0],g=v[1],b=[[this,u]];return m instanceof l?b.concat(m.path(g,p)):(m!=null&&b.push([m,g]),b)},l.prototype.removeChild=function(u){this.children.remove(u)},l.prototype.replace=function(u){u instanceof l&&u.moveChildren(this),c.prototype.replace.call(this,u)},l.prototype.split=function(u,p){if(p===void 0&&(p=!1),!p){if(u===0)return this;if(u===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(u,this.length(),function(m,g,b){m=m.split(g,p),v.appendChild(m)}),v},l.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},l.prototype.update=function(u,p){var v=this,m=[],g=[];u.forEach(function(b){b.target===v.domNode&&b.type==="childList"&&(m.push.apply(m,b.addedNodes),g.push.apply(g,b.removedNodes))}),g.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=d.find(b);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===v.domNode)&&x.detach()}}),m.filter(function(b){return b.parentNode==v.domNode}).sort(function(b,x){return b===x?0:b.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var x=null;b.nextSibling!=null&&(x=d.find(b.nextSibling));var y=h(b);(y.next!=x||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,x||void 0))})},l}(s.default);function h(c){var l=d.find(c);if(l==null)try{l=d.create(c)}catch{l=d.create(d.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(p){l.domNode.appendChild(p)}),c.parentNode&&c.parentNode.replaceChild(l.domNode,c),l.attach()}return l}r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)u.hasOwnProperty(p)&&(l[p]=u[p])};return function(l,u){c(l,u);function p(){this.constructor=l}l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12),s=a(31),d=a(17),f=a(1),h=function(c){i(l,c);function l(u){var p=c.call(this,u)||this;return p.attributes=new s.default(p.domNode),p}return l.formats=function(u){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return u.tagName.toLowerCase()},l.prototype.format=function(u,p){var v=f.query(u);v instanceof o.default?this.attributes.attribute(v,p):p&&v!=null&&(u!==this.statics.blotName||this.formats()[u]!==p)&&this.replaceWith(u,p)},l.prototype.formats=function(){var u=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(u[this.statics.blotName]=p),u},l.prototype.replaceWith=function(u,p){var v=c.prototype.replaceWith.call(this,u,p);return this.attributes.copy(v),v},l.prototype.update=function(u,p){var v=this;c.prototype.update.call(this,u,p),u.some(function(m){return m.target===v.domNode&&m.type==="attributes"})&&this.attributes.build()},l.prototype.wrap=function(u,p){var v=c.prototype.wrap.call(this,u,p);return v instanceof l&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},l}(d.default);r.default=h},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(30),s=a(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.value=function(c){return!0},h.prototype.index=function(c,l){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(l,1):-1},h.prototype.position=function(c,l){var u=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(u+=1),[this.parent.domNode,u]},h.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},h.scope=s.Scope.INLINE_BLOT,h}(o.default);r.default=d},function(n,r,a){var i=a(11),o=a(3),s={attributes:{compose:function(f,h,c){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var l=o(!0,{},h);c||(l=Object.keys(l).reduce(function(p,v){return l[v]!=null&&(p[v]=l[v]),p},{}));for(var u in f)f[u]!==void 0&&h[u]===void 0&&(l[u]=f[u]);return Object.keys(l).length>0?l:void 0},diff:function(f,h){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var c=Object.keys(f).concat(Object.keys(h)).reduce(function(l,u){return i(f[u],h[u])||(l[u]=h[u]===void 0?null:h[u]),l},{});return Object.keys(c).length>0?c:void 0},transform:function(f,h,c){if(typeof f!="object")return h;if(typeof h=="object"){if(!c)return h;var l=Object.keys(h).reduce(function(u,p){return f[p]===void 0&&(u[p]=h[p]),u},{});return Object.keys(l).length>0?l:void 0}}},iterator:function(f){return new d(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function d(f){this.ops=f,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(f){f||(f=1/0);var h=this.ops[this.index];if(h){var c=this.offset,l=s.length(h);if(f>=l-c?(f=l-c,this.index+=1,this.offset=0):this.offset+=f,typeof h.delete=="number")return{delete:f};var u={};return h.attributes&&(u.attributes=h.attributes),typeof h.retain=="number"?u.retain=f:typeof h.insert=="string"?u.insert=h.insert.substr(c,f):u.insert=h.insert,u}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,h=this.index,c=this.next(),l=this.ops.slice(this.index);return this.offset=f,this.index=h,[c].concat(l)}else return[]},n.exports=s},function(n,r){var a=function(){function i(v,m){return m!=null&&v instanceof m}var o;try{o=Map}catch{o=function(){}}var s;try{s=Set}catch{s=function(){}}var d;try{d=Promise}catch{d=function(){}}function f(v,m,g,b,x){typeof m=="object"&&(g=m.depth,b=m.prototype,x=m.includeNonEnumerable,m=m.circular);var y=[],C=[],D=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof g>"u"&&(g=1/0);function O(I,k){if(I===null)return null;if(k===0)return I;var N,S;if(typeof I!="object")return I;if(i(I,o))N=new o;else if(i(I,s))N=new s;else if(i(I,d))N=new d(function($,T){I.then(function(R){$(O(R,k-1))},function(R){T(O(R,k-1))})});else if(f.__isArray(I))N=[];else if(f.__isRegExp(I))N=new RegExp(I.source,p(I)),I.lastIndex&&(N.lastIndex=I.lastIndex);else if(f.__isDate(I))N=new Date(I.getTime());else{if(D&&Buffer.isBuffer(I))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(I.length):N=new Buffer(I.length),I.copy(N),N;i(I,Error)?N=Object.create(I):typeof b>"u"?(S=Object.getPrototypeOf(I),N=Object.create(S)):(N=Object.create(b),S=b)}if(m){var A=y.indexOf(I);if(A!=-1)return C[A];y.push(I),C.push(N)}i(I,o)&&I.forEach(function($,T){var R=O(T,k-1),F=O($,k-1);N.set(R,F)}),i(I,s)&&I.forEach(function($){var T=O($,k-1);N.add(T)});for(var P in I){var _;S&&(_=Object.getOwnPropertyDescriptor(S,P)),!(_&&_.set==null)&&(N[P]=O(I[P],k-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(I),P=0;P<L.length;P++){var q=L[P],j=Object.getOwnPropertyDescriptor(I,q);j&&!j.enumerable&&!x||(N[q]=O(I[q],k-1),j.enumerable||Object.defineProperty(N,q,{enumerable:!1}))}if(x)for(var Y=Object.getOwnPropertyNames(I),P=0;P<Y.length;P++){var B=Y[P],j=Object.getOwnPropertyDescriptor(I,B);j&&j.enumerable||(N[B]=O(I[B],k-1),Object.defineProperty(N,B,{enumerable:!1}))}return N}return O(v,g)}f.clonePrototype=function(m){if(m===null)return null;var g=function(){};return g.prototype=m,new g};function h(v){return Object.prototype.toString.call(v)}f.__objToStr=h;function c(v){return typeof v=="object"&&h(v)==="[object Date]"}f.__isDate=c;function l(v){return typeof v=="object"&&h(v)==="[object Array]"}f.__isArray=l;function u(v){return typeof v=="object"&&h(v)==="[object RegExp]"}f.__isRegExp=u;function p(v){var m="";return v.global&&(m+="g"),v.ignoreCase&&(m+="i"),v.multiline&&(m+="m"),m}return f.__getRegExpFlags=p,f}();typeof n=="object"&&n.exports&&(n.exports=a)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function N(S,A){var P=[],_=!0,L=!1,q=void 0;try{for(var j=S[Symbol.iterator](),Y;!(_=(Y=j.next()).done)&&(P.push(Y.value),!(A&&P.length===A));_=!0);}catch(B){L=!0,q=B}finally{try{!_&&j.return&&j.return()}finally{if(L)throw q}}return P}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return N(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(S,A){for(var P=0;P<A.length;P++){var _=A[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,A,P){return A&&N(S.prototype,A),P&&N(S,P),S}}(),s=function N(S,A,P){S===null&&(S=Function.prototype);var _=Object.getOwnPropertyDescriptor(S,A);if(_===void 0){var L=Object.getPrototypeOf(S);return L===null?void 0:N(L,A,P)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(P)}},d=a(0),f=y(d),h=a(8),c=y(h),l=a(4),u=y(l),p=a(16),v=y(p),m=a(13),g=y(m),b=a(25),x=y(b);function y(N){return N&&N.__esModule?N:{default:N}}function C(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function D(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function O(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}function I(N){return N instanceof u.default||N instanceof l.BlockEmbed}var k=function(N){O(S,N);function S(A,P){C(this,S);var _=D(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return _.emitter=P.emitter,Array.isArray(P.whitelist)&&(_.whitelist=P.whitelist.reduce(function(L,q){return L[q]=!0,L},{})),_.domNode.addEventListener("DOMNodeInserted",function(){}),_.optimize(),_.enable(),_}return o(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,_){var L=this.line(P),q=i(L,2),j=q[0],Y=q[1],B=this.line(P+_),$=i(B,1),T=$[0];if(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,_),T!=null&&j!==T&&Y>0){if(j instanceof l.BlockEmbed||T instanceof l.BlockEmbed){this.optimize();return}if(j instanceof g.default){var R=j.newlineIndex(j.length(),!0);if(R>-1&&(j=j.split(R+1),j===T)){this.optimize();return}}else if(T instanceof g.default){var F=T.newlineIndex(0);F>-1&&T.split(F+1)}var U=T.children.head instanceof v.default?null:T.children.head;j.moveChildren(T,U),j.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,_,L,q){this.whitelist!=null&&!this.whitelist[L]||(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,_,L,q),this.optimize())}},{key:"insertAt",value:function(P,_,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[_])){if(P>=this.length())if(L==null||f.default.query(_,f.default.Scope.BLOCK)==null){var q=f.default.create(this.statics.defaultChild);this.appendChild(q),L==null&&_.endsWith(`
`)&&(_=_.slice(0,-1)),q.insertAt(0,_,L)}else{var j=f.default.create(_,L);this.appendChild(j)}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,_,L);this.optimize()}}},{key:"insertBefore",value:function(P,_){if(P.statics.scope===f.default.Scope.INLINE_BLOT){var L=f.default.create(this.statics.defaultChild);L.appendChild(P),P=L}s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,_)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(I,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function q(j,Y,B){var $=[],T=B;return j.children.forEachAt(Y,B,function(R,F,U){I(R)?$.push(R):R instanceof f.default.Container&&($=$.concat(q(R,F,T))),T-=U}),$};return L(this,P,_)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P,_),P.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,P,_))}},{key:"path",value:function(P){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var _=c.default.sources.USER;typeof P=="string"&&(_=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,_,P),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,_,P)}}}]),S}(f.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[u.default,l.BlockEmbed,x.default],r.default=k},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(H,W){var V=[],G=!0,te=!1,Q=void 0;try{for(var ae=H[Symbol.iterator](),ee;!(G=(ee=ae.next()).done)&&(V.push(ee.value),!(W&&V.length===W));G=!0);}catch(re){te=!0,Q=re}finally{try{!G&&ae.return&&ae.return()}finally{if(te)throw Q}}return V}return function(H,W){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return M(H,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(H,W){for(var V=0;V<W.length;V++){var G=W[V];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}return function(H,W,V){return W&&M(H.prototype,W),V&&M(H,V),H}}(),d=a(21),f=N(d),h=a(11),c=N(h),l=a(3),u=N(l),p=a(2),v=N(p),m=a(20),g=N(m),b=a(0),x=N(b),y=a(5),C=N(y),D=a(10),O=N(D),I=a(9),k=N(I);function N(M){return M&&M.__esModule?M:{default:M}}function S(M,H,W){return H in M?Object.defineProperty(M,H,{value:W,enumerable:!0,configurable:!0,writable:!0}):M[H]=W,M}function A(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}function P(M,H){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:M}function _(M,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(M,H):M.__proto__=H)}var L=(0,O.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",j=function(M){_(H,M),s(H,null,[{key:"match",value:function(V,G){return G=z(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!G[te]!==V[te]&&G[te]!==null})?!1:G.key===(V.which||V.keyCode)}}]);function H(W,V){A(this,H);var G=P(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,W,V));return G.bindings={},Object.keys(G.options.bindings).forEach(function(te){te==="list autofill"&&W.scroll.whitelist!=null&&!W.scroll.whitelist.list||G.options.bindings[te]&&G.addBinding(G.options.bindings[te])}),G.addBinding({key:H.keys.ENTER,shiftKey:null},R),G.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},B),G.addBinding({key:H.keys.DELETE},{collapsed:!0},$)):(G.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),G.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),G.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},T),G.addBinding({key:H.keys.DELETE},{collapsed:!1},T),G.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),G.listen(),G}return s(H,[{key:"addBinding",value:function(V){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=z(V);if(Q==null||Q.key==null)return L.warn("Attempted to add invalid keyboard binding",Q);typeof G=="function"&&(G={handler:G}),typeof te=="function"&&(te={handler:te}),Q=(0,u.default)(Q,G,te),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var te=G.which||G.keyCode,Q=(V.bindings[te]||[]).filter(function(Ne){return H.match(G,Ne)});if(Q.length!==0){var ae=V.quill.getSelection();if(!(ae==null||!V.quill.hasFocus())){var ee=V.quill.getLine(ae.index),re=o(ee,2),fe=re[0],he=re[1],K=V.quill.getLeaf(ae.index),X=o(K,2),ne=X[0],ie=X[1],J=ae.length===0?[ne,ie]:V.quill.getLeaf(ae.index+ae.length),ue=o(J,2),se=ue[0],ve=ue[1],Ae=ne instanceof x.default.Text?ne.value().slice(0,ie):"",_e=se instanceof x.default.Text?se.value().slice(ve):"",Ee={collapsed:ae.length===0,empty:ae.length===0&&fe.length()<=1,format:V.quill.getFormat(ae),offset:he,prefix:Ae,suffix:_e},$e=Q.some(function(Ne){if(Ne.collapsed!=null&&Ne.collapsed!==Ee.collapsed||Ne.empty!=null&&Ne.empty!==Ee.empty||Ne.offset!=null&&Ne.offset!==Ee.offset)return!1;if(Array.isArray(Ne.format)){if(Ne.format.every(function(rt){return Ee.format[rt]==null}))return!1}else if(i(Ne.format)==="object"&&!Object.keys(Ne.format).every(function(rt){return Ne.format[rt]===!0?Ee.format[rt]!=null:Ne.format[rt]===!1?Ee.format[rt]==null:(0,c.default)(Ne.format[rt],Ee.format[rt])}))return!1;return Ne.prefix!=null&&!Ne.prefix.test(Ee.prefix)||Ne.suffix!=null&&!Ne.suffix.test(Ee.suffix)?!1:Ne.handler.call(V,ae,Ee)!==!0});$e&&G.preventDefault()}}}})}}]),H}(k.default);j.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},j.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:j.keys.TAB,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:j.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:j.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,W){W.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):W.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:j.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,C.default.sources.USER)}},tab:{key:j.keys.TAB,handler:function(H){this.quill.history.cutoff();var W=new v.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(W,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,C.default.sources.SILENT)}},"list empty enter":{key:j.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,W){this.quill.format("list",!1,C.default.sources.USER),W.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:j.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var W=this.quill.getLine(H.index),V=o(W,2),G=V[0],te=V[1],Q=(0,u.default)({},G.formats(),{list:"checked"}),ae=new v.default().retain(H.index).insert(`
`,Q).retain(G.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ae,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:j.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,W){var V=this.quill.getLine(H.index),G=o(V,2),te=G[0],Q=G[1],ae=new v.default().retain(H.index).insert(`
`,W.format).retain(te.length()-Q-1).retain(1,{header:null});this.quill.updateContents(ae,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,W){var V=W.prefix.length,G=this.quill.getLine(H.index),te=o(G,2),Q=te[0],ae=te[1];if(ae>V)return!0;var ee=void 0;switch(W.prefix.trim()){case"[]":case"[ ]":ee="unchecked";break;case"[x]":ee="checked";break;case"-":case"*":ee="bullet";break;default:ee="ordered"}this.quill.insertText(H.index," ",C.default.sources.USER),this.quill.history.cutoff();var re=new v.default().retain(H.index-ae).delete(V+1).retain(Q.length()-2-ae).retain(1,{list:ee});this.quill.updateContents(re,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-V,C.default.sources.SILENT)}},"code exit":{key:j.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var W=this.quill.getLine(H.index),V=o(W,2),G=V[0],te=V[1],Q=new v.default().retain(H.index+G.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,C.default.sources.USER)}},"embed left":Y(j.keys.LEFT,!1),"embed left shift":Y(j.keys.LEFT,!0),"embed right":Y(j.keys.RIGHT,!1),"embed right shift":Y(j.keys.RIGHT,!0)}};function Y(M,H){var W,V=M===j.keys.LEFT?"prefix":"suffix";return W={key:M,shiftKey:H,altKey:null},S(W,V,/^$/),S(W,"handler",function(te){var Q=te.index;M===j.keys.RIGHT&&(Q+=te.length+1);var ae=this.quill.getLeaf(Q),ee=o(ae,1),re=ee[0];return re instanceof x.default.Embed?(M===j.keys.LEFT?H?this.quill.setSelection(te.index-1,te.length+1,C.default.sources.USER):this.quill.setSelection(te.index-1,C.default.sources.USER):H?this.quill.setSelection(te.index,te.length+1,C.default.sources.USER):this.quill.setSelection(te.index+te.length+1,C.default.sources.USER),!1):!0}),W}function B(M,H){if(!(M.index===0||this.quill.getLength()<=1)){var W=this.quill.getLine(M.index),V=o(W,1),G=V[0],te={};if(H.offset===0){var Q=this.quill.getLine(M.index-1),ae=o(Q,1),ee=ae[0];if(ee!=null&&ee.length()>1){var re=G.formats(),fe=this.quill.getFormat(M.index-1,1);te=g.default.attributes.diff(re,fe)||{}}}var he=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(M.index-he,he,C.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(M.index-he,he,te,C.default.sources.USER),this.quill.focus()}}function $(M,H){var W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(M.index>=this.quill.getLength()-W)){var V={},G=0,te=this.quill.getLine(M.index),Q=o(te,1),ae=Q[0];if(H.offset>=ae.length()-1){var ee=this.quill.getLine(M.index+1),re=o(ee,1),fe=re[0];if(fe){var he=ae.formats(),K=this.quill.getFormat(M.index,1);V=g.default.attributes.diff(he,K)||{},G=fe.length()}}this.quill.deleteText(M.index,W,C.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(M.index+G-1,W,V,C.default.sources.USER)}}function T(M){var H=this.quill.getLines(M),W={};if(H.length>1){var V=H[0].formats(),G=H[H.length-1].formats();W=g.default.attributes.diff(G,V)||{}}this.quill.deleteText(M,C.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(M.index,1,W,C.default.sources.USER),this.quill.setSelection(M.index,C.default.sources.SILENT),this.quill.focus()}function R(M,H){var W=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var V=Object.keys(H.format).reduce(function(G,te){return x.default.query(te,x.default.Scope.BLOCK)&&!Array.isArray(H.format[te])&&(G[te]=H.format[te]),G},{});this.quill.insertText(M.index,`
`,V,C.default.sources.USER),this.quill.setSelection(M.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(G){V[G]==null&&(Array.isArray(H.format[G])||G!=="link"&&W.quill.format(G,H.format[G],C.default.sources.USER))})}function F(M){return{key:j.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(W){var V=x.default.query("code-block"),G=W.index,te=W.length,Q=this.quill.scroll.descendant(V,G),ae=o(Q,2),ee=ae[0],re=ae[1];if(ee!=null){var fe=this.quill.getIndex(ee),he=ee.newlineIndex(re,!0)+1,K=ee.newlineIndex(fe+re+te),X=ee.domNode.textContent.slice(he,K).split(`
`);re=0,X.forEach(function(ne,ie){M?(ee.insertAt(he+re,V.TAB),re+=V.TAB.length,ie===0?G+=V.TAB.length:te+=V.TAB.length):ne.startsWith(V.TAB)&&(ee.deleteAt(he+re,V.TAB.length),re-=V.TAB.length,ie===0?G-=V.TAB.length:te-=V.TAB.length),re+=ne.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(G,te,C.default.sources.SILENT)}}}}function U(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(W,V){this.quill.format(M,!V.format[M],C.default.sources.USER)}}}function z(M){if(typeof M=="string"||typeof M=="number")return z({key:M});if((typeof M>"u"?"undefined":i(M))==="object"&&(M=(0,f.default)(M,!1)),typeof M.key=="string")if(j.keys[M.key.toUpperCase()]!=null)M.key=j.keys[M.key.toUpperCase()];else if(M.key.length===1)M.key=M.key.toUpperCase().charCodeAt(0);else return null;return M.shortKey&&(M[q]=M.shortKey,delete M.shortKey),M}r.default=j,r.SHORTKEY=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function g(b,x){var y=[],C=!0,D=!1,O=void 0;try{for(var I=b[Symbol.iterator](),k;!(C=(k=I.next()).done)&&(y.push(k.value),!(x&&y.length===x));C=!0);}catch(N){D=!0,O=N}finally{try{!C&&I.return&&I.return()}finally{if(D)throw O}}return y}return function(b,x){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return g(b,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var D=Object.getPrototypeOf(b);return D===null?void 0:g(D,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),d=a(0),f=l(d),h=a(7),c=l(h);function l(g){return g&&g.__esModule?g:{default:g}}function u(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function v(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=function(g){v(b,g),s(b,null,[{key:"value",value:function(){}}]);function b(x,y){u(this,b);var C=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return C.selection=y,C.textNode=document.createTextNode(b.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return s(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,C){if(this._length!==0)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,C);for(var D=this,O=0;D!=null&&D.statics.scope!==f.default.Scope.BLOCK_BLOT;)O+=D.offset(D.parent),D=D.parent;D!=null&&(this._length=b.CONTENTS.length,D.optimize(),D.formatAt(O,b.CONTENTS.length,y,C),this._length=0)}},{key:"index",value:function(y,C){return y===this.textNode?0:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,C=this.selection.getNativeRange(),D=void 0,O=void 0,I=void 0;if(C!=null&&C.start.node===y&&C.end.node===y){var k=[y,C.start.offset,C.end.offset];D=k[0],O=k[1],I=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var N=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof c.default?(D=this.next.domNode,this.next.insertAt(0,N),this.textNode.data=b.CONTENTS):(this.textNode.data=N,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var S=[O,I].map(function(P){return Math.max(0,Math.min(D.data.length,P-1))}),A=i(S,2);return O=A[0],I=A[1],{startNode:D,startOffset:O,endNode:D,endOffset:I}}}}},{key:"update",value:function(y,C){var D=this;if(y.some(function(I){return I.type==="characterData"&&I.target===D.textNode})){var O=this.restore();O&&(C.range=O)}}},{key:"value",value:function(){return""}}]),b}(f.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF",r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=f(i),s=a(4),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);u.allowedChildren=[d.default,s.BlockEmbed,u],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var D=y.get;return D===void 0?void 0:D.call(x)}},s=a(0),d=f(s);function f(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function l(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var u=function(m){l(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"value",value:function(x){var y=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):y}}]),g}(d.default.Attributor.Style),p=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),v=new u("color","color",{scope:d.default.Scope.INLINE});r.ColorAttributor=u,r.ColorClass=p,r.ColorStyle=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function v(m,g){for(var b=0;b<g.length;b++){var x=g[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,b){return g&&v(m.prototype,g),b&&v(m,b),m}}(),o=function v(m,g,b){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:v(y,g,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},s=a(6),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function c(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function l(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var u=function(v){l(m,v);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(b,x){if(b!==this.statics.blotName||!x)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(b){var x=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,b);return b=this.sanitize(b),x.setAttribute("href",b),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return p(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),m}(d.default);u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(v,m){var g=document.createElement("a");g.href=v;var b=g.href.slice(0,g.href.indexOf(":"));return m.indexOf(b)>-1}r.default=u,r.sanitize=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),s=a(23),d=c(s),f=a(107),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}var u=0;function p(m,g){m.setAttribute(g,m.getAttribute(g)!=="true")}var v=function(){function m(g){var b=this;l(this,m),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case d.default.keys.ENTER:b.togglePicker();break;case d.default.keys.ESCAPE:b.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(m,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var x=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),b.hasAttribute("value")&&y.setAttribute("data-value",b.getAttribute("value")),b.textContent&&y.setAttribute("data-label",b.textContent),y.addEventListener("click",function(){x.selectItem(y,!0)}),y.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:x.selectItem(y,!0),C.preventDefault();break;case d.default.keys.ESCAPE:x.escape(),C.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=h.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(y){var C=b.buildItem(y);x.appendChild(C),y.selected===!0&&b.selectItem(C)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(x){b.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(b!==y&&(y!=null&&y.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var y=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),m}();r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=L(i),s=a(5),d=L(s),f=a(4),h=L(f),c=a(16),l=L(c),u=a(25),p=L(u),v=a(24),m=L(v),g=a(35),b=L(g),x=a(6),y=L(x),C=a(22),D=L(C),O=a(7),I=L(O),k=a(55),N=L(k),S=a(42),A=L(S),P=a(23),_=L(P);function L(q){return q&&q.__esModule?q:{default:q}}d.default.register({"blots/block":h.default,"blots/block/embed":f.BlockEmbed,"blots/break":l.default,"blots/container":p.default,"blots/cursor":m.default,"blots/embed":b.default,"blots/inline":y.default,"blots/scroll":D.default,"blots/text":I.default,"modules/clipboard":N.default,"modules/history":A.default,"modules/keyboard":_.default}),o.default.register(h.default,l.default,m.default,y.default,D.default,I.default),r.default=d.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function s(d){this.domNode=d,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(d){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?f=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?f=document.createElement(d):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return i.create(d)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},s.prototype.deleteAt=function(d,f){var h=this.isolate(d,f);h.remove()},s.prototype.formatAt=function(d,f,h,c){var l=this.isolate(d,f);if(i.query(h,i.Scope.BLOT)!=null&&c)l.wrap(h,c);else if(i.query(h,i.Scope.ATTRIBUTE)!=null){var u=i.create(this.statics.scope);l.wrap(u),u.format(h,c)}},s.prototype.insertAt=function(d,f,h){var c=h==null?i.create("text",f):i.create(f,h),l=this.split(d);this.parent.insertBefore(c,l)},s.prototype.insertInto=function(d,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var h=null;d.children.insertBefore(this,f),f!=null&&(h=f.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=h)&&d.domNode.insertBefore(this.domNode,h),this.parent=d,this.attach()},s.prototype.isolate=function(d,f){var h=this.split(d);return h.split(f),h},s.prototype.length=function(){return 1},s.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},s.prototype.optimize=function(d){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},s.prototype.replaceWith=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return h.replace(this),h},s.prototype.split=function(d,f){return d===0?this:this.next},s.prototype.update=function(d,f){},s.prototype.wrap=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},s.blotName="abstract",s}();r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),o=a(32),s=a(33),d=a(1),f=function(){function h(c){this.attributes={},this.domNode=c,this.build()}return h.prototype.attribute=function(c,l){l?c.add(this.domNode,l)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},h.prototype.build=function(){var c=this;this.attributes={};var l=i.default.keys(this.domNode),u=o.default.keys(this.domNode),p=s.default.keys(this.domNode);l.concat(u).concat(p).forEach(function(v){var m=d.query(v,d.Scope.ATTRIBUTE);m instanceof i.default&&(c.attributes[m.attrName]=m)})},h.prototype.copy=function(c){var l=this;Object.keys(this.attributes).forEach(function(u){var p=l.attributes[u].value(l.domNode);c.format(u,p)})},h.prototype.move=function(c){var l=this;this.copy(c),Object.keys(this.attributes).forEach(function(u){l.attributes[u].remove(l.domNode)}),this.attributes={}},h.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(l,u){return l[u]=c.attributes[u].value(c.domNode),l},{})},h}();r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function s(f,h){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(l){return l.indexOf(h+"-")===0})}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(l){return l.split("-").slice(0,-1).join("-")})},h.prototype.add=function(c,l){return this.canAdd(c,l)?(this.remove(c),c.classList.add(this.keyName+"-"+l),!0):!1},h.prototype.remove=function(c){var l=s(c,this.keyName);l.forEach(function(u){c.classList.remove(u)}),c.classList.length===0&&c.removeAttribute("class")},h.prototype.value=function(c){var l=s(c,this.keyName)[0]||"",u=l.slice(this.keyName.length+1);return this.canAdd(c,u)?u:""},h}(o.default);r.default=d},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function s(f){var h=f.split("-"),c=h.slice(1).map(function(l){return l[0].toUpperCase()+l.slice(1)}).join("");return h[0]+c}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(l){var u=l.split(":");return u[0].trim()})},h.prototype.add=function(c,l){return this.canAdd(c,l)?(c.style[s(this.keyName)]=l,!0):!1},h.prototype.remove=function(c){c.style[s(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},h.prototype.value=function(c){var l=c.style[s(this.keyName)];return this.canAdd(c,l)?l:""},h}(o.default);r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function d(f,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}return function(f,h,c){return h&&d(f.prototype,h),c&&d(f,c),f}}();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function d(f,h){o(this,d),this.quill=f,this.options=h,this.modules={}}return i(d,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(c){h.modules[c]==null&&h.addModule(c)})}},{key:"addModule",value:function(h){var c=this.quill.constructor.import("modules/"+h);return this.modules[h]=new c(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),d}();s.DEFAULTS={modules:{}},s.themes={default:s},r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var D=Object.getPrototypeOf(b);return D===null?void 0:g(D,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=a(0),d=c(s),f=a(7),h=c(f);function c(g){return g&&g.__esModule?g:{default:g}}function l(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function u(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var v="\uFEFF",m=function(g){p(b,g);function b(x){l(this,b);var y=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(C){y.contentNode.appendChild(C)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return i(b,[{key:"index",value:function(y,C){return y===this.leftGuard?0:y===this.rightGuard?1:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,C)}},{key:"restore",value:function(y){var C=void 0,D=void 0,O=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof h.default){var I=this.prev.length();this.prev.insertAt(I,O),C={startNode:this.prev.domNode,startOffset:I+O.length}}else D=document.createTextNode(O),this.parent.insertBefore(d.default.create(D),this),C={startNode:D,startOffset:O.length};else y===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,O),C={startNode:this.next.domNode,startOffset:O.length}):(D=document.createTextNode(O),this.parent.insertBefore(d.default.create(D),this.next),C={startNode:D,startOffset:O.length}));return y.data=v,C}},{key:"update",value:function(y,C){var D=this;y.forEach(function(O){if(O.type==="characterData"&&(O.target===D.leftGuard||O.target===D.rightGuard)){var I=D.restore(O.target);I&&(C.range=I)}})}}]),b}(d.default.Embed);r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",d),h=new o.default.Attributor.Class("align","ql-align",d),c=new o.default.Attributor.Style("align","text-align",d);r.AlignAttribute=f,r.AlignClass=h,r.AlignStyle=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=a(0),o=d(i),s=a(26);function d(c){return c&&c.__esModule?c:{default:c}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",d),h=new o.default.Attributor.Class("direction","ql-direction",d),c=new o.default.Attributor.Style("direction","direction",d);r.DirectionAttribute=f,r.DirectionClass=h,r.DirectionStyle=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var D=Object.getPrototypeOf(b);return D===null?void 0:g(D,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=a(0),d=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function c(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function l(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var u={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new d.default.Attributor.Class("font","ql-font",u),v=function(g){l(b,g);function b(){return h(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"value",value:function(y){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),b}(d.default.Attributor.Style),m=new v("font","font-family",u);r.FontStyle=m,r.FontClass=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=a(0),o=s(i);function s(h){return h&&h.__esModule?h:{default:h}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=d,r.SizeStyle=f},function(n,r,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function x(y,C){for(var D=0;D<C.length;D++){var O=C[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,C,D){return C&&x(y.prototype,C),D&&x(y,D),y}}(),o=a(0),s=l(o),d=a(5),f=l(d),h=a(9),c=l(h);function l(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function p(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function v(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var m=function(x){v(y,x);function y(C,D){u(this,y);var O=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,D));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(f.default.events.EDITOR_CHANGE,function(I,k,N,S){I!==f.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||S===f.default.sources.USER?O.record(k,N):O.transform(k))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return i(y,[{key:"change",value:function(D,O){if(this.stack[D].length!==0){var I=this.stack[D].pop();this.stack[O].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[D],f.default.sources.USER),this.ignoreChange=!1;var k=b(I[D]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(D,O){if(D.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(O),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var N=this.stack.undo.pop();I=I.compose(N.undo),D=N.redo.compose(D)}else this.lastRecorded=k;this.stack.undo.push({redo:D,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(D){this.stack.undo.forEach(function(O){O.undo=D.transform(O.undo,!0),O.redo=D.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=D.transform(O.undo,!0),O.redo=D.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(c.default);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(x){var y=x.ops[x.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(C){return s.default.query(C,s.default.Scope.BLOCK)!=null}):!1}function b(x){var y=x.reduce(function(D,O){return D+=O.delete||0,D},0),C=x.length()-y;return g(x)&&(C-=1),C}r.default=m,r.getLastChangeIndex=b},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function R(F,U){for(var z=0;z<U.length;z++){var M=U[z];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(F,M.key,M)}}return function(F,U,z){return U&&R(F.prototype,U),z&&R(F,z),F}}(),o=function R(F,U,z){F===null&&(F=Function.prototype);var M=Object.getOwnPropertyDescriptor(F,U);if(M===void 0){var H=Object.getPrototypeOf(F);return H===null?void 0:R(H,U,z)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(z)}},s=a(3),d=k(s),f=a(2),h=k(f),c=a(8),l=k(c),u=a(23),p=k(u),v=a(34),m=k(v),g=a(59),b=k(g),x=a(60),y=k(x),C=a(28),D=k(C),O=a(61),I=k(O);function k(R){return R&&R.__esModule?R:{default:R}}function N(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function S(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function A(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var P=[!1,"center","right","justify"],_=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],q=["1","2","3",!1],j=["small",!1,"large","huge"],Y=function(R){A(F,R);function F(U,z){N(this,F);var M=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,U,z)),H=function W(V){if(!document.body.contains(U.root))return document.body.removeEventListener("click",W);M.tooltip!=null&&!M.tooltip.root.contains(V.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),M.pickers!=null&&M.pickers.forEach(function(G){G.container.contains(V.target)||G.close()})};return U.emitter.listenDOM("click",document.body,H),M}return i(F,[{key:"addModule",value:function(z){var M=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(z,M){z.forEach(function(H){var W=H.getAttribute("class")||"";W.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),M[V]!=null))if(V==="direction")H.innerHTML=M[V][""]+M[V].rtl;else if(typeof M[V]=="string")H.innerHTML=M[V];else{var G=H.value||"";G!=null&&M[V][G]&&(H.innerHTML=M[V][G])}})})}},{key:"buildPickers",value:function(z,M){var H=this;this.pickers=z.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&T(V,P),new y.default(V,M.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var G=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&T(V,_,G==="background"?"#ffffff":"#000000"),new b.default(V,M[G])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?T(V,L):V.classList.contains("ql-header")?T(V,q):V.classList.contains("ql-size")&&T(V,j)),new D.default(V)});var W=function(){H.pickers.forEach(function(G){G.update()})};this.quill.on(l.default.events.EDITOR_CHANGE,W)}}]),F}(m.default);Y.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var z=new FileReader;z.onload=function(M){var H=F.quill.getSelection(!0);F.quill.updateContents(new h.default().retain(H.index).delete(H.length).insert({image:M.target.result}),l.default.sources.USER),F.quill.setSelection(H.index+1,l.default.sources.SILENT),U.value=""},z.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(R){A(F,R);function F(U,z){N(this,F);var M=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,U,z));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return i(F,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(M){p.default.match(M,"enter")?(z.save(),M.preventDefault()):p.default.match(M,"escape")&&(z.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,l.default.sources.USER)),this.quill.root.scrollTop=M;break}case"video":z=$(z);case"formula":{if(!z)break;var H=this.quill.getSelection(!0);if(H!=null){var W=H.index+H.length;this.quill.insertEmbed(W,this.root.getAttribute("data-mode"),z,l.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(W+1," ",l.default.sources.USER),this.quill.setSelection(W+2,l.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(I.default);function $(R){var F=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":R}function T(R,F){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(z){var M=document.createElement("option");z===U?M.setAttribute("selected","selected"):M.setAttribute("value",z),R.appendChild(M)})}r.BaseTooltip=B,r.default=Y},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var d,f=this.iterator();d=f();)if(d===s)return!0;return!1},o.prototype.insertBefore=function(s,d){s&&(s.next=d,d!=null?(s.prev=d.prev,d.prev!=null&&(d.prev.next=s),d.prev=s,d===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var d=0,f=this.head;f!=null;){if(f===s)return d;d+=f.length(),f=f.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var d=s;return s!=null&&(s=s.next),d}},o.prototype.find=function(s,d){d===void 0&&(d=!1);for(var f,h=this.iterator();f=h();){var c=f.length();if(s<c||d&&s===c&&(f.next==null||f.next.length()!==0))return[f,s];s-=c}return[null,0]},o.prototype.forEach=function(s){for(var d,f=this.iterator();d=f();)s(d)},o.prototype.forEachAt=function(s,d,f){if(!(d<=0))for(var h=this.find(s),c=h[0],l=h[1],u,p=s-l,v=this.iterator(c);(u=v())&&p<s+d;){var m=u.length();s>p?f(u,s-p,Math.min(d,p+m-s)):f(u,0,Math.min(m,s+d-p)),p+=m}},o.prototype.map=function(s){return this.reduce(function(d,f){return d.push(s(f)),d},[])},o.prototype.reduce=function(s,d){for(var f,h=this.iterator();f=h();)d=s(d,f);return d},o}();r.default=i},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)u.hasOwnProperty(p)&&(l[p]=u[p])};return function(l,u){c(l,u);function p(){this.constructor=l}l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(17),s=a(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,h=function(c){i(l,c);function l(u){var p=c.call(this,u)||this;return p.scroll=p,p.observer=new MutationObserver(function(v){p.update(v)}),p.observer.observe(p.domNode,d),p.attach(),p}return l.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},l.prototype.deleteAt=function(u,p){this.update(),u===0&&p===this.length()?this.children.forEach(function(v){v.remove()}):c.prototype.deleteAt.call(this,u,p)},l.prototype.formatAt=function(u,p,v,m){this.update(),c.prototype.formatAt.call(this,u,p,v,m)},l.prototype.insertAt=function(u,p,v){this.update(),c.prototype.insertAt.call(this,u,p,v)},l.prototype.optimize=function(u,p){var v=this;u===void 0&&(u=[]),p===void 0&&(p={}),c.prototype.optimize.call(this,p);for(var m=[].slice.call(this.observer.takeRecords());m.length>0;)u.push(m.pop());for(var g=function(C,D){D===void 0&&(D=!0),!(C==null||C===v)&&C.domNode.parentNode!=null&&(C.domNode[s.DATA_KEY].mutations==null&&(C.domNode[s.DATA_KEY].mutations=[]),D&&g(C.parent))},b=function(C){C.domNode[s.DATA_KEY]==null||C.domNode[s.DATA_KEY].mutations==null||(C instanceof o.default&&C.children.forEach(b),C.optimize(p))},x=u,y=0;x.length>0;y+=1){if(y>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(C){var D=s.find(C.target,!0);D!=null&&(D.domNode===C.target&&(C.type==="childList"?(g(s.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(O){var I=s.find(O,!1);g(I,!1),I instanceof o.default&&I.children.forEach(function(k){g(k,!1)})})):C.type==="attributes"&&g(D.prev)),g(D))}),this.children.forEach(b),x=[].slice.call(this.observer.takeRecords()),m=x.slice();m.length>0;)u.push(m.pop())}},l.prototype.update=function(u,p){var v=this;p===void 0&&(p={}),u=u||this.observer.takeRecords(),u.map(function(m){var g=s.find(m.target,!0);return g==null?null:g.domNode[s.DATA_KEY].mutations==null?(g.domNode[s.DATA_KEY].mutations=[m],g):(g.domNode[s.DATA_KEY].mutations.push(m),null)}).forEach(function(m){m==null||m===v||m.domNode[s.DATA_KEY]==null||m.update(m.domNode[s.DATA_KEY].mutations||[],p)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,p),this.optimize(u,p)},l.blotName="scroll",l.defaultChild="block",l.scope=s.Scope.BLOCK_BLOT,l.tagName="DIV",l}(o.default);r.default=h},function(n,r,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)l.hasOwnProperty(u)&&(c[u]=l[u])};return function(c,l){h(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),s=a(1);function d(h,c){if(Object.keys(h).length!==Object.keys(c).length)return!1;for(var l in h)if(h[l]!==c[l])return!1;return!0}var f=function(h){i(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(l){if(l.tagName!==c.tagName)return h.formats.call(this,l)},c.prototype.format=function(l,u){var p=this;l===this.statics.blotName&&!u?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(c.blotName,!0)),p.attributes.copy(v)}),this.unwrap()):h.prototype.format.call(this,l,u)},c.prototype.formatAt=function(l,u,p,v){if(this.formats()[p]!=null||s.query(p,s.Scope.ATTRIBUTE)){var m=this.isolate(l,u);m.format(p,v)}else h.prototype.formatAt.call(this,l,u,p,v)},c.prototype.optimize=function(l){h.prototype.optimize.call(this,l);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var p=this.next;p instanceof c&&p.prev===this&&d(u,p.formats())&&(p.moveChildren(this),p.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),s=a(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(c){var l=s.query(h.blotName).tagName;if(c.tagName!==l)return f.formats.call(this,c)},h.prototype.format=function(c,l){s.query(c,s.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!l?this.replaceWith(h.blotName):f.prototype.format.call(this,c,l))},h.prototype.formatAt=function(c,l,u,p){s.query(u,s.Scope.BLOCK)!=null?this.format(u,p):f.prototype.formatAt.call(this,c,l,u,p)},h.prototype.insertAt=function(c,l,u){if(u==null||s.query(l,s.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,l,u);else{var p=this.split(c),v=s.create(l,u);p.parent.insertBefore(v,p)}},h.prototype.update=function(c,l){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,l)},h.blotName="block",h.scope=s.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);r.default=d},function(n,r,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),s=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){},f.prototype.format=function(h,c){d.prototype.formatAt.call(this,0,this.length(),h,c)},f.prototype.formatAt=function(h,c,l,u){h===0&&c===this.length()?this.format(l,u):d.prototype.formatAt.call(this,h,c,l,u)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);r.default=s},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),s=a(1),d=function(f){i(h,f);function h(c){var l=f.call(this,c)||this;return l.text=l.statics.value(l.domNode),l}return h.create=function(c){return document.createTextNode(c)},h.value=function(c){var l=c.data;return l.normalize&&(l=l.normalize()),l},h.prototype.deleteAt=function(c,l){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+l)},h.prototype.index=function(c,l){return this.domNode===c?l:-1},h.prototype.insertAt=function(c,l,u){u==null?(this.text=this.text.slice(0,c)+l+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,l,u)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(c,l){return[this.domNode,c]},h.prototype.split=function(c,l){if(l===void 0&&(l=!1),!l){if(c===0)return this;if(c===this.length())return this.next}var u=s.create(this.domNode.splitText(c));return this.parent.insertBefore(u,this.next),this.text=this.statics.value(this.domNode),u},h.prototype.update=function(c,l){var u=this;c.some(function(p){return p.type==="characterData"&&p.target===u.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=s.Scope.INLINE_BLOT,h}(o.default);r.default=d},function(n,r,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,d){return arguments.length>1&&!this.contains(s)==!d?d:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,d){return d=d||0,this.substr(d,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,d){var f=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>f.length)&&(d=f.length),d-=s.length;var h=f.indexOf(s,d);return h!==-1&&h===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),h=f.length>>>0,c=arguments[1],l,u=0;u<h;u++)if(l=f[u],d.call(c,l,u,f))return l}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var a=-1,i=1,o=0;function s(y,C,D){if(y==C)return y?[[o,y]]:[];(D<0||y.length<D)&&(D=null);var O=c(y,C),I=y.substring(0,O);y=y.substring(O),C=C.substring(O),O=l(y,C);var k=y.substring(y.length-O);y=y.substring(0,y.length-O),C=C.substring(0,C.length-O);var N=d(y,C);return I&&N.unshift([o,I]),k&&N.push([o,k]),p(N),D!=null&&(N=g(N,D)),N=b(N),N}function d(y,C){var D;if(!y)return[[i,C]];if(!C)return[[a,y]];var O=y.length>C.length?y:C,I=y.length>C.length?C:y,k=O.indexOf(I);if(k!=-1)return D=[[i,O.substring(0,k)],[o,I],[i,O.substring(k+I.length)]],y.length>C.length&&(D[0][0]=D[2][0]=a),D;if(I.length==1)return[[a,y],[i,C]];var N=u(y,C);if(N){var S=N[0],A=N[1],P=N[2],_=N[3],L=N[4],q=s(S,P),j=s(A,_);return q.concat([[o,L]],j)}return f(y,C)}function f(y,C){for(var D=y.length,O=C.length,I=Math.ceil((D+O)/2),k=I,N=2*I,S=new Array(N),A=new Array(N),P=0;P<N;P++)S[P]=-1,A[P]=-1;S[k+1]=0,A[k+1]=0;for(var _=D-O,L=_%2!=0,q=0,j=0,Y=0,B=0,$=0;$<I;$++){for(var T=-$+q;T<=$-j;T+=2){var R=k+T,F;T==-$||T!=$&&S[R-1]<S[R+1]?F=S[R+1]:F=S[R-1]+1;for(var U=F-T;F<D&&U<O&&y.charAt(F)==C.charAt(U);)F++,U++;if(S[R]=F,F>D)j+=2;else if(U>O)q+=2;else if(L){var z=k+_-T;if(z>=0&&z<N&&A[z]!=-1){var M=D-A[z];if(F>=M)return h(y,C,F,U)}}}for(var H=-$+Y;H<=$-B;H+=2){var z=k+H,M;H==-$||H!=$&&A[z-1]<A[z+1]?M=A[z+1]:M=A[z-1]+1;for(var W=M-H;M<D&&W<O&&y.charAt(D-M-1)==C.charAt(O-W-1);)M++,W++;if(A[z]=M,M>D)B+=2;else if(W>O)Y+=2;else if(!L){var R=k+_-H;if(R>=0&&R<N&&S[R]!=-1){var F=S[R],U=k+F-R;if(M=D-M,F>=M)return h(y,C,F,U)}}}}return[[a,y],[i,C]]}function h(y,C,D,O){var I=y.substring(0,D),k=C.substring(0,O),N=y.substring(D),S=C.substring(O),A=s(I,k),P=s(N,S);return A.concat(P)}function c(y,C){if(!y||!C||y.charAt(0)!=C.charAt(0))return 0;for(var D=0,O=Math.min(y.length,C.length),I=O,k=0;D<I;)y.substring(k,I)==C.substring(k,I)?(D=I,k=D):O=I,I=Math.floor((O-D)/2+D);return I}function l(y,C){if(!y||!C||y.charAt(y.length-1)!=C.charAt(C.length-1))return 0;for(var D=0,O=Math.min(y.length,C.length),I=O,k=0;D<I;)y.substring(y.length-I,y.length-k)==C.substring(C.length-I,C.length-k)?(D=I,k=D):O=I,I=Math.floor((O-D)/2+D);return I}function u(y,C){var D=y.length>C.length?y:C,O=y.length>C.length?C:y;if(D.length<4||O.length*2<D.length)return null;function I(j,Y,B){for(var $=j.substring(B,B+Math.floor(j.length/4)),T=-1,R="",F,U,z,M;(T=Y.indexOf($,T+1))!=-1;){var H=c(j.substring(B),Y.substring(T)),W=l(j.substring(0,B),Y.substring(0,T));R.length<W+H&&(R=Y.substring(T-W,T)+Y.substring(T,T+H),F=j.substring(0,B-W),U=j.substring(B+H),z=Y.substring(0,T-W),M=Y.substring(T+H))}return R.length*2>=j.length?[F,U,z,M,R]:null}var k=I(D,O,Math.ceil(D.length/4)),N=I(D,O,Math.ceil(D.length/2)),S;if(!k&&!N)return null;N?k?S=k[4].length>N[4].length?k:N:S=N:S=k;var A,P,_,L;y.length>C.length?(A=S[0],P=S[1],_=S[2],L=S[3]):(_=S[0],L=S[1],A=S[2],P=S[3]);var q=S[4];return[A,P,_,L,q]}function p(y){y.push([o,""]);for(var C=0,D=0,O=0,I="",k="",N;C<y.length;)switch(y[C][0]){case i:O++,k+=y[C][1],C++;break;case a:D++,I+=y[C][1],C++;break;case o:D+O>1?(D!==0&&O!==0&&(N=c(k,I),N!==0&&(C-D-O>0&&y[C-D-O-1][0]==o?y[C-D-O-1][1]+=k.substring(0,N):(y.splice(0,0,[o,k.substring(0,N)]),C++),k=k.substring(N),I=I.substring(N)),N=l(k,I),N!==0&&(y[C][1]=k.substring(k.length-N)+y[C][1],k=k.substring(0,k.length-N),I=I.substring(0,I.length-N))),D===0?y.splice(C-O,D+O,[i,k]):O===0?y.splice(C-D,D+O,[a,I]):y.splice(C-D-O,D+O,[a,I],[i,k]),C=C-D-O+(D?1:0)+(O?1:0)+1):C!==0&&y[C-1][0]==o?(y[C-1][1]+=y[C][1],y.splice(C,1)):C++,O=0,D=0,I="",k="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(C=1;C<y.length-1;)y[C-1][0]==o&&y[C+1][0]==o&&(y[C][1].substring(y[C][1].length-y[C-1][1].length)==y[C-1][1]?(y[C][1]=y[C-1][1]+y[C][1].substring(0,y[C][1].length-y[C-1][1].length),y[C+1][1]=y[C-1][1]+y[C+1][1],y.splice(C-1,1),S=!0):y[C][1].substring(0,y[C+1][1].length)==y[C+1][1]&&(y[C-1][1]+=y[C+1][1],y[C][1]=y[C][1].substring(y[C+1][1].length)+y[C+1][1],y.splice(C+1,1),S=!0)),C++;S&&p(y)}var v=s;v.INSERT=i,v.DELETE=a,v.EQUAL=o,n.exports=v;function m(y,C){if(C===0)return[o,y];for(var D=0,O=0;O<y.length;O++){var I=y[O];if(I[0]===a||I[0]===o){var k=D+I[1].length;if(C===k)return[O+1,y];if(C<k){y=y.slice();var N=C-D,S=[I[0],I[1].slice(0,N)],A=[I[0],I[1].slice(N)];return y.splice(O,1,S,A),[O+1,y]}else D=k}}throw new Error("cursor_pos is out of bounds!")}function g(y,C){var D=m(y,C),O=D[1],I=D[0],k=O[I],N=O[I+1];if(k==null)return y;if(k[0]!==o)return y;if(N!=null&&k[1]+N[1]===N[1]+k[1])return O.splice(I,2,N,k),x(O,I,2);if(N!=null&&N[1].indexOf(k[1])===0){O.splice(I,2,[N[0],k[1]],[0,k[1]]);var S=N[1].slice(k[1].length);return S.length>0&&O.splice(I+2,0,[N[0],S]),x(O,I,3)}else return y}function b(y){for(var C=!1,D=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},O=function(N){return N.charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319},I=2;I<y.length;I+=1)y[I-2][0]===o&&O(y[I-2][1])&&y[I-1][0]===a&&D(y[I-1][1])&&y[I][0]===i&&D(y[I][1])&&(C=!0,y[I-1][1]=y[I-2][1].slice(-1)+y[I-1][1],y[I][1]=y[I-2][1].slice(-1)+y[I][1],y[I-2][1]=y[I-2][1].slice(0,-1));if(!C)return y;for(var k=[],I=0;I<y.length;I+=1)y[I][1].length>0&&k.push(y[I]);return k}function x(y,C,D){for(var O=C+D-1;O>=0&&O>=C-1;O--)if(O+1<y.length){var I=y[O],k=y[O+1];I[0]===k[1]&&y.splice(O,2,[I[0],I[1]+k[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(i){var o=[];for(var s in i)o.push(s);return o}},function(n,r){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=a?i:o,r.supported=i;function i(s){return Object.prototype.toString.call(s)=="[object Arguments]"}r.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(n,r){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function s(f,h,c){this.fn=f,this.context=h,this.once=c||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],c,l;if(this._eventsCount===0)return h;for(l in c=this._events)a.call(c,l)&&h.push(i?l.slice(1):l);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},d.prototype.listeners=function(h,c){var l=i?i+h:h,u=this._events[l];if(c)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var p=0,v=u.length,m=new Array(v);p<v;p++)m[p]=u[p].fn;return m},d.prototype.emit=function(h,c,l,u,p,v){var m=i?i+h:h;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,x,y;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,l),!0;case 4:return g.fn.call(g.context,c,l,u),!0;case 5:return g.fn.call(g.context,c,l,u,p),!0;case 6:return g.fn.call(g.context,c,l,u,p,v),!0}for(y=1,x=new Array(b-1);y<b;y++)x[y-1]=arguments[y];g.fn.apply(g.context,x)}else{var C=g.length,D;for(y=0;y<C;y++)switch(g[y].once&&this.removeListener(h,g[y].fn,void 0,!0),b){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,l);break;case 4:g[y].fn.call(g[y].context,c,l,u);break;default:if(!x)for(D=1,x=new Array(b-1);D<b;D++)x[D-1]=arguments[D];g[y].fn.apply(g[y].context,x)}}return!0},d.prototype.on=function(h,c,l){var u=new s(c,l||this),p=i?i+h:h;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],u]:this._events[p].push(u):(this._events[p]=u,this._eventsCount++),this},d.prototype.once=function(h,c,l){var u=new s(c,l||this,!0),p=i?i+h:h;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],u]:this._events[p].push(u):(this._events[p]=u,this._eventsCount++),this},d.prototype.removeListener=function(h,c,l,u){var p=i?i+h:h;if(!this._events[p])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var v=this._events[p];if(v.fn)v.fn===c&&(!u||v.once)&&(!l||v.context===l)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var m=0,g=[],b=v.length;m<b;m++)(v[m].fn!==c||u&&!v[m].once||l&&v[m].context!==l)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},d.prototype.removeAllListeners=function(h){var c;return h?(c=i?i+h:h,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=i,d.EventEmitter=d,typeof n<"u"&&(n.exports=d)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){function K(X,ne){var ie=[],J=!0,ue=!1,se=void 0;try{for(var ve=X[Symbol.iterator](),Ae;!(J=(Ae=ve.next()).done)&&(ie.push(Ae.value),!(ne&&ie.length===ne));J=!0);}catch(_e){ue=!0,se=_e}finally{try{!J&&ve.return&&ve.return()}finally{if(ue)throw se}}return ie}return function(X,ne){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return K(X,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function K(X,ne){for(var ie=0;ie<ne.length;ie++){var J=ne[ie];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(X,J.key,J)}}return function(X,ne,ie){return ne&&K(X.prototype,ne),ie&&K(X,ie),X}}(),d=a(3),f=A(d),h=a(2),c=A(h),l=a(0),u=A(l),p=a(5),v=A(p),m=a(10),g=A(m),b=a(9),x=A(b),y=a(36),C=a(37),D=a(13),O=A(D),I=a(26),k=a(38),N=a(39),S=a(40);function A(K){return K&&K.__esModule?K:{default:K}}function P(K,X,ne){return X in K?Object.defineProperty(K,X,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[X]=ne,K}function _(K,X){if(!(K instanceof X))throw new TypeError("Cannot call a class as a function")}function L(K,X){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:K}function q(K,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);K.prototype=Object.create(X&&X.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(K,X):K.__proto__=X)}var j=(0,g.default)("quill:clipboard"),Y="__ql-matcher",B=[[Node.TEXT_NODE,he],[Node.TEXT_NODE,ee],["br",te],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,fe],["li",ae],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",Q]],$=[y.AlignAttribute,k.DirectionAttribute].reduce(function(K,X){return K[X.keyName]=X,K},{}),T=[y.AlignStyle,C.BackgroundStyle,I.ColorStyle,k.DirectionStyle,N.FontStyle,S.SizeStyle].reduce(function(K,X){return K[X.keyName]=X,K},{}),R=function(K){q(X,K);function X(ne,ie){_(this,X);var J=L(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ne,ie));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],B.concat(J.options.matchers).forEach(function(ue){var se=o(ue,2),ve=se[0],Ae=se[1];!ie.matchVisual&&Ae===re||J.addMatcher(ve,Ae)}),J}return s(X,[{key:"addMatcher",value:function(ie,J){this.matchers.push([ie,J])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[O.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",new c.default().insert(ue,P({},O.default.blotName,J[O.default.blotName]))}var se=this.prepareMatching(),ve=o(se,2),Ae=ve[0],_e=ve[1],Ee=H(this.container,Ae,_e);return z(Ee,`
`)&&Ee.ops[Ee.ops.length-1].attributes==null&&(Ee=Ee.compose(new c.default().retain(Ee.length()-1).delete(1))),j.log("convert",this.container.innerHTML,Ee),this.container.innerHTML="",Ee}},{key:"dangerouslyPasteHTML",value:function(ie,J){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),J),this.quill.setSelection(0,v.default.sources.SILENT);else{var se=this.convert(J);this.quill.updateContents(new c.default().retain(ie).concat(se),ue),this.quill.setSelection(ie+se.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var J=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var ue=this.quill.getSelection(),se=new c.default().retain(ue.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){se=se.concat(J.convert()).delete(ue.length),J.quill.updateContents(se,v.default.sources.USER),J.quill.setSelection(se.length()-ue.length,v.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=ve,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,J=[],ue=[];return this.matchers.forEach(function(se){var ve=o(se,2),Ae=ve[0],_e=ve[1];switch(Ae){case Node.TEXT_NODE:ue.push(_e);break;case Node.ELEMENT_NODE:J.push(_e);break;default:[].forEach.call(ie.container.querySelectorAll(Ae),function(Ee){Ee[Y]=Ee[Y]||[],Ee[Y].push(_e)});break}}),[J,ue]}}]),X}(x.default);R.DEFAULTS={matchers:[],matchVisual:!0};function F(K,X,ne){return(typeof X>"u"?"undefined":i(X))==="object"?Object.keys(X).reduce(function(ie,J){return F(ie,J,X[J])},K):K.reduce(function(ie,J){return J.attributes&&J.attributes[X]?ie.push(J):ie.insert(J.insert,(0,f.default)({},P({},X,ne),J.attributes))},new c.default)}function U(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var X="__ql-computed-style";return K[X]||(K[X]=window.getComputedStyle(K))}function z(K,X){for(var ne="",ie=K.ops.length-1;ie>=0&&ne.length<X.length;--ie){var J=K.ops[ie];if(typeof J.insert!="string")break;ne=J.insert+ne}return ne.slice(-1*X.length)===X}function M(K){if(K.childNodes.length===0)return!1;var X=U(K);return["block","list-item"].indexOf(X.display)>-1}function H(K,X,ne){return K.nodeType===K.TEXT_NODE?ne.reduce(function(ie,J){return J(K,ie)},new c.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(ie,J){var ue=H(J,X,ne);return J.nodeType===K.ELEMENT_NODE&&(ue=X.reduce(function(se,ve){return ve(J,se)},ue),ue=(J[Y]||[]).reduce(function(se,ve){return ve(J,se)},ue)),ie.concat(ue)},new c.default):new c.default}function W(K,X,ne){return F(ne,K,!0)}function V(K,X){var ne=u.default.Attributor.Attribute.keys(K),ie=u.default.Attributor.Class.keys(K),J=u.default.Attributor.Style.keys(K),ue={};return ne.concat(ie).concat(J).forEach(function(se){var ve=u.default.query(se,u.default.Scope.ATTRIBUTE);ve!=null&&(ue[ve.attrName]=ve.value(K),ue[ve.attrName])||(ve=$[se],ve!=null&&(ve.attrName===se||ve.keyName===se)&&(ue[ve.attrName]=ve.value(K)||void 0),ve=T[se],ve!=null&&(ve.attrName===se||ve.keyName===se)&&(ve=T[se],ue[ve.attrName]=ve.value(K)||void 0))}),Object.keys(ue).length>0&&(X=F(X,ue)),X}function G(K,X){var ne=u.default.query(K);if(ne==null)return X;if(ne.prototype instanceof u.default.Embed){var ie={},J=ne.value(K);J!=null&&(ie[ne.blotName]=J,X=new c.default().insert(ie,ne.formats(K)))}else typeof ne.formats=="function"&&(X=F(X,ne.blotName,ne.formats(K)));return X}function te(K,X){return z(X,`
`)||X.insert(`
`),X}function Q(){return new c.default}function ae(K,X){var ne=u.default.query(K);if(ne==null||ne.blotName!=="list-item"||!z(X,`
`))return X;for(var ie=-1,J=K.parentNode;!J.classList.contains("ql-clipboard");)(u.default.query(J)||{}).blotName==="list"&&(ie+=1),J=J.parentNode;return ie<=0?X:X.compose(new c.default().retain(X.length()-1).retain(1,{indent:ie}))}function ee(K,X){return z(X,`
`)||(M(K)||X.length()>0&&K.nextSibling&&M(K.nextSibling))&&X.insert(`
`),X}function re(K,X){if(M(K)&&K.nextElementSibling!=null&&!z(X,`

`)){var ne=K.offsetHeight+parseFloat(U(K).marginTop)+parseFloat(U(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+ne*1.5&&X.insert(`
`)}return X}function fe(K,X){var ne={},ie=K.style||{};return ie.fontStyle&&U(K).fontStyle==="italic"&&(ne.italic=!0),ie.fontWeight&&(U(K).fontWeight.startsWith("bold")||parseInt(U(K).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(X=F(X,ne)),parseFloat(ie.textIndent||0)>0&&(X=new c.default().insert("	").concat(X)),X}function he(K,X){var ne=K.data;if(K.parentNode.tagName==="O:P")return X.insert(ne.trim());if(ne.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return X;if(!U(K.parentNode).whiteSpace.startsWith("pre")){var ie=function(ue,se){return se=se.replace(/[^\u00a0]/g,""),se.length<1&&ue?" ":se};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,ie.bind(ie,!0)),(K.previousSibling==null&&M(K.parentNode)||K.previousSibling!=null&&M(K.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(K.nextSibling==null&&M(K.parentNode)||K.nextSibling!=null&&M(K.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return X.insert(ne)}r.default=R,r.matchAttributor=V,r.matchBlot=G,r.matchNewline=ee,r.matchSpacing=re,r.matchText=he},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,m,g){return m&&p(v.prototype,m),g&&p(v,g),v}}(),o=function p(v,m,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,m);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:p(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(6),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(g){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(d.default);u.blotName="bold",u.tagName=["STRONG","B"],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function S(A,P){var _=[],L=!0,q=!1,j=void 0;try{for(var Y=A[Symbol.iterator](),B;!(L=(B=Y.next()).done)&&(_.push(B.value),!(P&&_.length===P));L=!0);}catch($){q=!0,j=$}finally{try{!L&&Y.return&&Y.return()}finally{if(q)throw j}}return _}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return S(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(A,P){for(var _=0;_<P.length;_++){var L=P[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,_){return P&&S(A.prototype,P),_&&S(A,_),A}}(),s=a(2),d=g(s),f=a(0),h=g(f),c=a(5),l=g(c),u=a(10),p=g(u),v=a(9),m=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function b(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}function x(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function y(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function C(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var D=(0,p.default)("quill:toolbar"),O=function(S){C(A,S);function A(P,_){x(this,A);var L=y(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,_));if(Array.isArray(L.options.container)){var q=document.createElement("div");k(q,L.options.container),P.container.parentNode.insertBefore(q,P.container),L.container=q}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var j;return j=D.error("Container required for toolbar",L.options),y(L,j)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(Y){L.addHandler(Y,L.options.handlers[Y])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(Y){L.attach(Y)}),L.quill.on(l.default.events.EDITOR_CHANGE,function(Y,B){Y===l.default.events.SELECTION_CHANGE&&L.update(B)}),L.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var Y=L.quill.selection.getRange(),B=i(Y,1),$=B[0];L.update($)}),L}return o(A,[{key:"addHandler",value:function(_,L){this.handlers[_]=L}},{key:"attach",value:function(_){var L=this,q=[].find.call(_.classList,function(Y){return Y.indexOf("ql-")===0});if(q){if(q=q.slice(3),_.tagName==="BUTTON"&&_.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){D.warn("ignoring attaching to disabled format",q,_);return}if(h.default.query(q)==null){D.warn("ignoring attaching to nonexistent format",q,_);return}}var j=_.tagName==="SELECT"?"change":"click";_.addEventListener(j,function(Y){var B=void 0;if(_.tagName==="SELECT"){if(_.selectedIndex<0)return;var $=_.options[_.selectedIndex];$.hasAttribute("selected")?B=!1:B=$.value||!1}else _.classList.contains("ql-active")?B=!1:B=_.value||!_.hasAttribute("value"),Y.preventDefault();L.quill.focus();var T=L.quill.selection.getRange(),R=i(T,1),F=R[0];if(L.handlers[q]!=null)L.handlers[q].call(L,B);else if(h.default.query(q).prototype instanceof h.default.Embed){if(B=prompt("Enter "+q),!B)return;L.quill.updateContents(new d.default().retain(F.index).delete(F.length).insert(b({},q,B)),l.default.sources.USER)}else L.quill.format(q,B,l.default.sources.USER);L.update(F)}),this.controls.push([q,_])}}},{key:"update",value:function(_){var L=_==null?{}:this.quill.getFormat(_);this.controls.forEach(function(q){var j=i(q,2),Y=j[0],B=j[1];if(B.tagName==="SELECT"){var $=void 0;if(_==null)$=null;else if(L[Y]==null)$=B.querySelector("option[selected]");else if(!Array.isArray(L[Y])){var T=L[Y];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),$=B.querySelector('option[value="'+T+'"]')}$==null?(B.value="",B.selectedIndex=-1):$.selected=!0}else if(_==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var R=L[Y]===B.getAttribute("value")||L[Y]!=null&&L[Y].toString()===B.getAttribute("value")||L[Y]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",R)}else B.classList.toggle("ql-active",L[Y]!=null)})}}]),A}(m.default);O.DEFAULTS={};function I(S,A,P){var _=document.createElement("button");_.setAttribute("type","button"),_.classList.add("ql-"+A),P!=null&&(_.value=P),S.appendChild(_)}function k(S,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(P){var _=document.createElement("span");_.classList.add("ql-formats"),P.forEach(function(L){if(typeof L=="string")I(_,L);else{var q=Object.keys(L)[0],j=L[q];Array.isArray(j)?N(_,q,j):I(_,q,j)}}),S.appendChild(_)})}function N(S,A,P){var _=document.createElement("select");_.classList.add("ql-"+A),P.forEach(function(L){var q=document.createElement("option");L!==!1?q.setAttribute("value",L):q.setAttribute("selected","selected"),_.appendChild(q)}),S.appendChild(_)}O.DEFAULTS={container:null,handlers:{clean:function(){var A=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var _=this.quill.getFormat();Object.keys(_).forEach(function(L){h.default.query(L,h.default.Scope.INLINE)!=null&&A.quill.format(L,!1)})}else this.quill.removeFormat(P,l.default.sources.USER)},direction:function(A){var P=this.quill.getFormat().align;A==="rtl"&&P==null?this.quill.format("align","right",l.default.sources.USER):!A&&P==="right"&&this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",A,l.default.sources.USER)},indent:function(A){var P=this.quill.getSelection(),_=this.quill.getFormat(P),L=parseInt(_.indent||0);if(A==="+1"||A==="-1"){var q=A==="+1"?1:-1;_.direction==="rtl"&&(q*=-1),this.quill.format("indent",L+q,l.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,l.default.sources.USER)},list:function(A){var P=this.quill.getSelection(),_=this.quill.getFormat(P);A==="check"?_.list==="checked"||_.list==="unchecked"?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",A,l.default.sources.USER)}}},r.default=O,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,m,g){return m&&p(v.prototype,m),g&&p(v,g),v}}(),o=function p(v,m,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,m);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:p(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(28),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(m,g){h(this,v);var b=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,m));return b.label.innerHTML=g,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),b}return i(v,[{key:"buildItem",value:function(g){var b=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return b.style.backgroundColor=g.getAttribute("value")||"",b}},{key:"selectItem",value:function(g,b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,b);var x=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=y:x.style.fill=y)}}]),v}(d.default);r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,m,g){return m&&p(v.prototype,m),g&&p(v,g),v}}(),o=function p(v,m,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,m);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:p(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(28),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(m,g){h(this,v);var b=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,m));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=g[x.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return i(v,[{key:"selectItem",value:function(g,b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,b),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(d.default);r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function d(f,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}return function(f,h,c){return h&&d(f.prototype,h),c&&d(f,c),f}}();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function d(f,h){var c=this;o(this,d),this.quill=f,this.boundsContainer=h||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return i(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var c=h.left+h.width/2-this.root.offsetWidth/2,l=h.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=l+"px",this.root.classList.remove("ql-flip");var u=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),v=0;if(p.right>u.right&&(v=u.right-p.right,this.root.style.left=c+v+"px"),p.left<u.left&&(v=u.left-p.left,this.root.style.left=c+v+"px"),p.bottom>u.bottom){var m=p.bottom-p.top,g=h.bottom-h.top+m;this.root.style.top=l-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function N(S,A){var P=[],_=!0,L=!1,q=void 0;try{for(var j=S[Symbol.iterator](),Y;!(_=(Y=j.next()).done)&&(P.push(Y.value),!(A&&P.length===A));_=!0);}catch(B){L=!0,q=B}finally{try{!_&&j.return&&j.return()}finally{if(L)throw q}}return P}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return N(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function N(S,A,P){S===null&&(S=Function.prototype);var _=Object.getOwnPropertyDescriptor(S,A);if(_===void 0){var L=Object.getPrototypeOf(S);return L===null?void 0:N(L,A,P)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(P)}},s=function(){function N(S,A){for(var P=0;P<A.length;P++){var _=A[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,A,P){return A&&N(S.prototype,A),P&&N(S,P),S}}(),d=a(3),f=x(d),h=a(8),c=x(h),l=a(43),u=x(l),p=a(27),v=x(p),m=a(15),g=a(41),b=x(g);function x(N){return N&&N.__esModule?N:{default:N}}function y(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function C(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function D(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(N){D(S,N);function S(A,P){y(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=O);var _=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,P));return _.quill.container.classList.add("ql-snow"),_}return s(S,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),b.default),this.tooltip=new k(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(_,L){P.handlers.link.call(P,!L.format.link)})}}]),S}(u.default);I.DEFAULTS=(0,f.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var A=this.quill.getSelection();if(A==null||A.length==0)return;var P=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var _=this.quill.theme.tooltip;_.edit("link",P)}else this.quill.format("link",!1)}}}}});var k=function(N){D(S,N);function S(A,P){y(this,S);var _=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,P));return _.preview=_.root.querySelector("a.ql-preview"),_}return s(S,[{key:"listen",value:function(){var P=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(_){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),_.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(_){if(P.linkRange!=null){var L=P.linkRange;P.restoreFocus(),P.quill.formatText(L,"link",!1,c.default.sources.USER),delete P.linkRange}_.preventDefault(),P.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(_,L,q){if(_!=null){if(_.length===0&&q===c.default.sources.USER){var j=P.quill.scroll.descendant(v.default,_.index),Y=i(j,2),B=Y[0],$=Y[1];if(B!=null){P.linkRange=new m.Range(_.index-$,B.length());var T=v.default.formats(B.domNode);P.preview.textContent=T,P.preview.setAttribute("href",T),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(l.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(29),o=J(i),s=a(36),d=a(38),f=a(64),h=a(65),c=J(h),l=a(66),u=J(l),p=a(67),v=J(p),m=a(37),g=a(26),b=a(39),x=a(40),y=a(56),C=J(y),D=a(68),O=J(D),I=a(27),k=J(I),N=a(69),S=J(N),A=a(70),P=J(A),_=a(71),L=J(_),q=a(72),j=J(q),Y=a(73),B=J(Y),$=a(13),T=J($),R=a(74),F=J(R),U=a(75),z=J(U),M=a(57),H=J(M),W=a(41),V=J(W),G=a(28),te=J(G),Q=a(59),ae=J(Q),ee=a(60),re=J(ee),fe=a(61),he=J(fe),K=a(108),X=J(K),ne=a(62),ie=J(ne);function J(ue){return ue&&ue.__esModule?ue:{default:ue}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":x.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":f.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":b.FontClass,"formats/size":x.SizeClass,"formats/blockquote":c.default,"formats/code-block":T.default,"formats/header":u.default,"formats/list":v.default,"formats/bold":C.default,"formats/code":$.Code,"formats/italic":O.default,"formats/link":k.default,"formats/script":S.default,"formats/strike":P.default,"formats/underline":L.default,"formats/image":j.default,"formats/video":B.default,"formats/list/item":p.ListItem,"modules/formula":F.default,"modules/syntax":z.default,"modules/toolbar":H.default,"themes/bubble":X.default,"themes/snow":ie.default,"ui/icons":V.default,"ui/picker":te.default,"ui/icon-picker":re.default,"ui/color-picker":ae.default,"ui/tooltip":he.default},!0),r.default=o.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function v(m,g){for(var b=0;b<g.length;b++){var x=g[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,b){return g&&v(m.prototype,g),b&&v(m,b),m}}(),o=function v(m,g,b){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:v(y,g,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},s=a(0),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function c(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function l(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var u=function(v){l(m,v);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"add",value:function(b,x){if(x==="+1"||x==="-1"){var y=this.value(b)||0;x=x==="+1"?y+1:y-1}return x===0?(this.remove(b),!0):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"add",this).call(this,b,x)}},{key:"canAdd",value:function(b,x){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,b,x)||o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,b,parseInt(x))}},{key:"value",value:function(b){return parseInt(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b))||void 0}}]),m}(d.default.Attributor.Class),p=new u("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(4),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(p,v){for(var m=0;m<v.length;m++){var g=v[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,m){return v&&u(p.prototype,v),m&&u(p,m),p}}(),o=a(4),s=d(o);function d(u){return u&&u.__esModule?u:{default:u}}function f(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function c(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var l=function(u){c(p,u);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,null,[{key:"formats",value:function(m){return this.tagName.indexOf(m.tagName)+1}}]),p}(s.default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],r.default=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function y(C,D){for(var O=0;O<D.length;O++){var I=D[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,D,O){return D&&y(C.prototype,D),O&&y(C,O),C}}(),o=function y(C,D,O){C===null&&(C=Function.prototype);var I=Object.getOwnPropertyDescriptor(C,D);if(I===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:y(k,D,O)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(O)}},s=a(0),d=u(s),f=a(4),h=u(f),c=a(25),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function p(y,C,D){return C in y?Object.defineProperty(y,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):y[C]=D,y}function v(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function m(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:y}function g(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}var b=function(y){g(C,y);function C(){return v(this,C),m(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"format",value:function(O,I){O===x.blotName&&!I?this.replaceWith(d.default.create(this.statics.scope)):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,O,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,I){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,I),this):(this.parent.unwrap(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,O,I))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,O)}}]),C}(h.default);b.blotName="list-item",b.tagName="LI";var x=function(y){g(C,y),i(C,null,[{key:"create",value:function(O){var I=O==="ordered"?"OL":"UL",k=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,I);return(O==="checked"||O==="unchecked")&&k.setAttribute("data-checked",O==="checked"),k}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(D){v(this,C);var O=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D)),I=function(N){if(N.target.parentNode===D){var S=O.statics.formats(D),A=d.default.find(N.target);S==="checked"?A.format("list","unchecked"):S==="unchecked"&&A.format("list","checked")}};return D.addEventListener("touchstart",I),D.addEventListener("mousedown",I),O}return i(C,[{key:"format",value:function(O,I){this.children.length>0&&this.children.tail.format(O,I)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,I){if(O instanceof b)o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,O,I);else{var k=I==null?this.length():I.offset(this),N=this.split(k);N.parent.insertBefore(O,N)}}},{key:"optimize",value:function(O){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var I=d.default.create(this.statics.defaultChild);O.moveChildren(I),this.appendChild(I)}o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,O)}}]),C}(l.default);x.blotName="list",x.scope=d.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[b],r.ListItem=b,r.default=x},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(56),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,m,g){return m&&p(v.prototype,m),g&&p(v,g),v}}(),o=function p(v,m,g){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,m);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:p(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(6),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function l(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var u=function(p){l(v,p);function v(){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(d.default);u.blotName="script",u.tagName=["SUB","SUP"],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var D=y.get;return D===void 0?void 0:D.call(x)}},s=a(0),d=h(s),f=a(27);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function u(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=["alt","height","width"],v=function(m){u(g,m);function g(){return c(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(x,y){p.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return p.reduce(function(y,C){return x.hasAttribute(C)&&(y[C]=x.getAttribute(C)),y},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,f.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(d.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var D=y.get;return D===void 0?void 0:D.call(x)}},s=a(4),d=a(27),f=h(d);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function u(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=["height","width"],v=function(m){u(g,m);function g(){return c(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(x,y){p.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return p.reduce(function(y,C){return x.hasAttribute(C)&&(y[C]=x.getAttribute(C)),y},{})}},{key:"sanitize",value:function(x){return f.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(s.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function x(y,C){for(var D=0;D<C.length;D++){var O=C[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,C,D){return C&&x(y.prototype,C),D&&x(y,D),y}}(),o=function x(y,C,D){y===null&&(y=Function.prototype);var O=Object.getOwnPropertyDescriptor(y,C);if(O===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:x(I,C,D)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(D)}},s=a(35),d=u(s),f=a(5),h=u(f),c=a(9),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function p(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function v(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var g=function(x){m(y,x);function y(){return p(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(D){var O=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,D);return typeof D=="string"&&(window.katex.render(D,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",D)),O}},{key:"value",value:function(D){return D.getAttribute("data-value")}}]),y}(d.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var b=function(x){m(y,x),i(y,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function y(){p(this,y);var C=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return y}(l.default);r.FormulaBlot=g,r.default=b},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function D(O,I){for(var k=0;k<I.length;k++){var N=I[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,I,k){return I&&D(O.prototype,I),k&&D(O,k),O}}(),o=function D(O,I,k){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,I);if(N===void 0){var S=Object.getPrototypeOf(O);return S===null?void 0:D(S,I,k)}else{if("value"in N)return N.value;var A=N.get;return A===void 0?void 0:A.call(k)}},s=a(0),d=v(s),f=a(5),h=v(f),c=a(9),l=v(c),u=a(13),p=v(u);function v(D){return D&&D.__esModule?D:{default:D}}function m(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function g(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function b(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}var x=function(D){b(O,D);function O(){return m(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var N=this.domNode.textContent;this.cachedText!==N&&((N.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(N),this.domNode.normalize(),this.attach()),this.cachedText=N)}}]),O}(p.default);x.className="ql-syntax";var y=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),C=function(D){b(O,D),i(O,null,[{key:"register",value:function(){h.default.register(y,!0),h.default.register(x,!0)}}]);function O(I,k){m(this,O);var N=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));if(typeof N.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return N.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){N.highlight(),S=null},N.options.interval)}),N.highlight(),N}return i(O,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var N=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(S){S.highlight(k.options.highlight)}),this.quill.update(h.default.sources.SILENT),N!=null&&this.quill.setSelection(N,h.default.sources.SILENT)}}}]),O}(l.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(D){var O=window.hljs.highlightAuto(D);return O.value}}(),interval:1e3},r.CodeBlock=x,r.CodeToken=y,r.default=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function O(I,k,N){I===null&&(I=Function.prototype);var S=Object.getOwnPropertyDescriptor(I,k);if(S===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:O(A,k,N)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(N)}},o=function(){function O(I,k){for(var N=0;N<k.length;N++){var S=k[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,k,N){return k&&O(I.prototype,k),N&&O(I,N),I}}(),s=a(3),d=m(s),f=a(8),h=m(f),c=a(43),l=m(c),u=a(15),p=a(41),v=m(p);function m(O){return O&&O.__esModule?O:{default:O}}function g(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function b(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function x(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(O){x(I,O);function I(k,N){g(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=y);var S=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,N));return S.quill.container.classList.add("ql-bubble"),S}return o(I,[{key:"extendToolbar",value:function(N){this.tooltip=new D(this.quill,this.options.bounds),this.tooltip.root.appendChild(N.container),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),v.default)}}]),I}(l.default);C.DEFAULTS=(0,d.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var D=function(O){x(I,O);function I(k,N){g(this,I);var S=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,N));return S.quill.on(h.default.events.EDITOR_CHANGE,function(A,P,_,L){if(A===h.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&L===h.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var q=S.quill.getLines(P.index,P.length);if(q.length===1)S.position(S.quill.getBounds(P));else{var j=q[q.length-1],Y=S.quill.getIndex(j),B=Math.min(j.length()-1,P.index+P.length-Y),$=S.quill.getBounds(new u.Range(Y,B));S.position($)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return o(I,[{key:"listen",value:function(){var N=this;i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){N.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!N.root.classList.contains("ql-hidden")){var S=N.quill.getSelection();S!=null&&N.position(N.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(N){var S=i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,N),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",S===0)return S;A.style.marginLeft=-1*S-A.offsetWidth/2+"px"}}]),I}(c.BaseTooltip);D.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=D,r.default=C},function(n,r,a){n.exports=a(63)}]).default})})(mc);var Qx=mc.exports,Jx=Ze&&Ze.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=Ze&&Ze.__assign||function(){return zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zr.apply(this,arguments)},eC=Ze&&Ze.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},ca=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Dt=ca(E),tC=ca(Bl),Bn=ca(Zx),Go=ca(Qx),nC=function(e){Jx(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,o,s,d){var f,h,c,l;i==="text-change"?(h=(f=r).onEditorChangeText)===null||h===void 0||h.call(f,r.editor.root.innerHTML,o,d,r.unprivilegedEditor):i==="selection-change"&&((l=(c=r).onEditorChangeSelection)===null||l===void 0||l.call(c,o,d,r.unprivilegedEditor))};var a=r.isControlled()?n.value:n.defaultValue;return r.value=a??"",r}return t.prototype.validateProps=function(n){var r;if(Dt.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Dt.default.Children.count(n.children)){var a=Dt.default.Children.only(n.children);if(((r=a)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var a=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),s=(i=n.value,i??"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),eC(this.cleanProps,this.dirtyProps).some(function(d){return!Bn.default(n[d],a.props[d])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(a){return!Bn.default(n[a],r.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var a=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var s=this.regenerationSnapshot,i=s.delta,d=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(i),Yo(function(){return a.setEditorSelection(f,d)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var a=new Go.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(a,r.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Bn.default(n.ops,r.ops):Bn.default(n,r)},t.prototype.setEditorContents=function(n,r){var a=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Yo(function(){return a.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var a=n.getLength();r.index=Math.max(0,Math.min(r.index,a-1)),r.length=Math.max(0,Math.min(r.length,a-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var a,i;!((i=(a=n)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=tC.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,a=r.children,i=r.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(d){n.editingArea=d}};return Dt.default.Children.count(a)?Dt.default.cloneElement(Dt.default.Children.only(a),s):i?Dt.default.createElement("pre",zr({},s)):Dt.default.createElement("div",zr({},s))},t.prototype.render=function(){var n;return Dt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,a,i){var o,s;if(this.editor){var d=this.isDelta(this.value)?i.getContents():i.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=d,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,n,r,a,i))}},t.prototype.onEditorChangeSelection=function(n,r,a){var i,o,s,d,f,h;if(this.editor){var c=this.getEditorSelection(),l=!c&&n,u=c&&!n;Bn.default(n,c)||(this.selection=n,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,n,r,a),l?(d=(s=this.props).onFocus)===null||d===void 0||d.call(s,n,r,a):u&&((h=(f=this.props).onBlur)===null||h===void 0||h.call(f,c,r,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Go.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Dt.default.Component);function Yo(e){Promise.resolve().then(e)}var rC=nC;const aC=Wt(rC);const iC=e=>w("div",{className:"react-quill-container",children:w(aC,{...e,theme:"snow",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code"],["clean"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","code"]})}),oC=()=>{const e=we(),t=He(),[n,r]=E.useState(!1),[a,i]=E.useState((t==null?void 0:t.description)??""),[o,s]=E.useState(a),[d]=be.useForm(),f=async c=>{if(t){d.resetFields();try{await e($l({cardId:t._id,description:c})),s(c)}catch(l){console.error(l)}r(!1)}};return Z(Fe,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"描述"})})}),w(nc,{children:n?Z(be,{layout:"vertical",form:d,onFinish:()=>f(a),name:"control-textEditor",children:[w(be.Item,{children:w(iC,{value:a,placeholder:"請輸入內容",onChange:i})}),w(be.Item,{children:Z(Qe,{children:[w(le,{htmlType:"submit",type:"primary",children:"儲存"}),w(le,{onClick:()=>{r(!1),i(o)},children:"取消"})]})})]}):(()=>{const c=/(<([^>]+)>)/gi;return o.replace(c,"")===""})()?w("div",{onClick:()=>r(!0),className:"descriptionEmpty",children:"新增更詳細的描述..."}):w("div",{dangerouslySetInnerHTML:{__html:a},onClick:()=>r(!0),className:"descriptionDisplay"})})]})},{Sider:lC}=di,sC={color:"var(--modal-color)",backgroundColor:"#ffffff"},cC=ye(lC)`
  .button-link {
    background-color: var(--modal-button-neutral);
    border-radius: 3px;
    color: inherit;
    cursor: pointer;
    display: block;
    height: 32px;
    margin-top: 8px;
    max-width: 300px;
    overflow: hidden;
    padding: 6px 12px;
    border: 0;
    text-align: left;
    width: 100%;
  }
  .mid {
    margin-top: 8px;
  }
`,uC=ye.div`
  position: absolute;
  z-index: 1000;
  width: 300px;
  .ant-close {
    position: absolute;
    right: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-space {
    width: 300px;
  }
  .ant-card-head-title {
    text-align: center;
    font-size: 12px;
  }
  .board-member-list {
    font-size: 8px;
    line-height: 22px;
    margin: 12px 0 0;
    color: var(--gray66);
  }

  .ant-list-split {
    .ant-list-item {
      border: 0;
      padding: 6px 0;
    }
    .search-list-item {
      cursor: pointer;
      padding: 8px 4px;
    }
    .search-list-item:hover {
      background-color: var(--link-background);
    }
  }
`,dC=ye.div`
  position: absolute;
  z-index: 1000;
  width: 250px;
  .ant-close {
    position: absolute;
    right: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-back {
    position: absolute;
    left: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-card-head-title {
    text-align: center;
    font-size: 12px;
  }
  .labelBtn {
    color: "white";
    border-radius: "4px";
    width: "100%";
    height: "34px";
    padding: "0 12px";
    flex-grow: 1;
    box-shadow: none;
  }
  .label-card-header {
    position: relative;
    width: 100%;
    height: 101px;
    background-color: var(--ds-surface-sunken, #f4f5f7);
    margin-bottom: 8px;
    .label-card-label {
      position: absolute;
      width: 80%;
      height: 40%;
      left: 10%;
      top: 30%;
      text-align: center;
      line-height: 40px;
      font-size: 16px;
      border-radius: 4px;
    }
  }
  .colored-label-list {
    .ant-form-item-control-input-content {
      gap: 4px;
      display: flex;
      flex-wrap: wrap;
    }
    .colored-label {
      border: 1px solid white;
      border-radius: 4px;
      width: 31%;
      height: 36px;
      &:hover {
        opacity: 0.8;
      }
    }
  }
`,yc=({setIsOpenAddMember:e,style:t})=>{const n=we(),r=He(),[a,i]=E.useState(null),[o,s]=E.useState(!1),d=fn.debounce(async u=>{s(!0),u.target.value.length>1&&await Sd({query:u.target.value}).then(p=>{i(p.result)}),s(!1)},800),f=async u=>{const p=r==null?void 0:r._id;p&&(await n(ui({cardId:p,userIdList:[u._id]})),Ot({message:"加入成功"})),e(!1)},[h,c]=E.useState(""),l=async u=>{const p=r==null?void 0:r._id;c(u),p&&await n(Od({cardId:p,memberId:u})),c("")};return w(uC,{style:{...t},children:Z(Mt,{title:"成員",extra:w(le,{className:"ant-close",icon:w(ht,{style:{fontSize:"12px"}}),onClick:()=>e(!1)}),size:"small",style:{width:"auto"},children:[w(Ue,{placeholder:"搜尋成員",onChange:u=>d(u),prefix:w(Ed,{})}),a&&w(st,{className:"search-list-items",itemLayout:"horizontal",dataSource:a,loading:o,locale:{emptyText:"這個人似乎尚未註冊 Lunar。"},renderItem:u=>w(st.Item,{className:"search-list-item",onClick:()=>f(u),children:w(st.Item.Meta,{avatar:w(Ut,{username:u.name,imgUrl:u.avatar}),title:u.name,description:u.email})},u._id)}),Z(xe,{className:"board-member-list",children:[w("p",{children:"卡片成員"}),w(st,{itemLayout:"horizontal",dataSource:r==null?void 0:r.member,locale:{emptyText:"尚無成員"},renderItem:u=>w(st.Item,{actions:[w(le,{danger:!0,shape:"circle",style:{width:"24px",height:"24px",padding:0,minWidth:"auto",marginLeft:"8px"},icon:w(Bs,{}),loading:h===u.userId._id,onClick:()=>{l(u.userId._id)}},u.userId._id)],children:w(st.Item.Meta,{style:{alignItems:"center"},avatar:w(Ut,{username:u.userId.name,imgUrl:u.userId.avatar}),title:u.userId.name})},u.userId._id)})]})]})})},fC=()=>{const e=He(),[t,n]=E.useState(!1),r=e==null?void 0:e.member.map(({userId:{_id:a,name:i,avatar:o}})=>w(Fl,{title:i,placement:"top",children:w(Ut,{username:i,imgUrl:o})},a));return Z(xe,{span:12,children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"成員"})})}),Z(Kn.Group,{children:[r,w(le,{shape:"circle",icon:w(rn,{}),onClick:()=>n(!0)}),t&&w(yc,{setIsOpenAddMember:n,style:{top:"64px",left:0}})]})]})},hC=()=>{var o;const e=we(),t=(o=He())==null?void 0:o._id,n=ke(s=>s.user.user),[r]=be.useForm(),[a,i]=E.useState(!1);return w(Sg,{children:Z(be,{form:r,onFinish:async({comment:s})=>{if(t&&s){i(!0);try{await e(Id({cardId:t,comment:s}))}finally{i(!1),r.resetFields()}}},children:[w(be.Item,{name:"comment",label:w("img",{src:n.avatar,style:{height:32,width:32,marginRight:"16px"}}),children:w(Ue.TextArea,{placeholder:"填寫評論",rows:2})}),w(le,{icon:w(Ev,{style:{color:"#0083FF"}}),htmlType:"submit",type:"text",loading:a})]})})},pC=e=>{const t=(Date.now()-new Date(e).getTime())/1e3,[n,r,a]=[t/60/60/24,t/60/60%24,t/60%60].map(i=>`${~~i}`);return`${n} 天 ${r} 時 ${a} 分 前`},vC=({commentData:e})=>{const t=we(),[n,r]=E.useState(!1),[a,i]=E.useState(!1);return w($t,{overlayStyle:{width:"300px"},trigger:"click",open:n,title:w(Be,{justify:"center",gutter:0,children:w(xe,{flex:"none",children:Z(Qe,{size:8,children:[w(ql,{style:{color:"red"}}),"刪除評論"]})})}),content:Z(Be,{gutter:0,children:[Z(xe,{span:24,children:["刪除評論是永久性的，無法復原",w("br",{}),w("br",{})]}),w(xe,{span:24,children:w(le,{block:!0,danger:!0,onClick:async()=>{i(!0);try{await t(kd({cardId:e.cardId,commentId:e._id})),Ot({message:"評論刪除成功"})}catch(s){console.error(s)}finally{i(!1),r(!1)}},loading:a,children:"刪除"})}),w(xe,{span:24,children:w(le,{block:!0,type:"text",onClick:()=>r(!1),children:"取消"})})]}),children:w(le,{type:"text",onClick:()=>r(!0),children:"刪除"})})},gC=({itemData:e})=>{const t=we(),[n,r]=E.useState(!1),[a,i]=E.useState(e.comment),[o,s]=E.useState(!1),d=async()=>{s(!0);try{await t(Dd({cardId:e.cardId,commentId:e._id,comment:a})),Ot({message:"評論更新成功"})}catch(f){console.error(f)}finally{s(!1),r(!1)}};return w(Fe,{children:w(st.Item,{actions:n?[]:[w("a",{onClick:()=>{r(!0)},children:"編輯"},"list-loadmore-edit"),w(vC,{commentData:e})],children:w(st.Item.Meta,{avatar:w(Ut,{username:e.userId.name,imgUrl:e.userId.avatar}),title:Z(Qe,{size:12,children:[w("span",{className:"userName",children:e.userId.name}),w("span",{className:"timeText",children:pC(e.updatedAt)})]}),description:n?w(Be,{className:n?"isShow":"isHidden",children:w(xe,{span:24,children:Z(Be,{gutter:[16,4],children:[w(xe,{span:24,children:w(Nd,{value:a,onChange:f=>i(f.target.value),onPressEnter:f=>{f.preventDefault(),d()},placeholder:"填寫評論"})}),w(xe,{span:24,children:Z(Qe,{children:[w(le,{type:"primary",size:"small",onClick:d,loading:o,children:"儲存"}),w(le,{size:"small",onClick:()=>r(!1),children:"取消"})]})})]})})}):w("div",{className:"comment",children:e.comment})})})})},mC=()=>{const e=He();return Z(Fe,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"評論"})})}),w(Eg,{children:w(st,{itemLayout:"horizontal",dataSource:e==null?void 0:e.comment,locale:{emptyText:" "},renderItem:t=>w(gC,{itemData:t})})}),w(hC,{})]})},bc=({style:e,setIsOpenLabel:t})=>{const{boardId:n}=Jr(),r=He(),a=we(),i=ke(ot).label,o=r==null?void 0:r.label.map(B=>B._id),[s,d]=E.useState(kt[0].color),[f,h]=E.useState(""),[c,l]=E.useState(!1),[u,p]=E.useState(!1),[v,m]=E.useState(!1),[g,b]=E.useState(),[x,y]=E.useState(!1),[C,D]=E.useState(!1),[O,I]=E.useState(i);E.useEffect(()=>{I(i)},[i]);const k=B=>{if(B.target.value){const $=i.filter(T=>T.name.includes(B.target.value));I($)}else I(i)},N=async B=>{await a(Ad({cardId:r==null?void 0:r._id,labelId:B}))},S=async B=>{await a(Pd({cardId:r==null?void 0:r._id,labelId:B}))},A=async B=>{B.target.checked?N(B.target.value):S(B.target.value)},P=async()=>{if(l(!0),n)try{await a(jl({name:f,color:s,boardId:n}))}catch{}finally{l(!1),m(!1)}},_=B=>{b(i.find($=>$._id===B)),y(!0)},L=async()=>{if(p(!0),n&&g)try{await a(Hl({name:g.name,color:g.color,boardId:n,labelId:g==null?void 0:g._id}))}finally{p(!1),y(!1)}},q=async()=>{if(D(!0),n&&g)try{await a(zl({boardId:n,labelId:g._id}))}finally{D(!1),y(!1)}},j=B=>{if(g){const $={...g};$.name=B.target.value,b($)}},Y=B=>{if(g){const $={...g};$.color=B,g?b($):d(B)}};return Z(dC,{style:{...e},children:[v&&Z(Mt,{title:"標籤",extra:w(le,{className:"ant-back",icon:w(dn,{style:{fontSize:"12px"}}),onClick:()=>m(!1)}),size:"small",style:{position:"absolute",zIndex:20},children:[w("div",{className:"label-card-header",children:w("div",{className:"label-card-label",style:{backgroundColor:`${s}`},children:f})}),Z(be,{layout:"vertical",children:[w(be.Item,{label:"標題",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(Ue,{placeholder:"輸入標籤名稱",onChange:B=>h(B.target.value)})}),w(be.Item,{label:"選一個顏色",className:"colored-label-list",children:kt==null?void 0:kt.map(B=>w(le,{className:"colored-label",type:"text",style:{backgroundColor:B.color},onClick:()=>d(B.color)},B.color))}),w(le,{type:"primary",block:!0,loading:c,onClick:P,children:"建立"})]})]}),x&&Z(Mt,{title:"標籤",extra:w(le,{className:"ant-back",icon:w(dn,{style:{fontSize:"12px"}}),onClick:()=>{y(!1),b(void 0)}}),size:"small",style:{position:"absolute",zIndex:20},children:[w("div",{className:"label-card-header",children:w("div",{className:"label-card-label",style:{backgroundColor:`${g==null?void 0:g.color}`},children:g==null?void 0:g.name})}),Z(be,{layout:"vertical",children:[w(be.Item,{label:"標題",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(Ue,{placeholder:"輸入標籤名稱",onChange:B=>j(B),defaultValue:g==null?void 0:g.name})}),w(be.Item,{label:"選一個顏色",className:"colored-label-list",children:kt==null?void 0:kt.map(B=>w(le,{className:"colored-label",type:"text",style:{backgroundColor:B.color},onClick:()=>Y(B.color)},B.color))}),w(le,{type:"primary",loading:u,block:!0,onClick:L,children:"儲存"}),w(le,{type:"link",loading:C,block:!0,style:{color:"red"},onClick:q,children:"刪除"})]})]}),Z(Mt,{title:"標籤",extra:w(le,{className:"ant-close",icon:w(ht,{style:{fontSize:"12px"}}),onClick:()=>t(!1)}),size:"small",style:{width:"auto"},children:[i.length!==0&&w(Ue,{placeholder:"搜尋標籤",onChange:k,style:{margin:"16px 0"}}),w(xe,{children:O.map(B=>Z(Be,{align:"middle",style:{gap:"8px",margin:"4px 0"},children:[w(Yn,{checked:o==null?void 0:o.includes(B._id),onChange:A,value:B._id}),w(le,{className:"labelBtn",type:"primary",style:{backgroundColor:B.color,color:fi(B.color)?"white":"black"},children:B.name}),w(le,{type:"text",icon:w(hi,{}),style:{width:"32px",height:"32px",color:"var(--gray66)"},onClick:()=>_(B._id)})]},B._id))}),w(le,{block:!0,type:"primary",style:{boxShadow:"none",marginTop:"16px"},onClick:()=>m(!0),children:"建立新標籤"})]})]})},yC=()=>{const e=He(),[t,n]=E.useState(!1),r=e==null?void 0:e.label.map(({name:a,color:i,_id:o})=>w(Kn,{shape:"square",style:{backgroundColor:i,color:fi(i)?"white":"black"},children:a},o));return Z(xe,{span:12,children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"標籤"})})}),Z(Kn.Group,{children:[r,w(le,{shape:"circle",icon:w(rn,{}),onClick:()=>n(!0)}),t&&w(bc,{setIsOpenLabel:n,style:{top:"64px"}})]})]})},bC=()=>{const e=we(),t=He(),{setOpenPopover:n,PopoverType:r}=or(),{startDate:a,dueDate:i,dueComplete:o}=(t==null?void 0:t.date)??{},[s,d]=E.useState(o),[f,h]=E.useState(!1),c=async({target:l})=>{if(t)try{await e(Td({cardId:t.id,dueComplete:l.checked})),d(l.checked)}catch(u){console.log(u)}};return E.useEffect(()=>{if(i&&!s){const l=je().subtract(1,"day"),u=je(i);h(u.isBefore(l))}else h(!1)},[i,s]),!t||!(t!=null&&t.date)?null:Z(Fe,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"到期日"})})}),w(nc,{children:(t==null?void 0:t.date)&&Z(wg,{children:[Z(Qe,{className:"cardDate",onClick:()=>{n({isShow:!0,type:r.DATE,position:{top:100,left:100}})},children:[a?je(a).format("MM月DD日"):null,a&&i?" - ":null,i?je(i).format("MM月DD日"):null,f&&w(Qv,{color:"red",children:"逾期"}),w(hi,{})]}),w(Qe,{size:8,className:"checkFinish",children:w(Yn,{checked:s,onChange:l=>c(l),children:"已完成"})})]})})]})},xC=()=>{const e=He(),[t,n]=E.useState(!1),[r,a]=E.useState(""),[i,o]=E.useState([]);E.useEffect(()=>{var f;const d=(f=e==null?void 0:e.attachment)==null?void 0:f.map(({_id:h,filename:c,dirname:l})=>({uid:h,name:c,url:l}));o(d||[])},[e]);const s=we();return Z(Fe,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"附件"})})}),w(Ul,{listType:"picture-card",fileList:i,onPreview:async({url:d,preview:f,originFileObj:h})=>{!d&&!f&&h&&(f=await _d(h)),a(d||`${f}`),n(!0)},onChange:({file:d,fileList:f})=>{d.status==="done"&&Ot({message:`${d.name} 上傳成功`}),d.status==="error"&&Ot({message:`${d.name} 上傳失敗`,success:!1}),o(f)},customRequest:async d=>{var f,h;if(typeof d.file=="string"||!e){(f=d.onError)==null||f.call(d,new Error("上傳錯誤"));return}await s(Vl({file:d.file,filename:`${d.filename}`,cardId:e._id})),(h=d.onSuccess)==null||h.call(d,"")},onRemove:async d=>{if(!e)return!1;await s(Rd({cardId:e==null?void 0:e._id,attachmentId:d.uid}))},children:i&&i.length<=8&&w(rn,{})}),w(Wl,{open:t,footer:null,onCancel:()=>n(!1),children:w("img",{style:{width:"100%"},src:r})})]})};function xc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Md(e,t)}var Cc=Ie.createContext(null);function CC(e){e()}var wc=CC,wC=function(t){return wc=t},SC=function(){return wc};function EC(){var e=SC(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=n={callback:a,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Ko={notify:function(){},get:function(){return[]}};function Sc(e,t){var n,r=Ko;function a(c){return d(),r.subscribe(c)}function i(){r.notify()}function o(){h.onStateChange&&h.onStateChange()}function s(){return!!n}function d(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=EC())}function f(){n&&(n(),n=void 0,r.clear(),r=Ko)}var h={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:s,trySubscribe:d,tryUnsubscribe:f,getListeners:function(){return r}};return h}var Ec=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function OC(e){var t=e.store,n=e.context,r=e.children,a=E.useMemo(function(){var s=Sc(t);return{store:t,subscription:s}},[t]),i=E.useMemo(function(){return t.getState()},[t]);Ec(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=n||Cc;return Ie.createElement(o.Provider,{value:a},r)}var Oc={exports:{}},Re={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=60103,da=60106,lr=60107,sr=60108,cr=60114,ur=60109,dr=60110,fr=60112,hr=60113,Ei=60120,pr=60115,vr=60116,Ic=60121,Nc=60122,Dc=60117,kc=60129,Ac=60131;if(typeof Symbol=="function"&&Symbol.for){var tt=Symbol.for;ua=tt("react.element"),da=tt("react.portal"),lr=tt("react.fragment"),sr=tt("react.strict_mode"),cr=tt("react.profiler"),ur=tt("react.provider"),dr=tt("react.context"),fr=tt("react.forward_ref"),hr=tt("react.suspense"),Ei=tt("react.suspense_list"),pr=tt("react.memo"),vr=tt("react.lazy"),Ic=tt("react.block"),Nc=tt("react.server.block"),Dc=tt("react.fundamental"),kc=tt("react.debug_trace_mode"),Ac=tt("react.legacy_hidden")}function Nt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ua:switch(e=e.type,e){case lr:case cr:case sr:case hr:case Ei:return e;default:switch(e=e&&e.$$typeof,e){case dr:case fr:case vr:case pr:case ur:return e;default:return t}}case da:return t}}}var IC=ur,NC=ua,DC=fr,kC=lr,AC=vr,PC=pr,TC=da,_C=cr,RC=sr,MC=hr;Re.ContextConsumer=dr;Re.ContextProvider=IC;Re.Element=NC;Re.ForwardRef=DC;Re.Fragment=kC;Re.Lazy=AC;Re.Memo=PC;Re.Portal=TC;Re.Profiler=_C;Re.StrictMode=RC;Re.Suspense=MC;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(e){return Nt(e)===dr};Re.isContextProvider=function(e){return Nt(e)===ur};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ua};Re.isForwardRef=function(e){return Nt(e)===fr};Re.isFragment=function(e){return Nt(e)===lr};Re.isLazy=function(e){return Nt(e)===vr};Re.isMemo=function(e){return Nt(e)===pr};Re.isPortal=function(e){return Nt(e)===da};Re.isProfiler=function(e){return Nt(e)===cr};Re.isStrictMode=function(e){return Nt(e)===sr};Re.isSuspense=function(e){return Nt(e)===hr};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lr||e===cr||e===kc||e===sr||e===hr||e===Ei||e===Ac||typeof e=="object"&&e!==null&&(e.$$typeof===vr||e.$$typeof===pr||e.$$typeof===ur||e.$$typeof===dr||e.$$typeof===fr||e.$$typeof===Dc||e.$$typeof===Ic||e[0]===Nc)};Re.typeOf=Nt;Oc.exports=Re;var LC=Oc.exports,$C=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],BC=["reactReduxForwardedRef"],FC=[],qC=[null,null];function jC(e,t){var n=e[1];return[t.payload,n+1]}function Xo(e,t,n){Ec(function(){return e.apply(void 0,t)},n)}function HC(e,t,n,r,a,i,o){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function zC(e,t,n,r,a,i,o,s,d,f){if(e){var h=!1,c=null,l=function(){if(!h){var v=t.getState(),m,g;try{m=r(v,a.current)}catch(b){g=b,c=b}g||(c=null),m===i.current?o.current||d():(i.current=m,s.current=m,o.current=!0,f({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=l,n.trySubscribe(),l();var u=function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,c)throw c};return u}}var UC=function(){return[null,0]};function VC(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,a=r===void 0?function(x){return"ConnectAdvanced("+x+")"}:r,i=n.methodName,o=i===void 0?"connectAdvanced":i,s=n.renderCountProp,d=s===void 0?void 0:s,f=n.shouldHandleStateChanges,h=f===void 0?!0:f,c=n.storeKey,l=c===void 0?"store":c;n.withRef;var u=n.forwardRef,p=u===void 0?!1:u,v=n.context,m=v===void 0?Cc:v,g=Lr(n,$C),b=m;return function(y){var C=y.displayName||y.name||"Component",D=a(C),O=oe({},g,{getDisplayName:a,methodName:o,renderCountProp:d,shouldHandleStateChanges:h,storeKey:l,displayName:D,wrappedComponentName:C,WrappedComponent:y}),I=g.pure;function k(_){return e(_.dispatch,O)}var N=I?E.useMemo:function(_){return _()};function S(_){var L=E.useMemo(function(){var X=_.reactReduxForwardedRef,ne=Lr(_,BC);return[_.context,X,ne]},[_]),q=L[0],j=L[1],Y=L[2],B=E.useMemo(function(){return q&&q.Consumer&&LC.isContextConsumer(Ie.createElement(q.Consumer,null))?q:b},[q,b]),$=E.useContext(B),T=!!_.store&&!!_.store.getState&&!!_.store.dispatch;$&&$.store;var R=T?_.store:$.store,F=E.useMemo(function(){return k(R)},[R]),U=E.useMemo(function(){if(!h)return qC;var X=Sc(R,T?null:$.subscription),ne=X.notifyNestedSubs.bind(X);return[X,ne]},[R,T,$]),z=U[0],M=U[1],H=E.useMemo(function(){return T?$:oe({},$,{subscription:z})},[T,$,z]),W=E.useReducer(jC,FC,UC),V=W[0],G=V[0],te=W[1];if(G&&G.error)throw G.error;var Q=E.useRef(),ae=E.useRef(Y),ee=E.useRef(),re=E.useRef(!1),fe=N(function(){return ee.current&&Y===ae.current?ee.current:F(R.getState(),Y)},[R,G,Y]);Xo(HC,[ae,Q,re,Y,fe,ee,M]),Xo(zC,[h,R,z,F,ae,Q,re,ee,M,te],[R,z,F]);var he=E.useMemo(function(){return Ie.createElement(y,oe({},fe,{ref:j}))},[j,y,fe]),K=E.useMemo(function(){return h?Ie.createElement(B.Provider,{value:H},he):he},[B,he,H]);return K}var A=I?Ie.memo(S):S;if(A.WrappedComponent=y,A.displayName=S.displayName=D,p){var P=Ie.forwardRef(function(L,q){return Ie.createElement(A,oe({},L,{reactReduxForwardedRef:q}))});return P.displayName=D,P.WrappedComponent=y,Xi(P,y)}return Xi(A,y)}}function Zo(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ka(e,t){if(Zo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Zo(e[n[a]],t[n[a]]))return!1;return!0}function WC(e,t){var n={},r=function(o){var s=e[o];typeof s=="function"&&(n[o]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)r(a);return n}function Oi(e){return function(n,r){var a=e(n,r);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Qo(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Pc(e,t){return function(r,a){a.displayName;var i=function(s,d){return i.dependsOnOwnProps?i.mapToProps(s,d):i.mapToProps(s)};return i.dependsOnOwnProps=!0,i.mapToProps=function(s,d){i.mapToProps=e,i.dependsOnOwnProps=Qo(e);var f=i(s,d);return typeof f=="function"&&(i.mapToProps=f,i.dependsOnOwnProps=Qo(f),f=i(s,d)),f},i}}function GC(e){return typeof e=="function"?Pc(e):void 0}function YC(e){return e?void 0:Oi(function(t){return{dispatch:t}})}function KC(e){return e&&typeof e=="object"?Oi(function(t){return WC(e,t)}):void 0}const XC=[GC,YC,KC];function ZC(e){return typeof e=="function"?Pc(e):void 0}function QC(e){return e?void 0:Oi(function(){return{}})}const JC=[ZC,QC];function ew(e,t,n){return oe({},n,e,t)}function tw(e){return function(n,r){r.displayName;var a=r.pure,i=r.areMergedPropsEqual,o=!1,s;return function(f,h,c){var l=e(f,h,c);return o?(!a||!i(l,s))&&(s=l):(o=!0,s=l),s}}}function nw(e){return typeof e=="function"?tw(e):void 0}function rw(e){return e?void 0:function(){return ew}}const aw=[nw,rw];var iw=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ow(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function lw(e,t,n,r,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,d=!1,f,h,c,l,u;function p(x,y){return f=x,h=y,c=e(f,h),l=t(r,h),u=n(c,l,h),d=!0,u}function v(){return c=e(f,h),t.dependsOnOwnProps&&(l=t(r,h)),u=n(c,l,h),u}function m(){return e.dependsOnOwnProps&&(c=e(f,h)),t.dependsOnOwnProps&&(l=t(r,h)),u=n(c,l,h),u}function g(){var x=e(f,h),y=!s(x,c);return c=x,y&&(u=n(c,l,h)),u}function b(x,y){var C=!o(y,h),D=!i(x,f,y,h);return f=x,h=y,C&&D?v():C?m():D?g():u}return function(y,C){return d?b(y,C):p(y,C)}}function sw(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=Lr(t,iw),o=n(e,i),s=r(e,i),d=a(e,i),f=i.pure?lw:ow;return f(o,s,d,e,i)}var cw=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Aa(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function uw(e,t){return e===t}function dw(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?VC:n,a=t.mapStateToPropsFactories,i=a===void 0?JC:a,o=t.mapDispatchToPropsFactories,s=o===void 0?XC:o,d=t.mergePropsFactories,f=d===void 0?aw:d,h=t.selectorFactory,c=h===void 0?sw:h;return function(u,p,v,m){m===void 0&&(m={});var g=m,b=g.pure,x=b===void 0?!0:b,y=g.areStatesEqual,C=y===void 0?uw:y,D=g.areOwnPropsEqual,O=D===void 0?ka:D,I=g.areStatePropsEqual,k=I===void 0?ka:I,N=g.areMergedPropsEqual,S=N===void 0?ka:N,A=Lr(g,cw),P=Aa(u,i,"mapStateToProps"),_=Aa(p,s,"mapDispatchToProps"),L=Aa(v,f,"mergeProps");return r(c,oe({methodName:"connect",getDisplayName:function(j){return"Connect("+j+")"},shouldHandleStateChanges:!!u,initMapStateToProps:P,initMapDispatchToProps:_,initMergeProps:L,pure:x,areStatesEqual:C,areOwnPropsEqual:O,areStatePropsEqual:k,areMergedPropsEqual:S},A))}}const Tc=dw();wC(Bl.unstable_batchedUpdates);function fw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _c(e,t){var n=E.useState(function(){return{inputs:t,result:e()}})[0],r=E.useRef(!0),a=E.useRef(n),i=r.current||!!(t&&a.current.inputs&&fw(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return E.useEffect(function(){r.current=!1,a.current=o},[o]),o.result}function hw(e,t){return _c(function(){return e},t)}var De=_c,me=hw,pw=!0,Pa="Invariant failed";function vw(e,t){if(!e){if(pw)throw new Error(Pa);var n=typeof t=="function"?t():t,r=n?"".concat(Pa,": ").concat(n):Pa;throw new Error(r)}}var St=function(t){var n=t.top,r=t.right,a=t.bottom,i=t.left,o=r-i,s=a-n,d={top:n,right:r,bottom:a,left:i,width:o,height:s,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return d},Ii=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Jo=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},gw=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ta={top:0,right:0,bottom:0,left:0},Ni=function(t){var n=t.borderBox,r=t.margin,a=r===void 0?Ta:r,i=t.border,o=i===void 0?Ta:i,s=t.padding,d=s===void 0?Ta:s,f=St(Ii(n,a)),h=St(Jo(n,o)),c=St(Jo(h,d));return{marginBox:f,borderBox:St(n),paddingBox:h,contentBox:c,margin:a,border:o,padding:d}},gt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&vw(!1),a},mw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ur=function(t,n){var r=t.borderBox,a=t.border,i=t.margin,o=t.padding,s=gw(r,n);return Ni({borderBox:s,border:a,margin:i,padding:o})},Vr=function(t,n){return n===void 0&&(n=mw()),Ur(t,n)},Rc=function(t,n){var r={top:gt(n.marginTop),right:gt(n.marginRight),bottom:gt(n.marginBottom),left:gt(n.marginLeft)},a={top:gt(n.paddingTop),right:gt(n.paddingRight),bottom:gt(n.paddingBottom),left:gt(n.paddingLeft)},i={top:gt(n.borderTopWidth),right:gt(n.borderRightWidth),bottom:gt(n.borderBottomWidth),left:gt(n.borderLeftWidth)};return Ni({borderBox:t,margin:r,padding:a,border:i})},Mc=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Rc(n,r)},el=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function yw(e,t){return!!(e===t||el(e)&&el(t))}function bw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!yw(e[n],t[n]))return!1;return!0}function Je(e,t){t===void 0&&(t=bw);var n,r=[],a,i=!1;function o(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return i&&n===this&&t(s,r)||(a=e.apply(this,s),i=!0,n=this,r=s),a}return o}var xw=function(t){var n=[],r=null,a=function(){for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];n=s,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};const Zn=xw;function Lc(e,t){}Lc.bind(null,"warn");Lc.bind(null,"error");function jt(){}function Cw(e,t){return oe({},e,{},t)}function mt(e,t,n){var r=t.map(function(a){var i=Cw(n,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(function(i){i()})}}var ww="Invariant failed";function Wr(e){this.message=e}Wr.prototype.toString=function(){return this.message};function ce(e,t){if(!e)throw new Wr(ww)}var Sw=function(e){xc(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.callbacks=null,r.unbind=jt,r.onWindowError=function(s){var d=r.getCallbacks();d.isDragging()&&d.tryAbort();var f=s.error;f instanceof Wr&&s.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(s){r.callbacks=s},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=mt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof Wr){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Ie.Component),Ew=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Gr=function(t){return t+1},Ow=function(t){return`
  You have lifted an item in position `+Gr(t.source.index)+`
`},$c=function(t,n){var r=t.droppableId===n.droppableId,a=Gr(t.index),i=Gr(n.index);return r?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},Bc=function(t,n,r){var a=n.droppableId===r.droppableId;return a?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Iw=function(t){var n=t.destination;if(n)return $c(t.source,n);var r=t.combine;return r?Bc(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},tl=function(t){return`
  The item has returned to its starting position
  of `+Gr(t.index)+`
`},Nw=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+tl(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+$c(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+Bc(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+tl(t.source)+`
  `},Rr={dragHandleUsageInstructions:Ew,onDragStart:Ow,onDragUpdate:Iw,onDragEnd:Nw},et={x:0,y:0},nt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},ut=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Ht=function(t,n){return t.x===n.x&&t.y===n.y},kn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},tn=function(t,n,r){var a;return r===void 0&&(r=0),a={},a[t]=n,a[t==="x"?"y":"x"]=r,a},Qn=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},nl=function(t,n){return Math.min.apply(Math,n.map(function(r){return Qn(t,r)}))},Fc=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},Dw=function(e,t){var n=St({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},gr=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},rl=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},kw={top:0,right:0,bottom:0,left:0},Aw=function(t,n){return n?gr(t,n.scroll.diff.displacement):t},Pw=function(t,n,r){if(r&&r.increasedBy){var a;return oe({},t,(a={},a[n.end]=t[n.end]+r.increasedBy[n.line],a))}return t},Tw=function(t,n){return n&&n.shouldClipSubject?Dw(n.pageMarginBox,t):St(t)},hn=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=Aw(t.marginBox,a),o=Pw(i,r,n),s=Tw(o,a);return{page:t,withPlaceholder:n,active:s}},Di=function(e,t){e.frame||ce(!1);var n=e.frame,r=ut(t,n.scroll.initial),a=kn(r),i=oe({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),o=hn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),s=oe({},e,{frame:i,subject:o});return s};function Yr(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function ki(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Gt(e,t){if(e.find)return e.find(t);var n=ki(e,t);if(n!==-1)return e[n]}function qc(e){return Array.prototype.slice.call(e)}var jc=Je(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Hc=Je(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),fa=Je(function(e){return Yr(e)}),_w=Je(function(e){return Yr(e)}),An=Je(function(e,t){var n=_w(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,a){return r.descriptor.index-a.descriptor.index});return n});function Ai(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ha(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var pa=Je(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),Rw=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;var o=Ai(i);if(!o)return null;function s(v){var m={type:"COMBINE",combine:{draggableId:v,droppableId:r.descriptor.id}};return oe({},i,{at:m})}var d=i.displaced.all,f=d.length?d[0]:null;if(t)return f?s(f):null;var h=pa(n,a);if(!f){if(!h.length)return null;var c=h[h.length-1];return s(c.descriptor.id)}var l=ki(h,function(v){return v.descriptor.id===f});l===-1&&ce(!1);var u=l-1;if(u<0)return null;var p=h[u];return s(p.descriptor.id)},Pn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},zc={point:et,value:0},Jn={invisible:{},visible:{},all:[]},Mw={displaced:Jn,displacedBy:zc,at:null},yt=function(e,t){return function(n){return e<=n&&n<=t}},Uc=function(e){var t=yt(e.top,e.bottom),n=yt(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(a)return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right),s=i&&o;if(s)return!0;var d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right,h=d&&f;if(h)return!0;var c=d&&o||f&&i;return c}},Lw=function(e){var t=yt(e.top,e.bottom),n=yt(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return a}},Pi={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vc={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},$w=function(e){return function(t){var n=yt(t.top,t.bottom),r=yt(t.left,t.right);return function(a){return e===Pi?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)}}},Bw=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:et;return gr(t,r)},Fw=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},qw=function(t,n,r){return r(n)(t)},Ti=function(t){var n=t.target,r=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=i?Bw(n,r):n;return Fw(s,r,o)&&qw(s,a,o)},jw=function(t){return Ti(oe({},t,{isVisibleThroughFrameFn:Uc}))},Wc=function(t){return Ti(oe({},t,{isVisibleThroughFrameFn:Lw}))},Hw=function(t){return Ti(oe({},t,{isVisibleThroughFrameFn:$w(t.destination.axis)}))},zw=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function Uw(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return St(Ii(n,r))}function er(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(d,f){var h=Uw(f,r),c=f.descriptor.id;d.all.push(c);var l=jw({target:h,destination:n,viewport:a,withDroppableDisplacement:!0});if(!l)return d.invisible[f.descriptor.id]=!0,d;var u=zw(c,o,i),p={draggableId:c,shouldAnimate:u};return d.visible[c]=p,d},{all:[],visible:{},invisible:{}})}function Vw(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function al(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=Vw(t,{inHomeList:n});return{displaced:Jn,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Kr(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,d=e.forceShouldAnimate,f=Pn(t,r);if(s==null)return al({insideDestination:n,inHomeList:f,displacedBy:i,destination:r});var h=Gt(n,function(v){return v.descriptor.index===s});if(!h)return al({insideDestination:n,inHomeList:f,displacedBy:i,destination:r});var c=pa(t,n),l=n.indexOf(h),u=c.slice(l),p=er({afterDragging:u,destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:d});return{displaced:p,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Vt(e,t){return!!t.effected[e]}var Ww=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,s=r[o],d=s.descriptor.index,f=Vt(o,i);return f?t?d:d-1:t?d+1:d},Gw=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,o=t?i+1:i-1,s=r[0].descriptor.index,d=r[r.length-1].descriptor.index,f=n?d:d+1;return o<s||o>f?null:o},Yw=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,d=e.viewport,f=e.afterCritical,h=s.at;if(h||ce(!1),h.type==="REORDER"){var c=Gw({isMovingForward:t,isInHomeList:n,location:h.destination,insideDestination:o});return c==null?null:Kr({draggable:r,insideDestination:o,destination:i,viewport:d,last:s.displaced,displacedBy:s.displacedBy,index:c})}var l=Ww({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:h.combine,afterCritical:f});return l==null?null:Kr({draggable:r,insideDestination:o,destination:i,viewport:d,last:s.displaced,displacedBy:s.displacedBy,index:l})},Kw=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=!!(t.visible[r]||t.invisible[r]);return Vt(r,n)?i?et:kn(a.point):i?a.point:et},Xw=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=ha(n);a||ce(!1);var i=a.draggableId,o=r[i].page.borderBox.center,s=Kw({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return nt(o,s)},Gc=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Zw=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},_i=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},il=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return tn(n.line,r.marginBox[n.end]+Gc(n,a),_i(n,r.marginBox,a))},ol=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return tn(n.line,r.marginBox[n.start]-Zw(n,a),_i(n,r.marginBox,a))},Qw=function(t){var n=t.axis,r=t.moveInto,a=t.isMoving;return tn(n.line,r.contentBox[n.start]+Gc(n,a),_i(n,r.contentBox,a))},Jw=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,o=An(a.descriptor.id,r),s=n.page,d=a.axis;if(!o.length)return Qw({axis:d,moveInto:a.page,isMoving:s});var f=t.displaced,h=t.displacedBy,c=f.all[0];if(c){var l=r[c];if(Vt(c,i))return ol({axis:d,moveRelativeTo:l.page,isMoving:s});var u=Ur(l.page,h.point);return ol({axis:d,moveRelativeTo:u,isMoving:s})}var p=o[o.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Vt(p.descriptor.id,i)){var v=Ur(p.page,kn(i.displacedBy.point));return il({axis:d,moveRelativeTo:v,isMoving:s})}return il({axis:d,moveRelativeTo:p.page,isMoving:s})},ei=function(e,t){var n=e.frame;return n?nt(t,n.scroll.diff.displacement):t},eS=function(t){var n=t.impact,r=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,s=r.page.borderBox.center,d=n.at;return!a||!d?s:d.type==="REORDER"?Jw({impact:n,draggable:r,draggables:i,droppable:a,afterCritical:o}):Xw({impact:n,draggables:i,afterCritical:o})},va=function(e){var t=eS(e),n=e.droppable,r=n?ei(n,t):t;return r},Yc=function(e,t){var n=ut(t,e.scroll.initial),r=kn(n),a=St({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return i};function ll(e,t){return e.map(function(n){return t[n]})}function tS(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var nS=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=Yc(n,nt(n.scroll.current,i)),s=r.frame?Di(r,nt(r.frame.scroll.current,i)):r,d=t.displaced,f=er({afterDragging:ll(d.all,a),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:d,forceShouldAnimate:!1}),h=er({afterDragging:ll(d.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),c={},l={},u=[d,f,h];d.all.forEach(function(v){var m=tS(v,u);if(m){l[v]=m;return}c[v]=!0});var p=oe({},t,{displaced:{all:d.all,invisible:c,visible:l}});return p},rS=function(e,t){return nt(e.scroll.diff.displacement,t)},Ri=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,a=rS(r,t),i=ut(a,n.page.borderBox.center);return nt(n.client.borderBox.center,i)},Kc=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,d=ut(r,t.page.borderBox.center),f=gr(t.page.borderBox,d),h={target:f,destination:n,withDroppableDisplacement:i,viewport:a};return s?Hw(h):Wc(h)},aS=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,d=e.previousClientSelection,f=e.afterCritical;if(!r.isEnabled)return null;var h=An(r.descriptor.id,a),c=Pn(n,r),l=Rw({isMovingForward:t,draggable:n,destination:r,insideDestination:h,previousImpact:i})||Yw({isMovingForward:t,isInHomeList:c,draggable:n,draggables:a,destination:r,insideDestination:h,previousImpact:i,viewport:o,afterCritical:f});if(!l)return null;var u=va({impact:l,draggable:n,droppable:r,draggables:a,afterCritical:f}),p=Kc({draggable:n,destination:r,newPageBorderBoxCenter:u,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var v=Ri({pageBorderBoxCenter:u,draggable:n,viewport:o});return{clientSelection:v,impact:l,scrollJumpRequest:null}}var m=ut(u,s),g=nS({impact:l,viewport:o,destination:r,draggables:a,maxScrollChange:m});return{clientSelection:d,impact:g,scrollJumpRequest:m}},it=function(t){var n=t.subject.active;return n||ce(!1),n},iS=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,d=yt(o[s.start],o[s.end]),f=fa(a).filter(function(c){return c!==r}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return Uc(i.frame)(it(c))}).filter(function(c){var l=it(c);return t?o[s.crossAxisEnd]<l[s.crossAxisEnd]:l[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(c){var l=it(c),u=yt(l[s.start],l[s.end]);return d(l[s.start])||d(l[s.end])||u(o[s.start])||u(o[s.end])}).sort(function(c,l){var u=it(c)[s.crossAxisStart],p=it(l)[s.crossAxisStart];return t?u-p:p-u}).filter(function(c,l,u){return it(c)[s.crossAxisStart]===it(u[0])[s.crossAxisStart]});if(!f.length)return null;if(f.length===1)return f[0];var h=f.filter(function(c){var l=yt(it(c)[s.start],it(c)[s.end]);return l(n[s.line])});return h.length===1?h[0]:h.length>1?h.sort(function(c,l){return it(c)[s.start]-it(l)[s.start]})[0]:f.sort(function(c,l){var u=nl(n,rl(it(c))),p=nl(n,rl(it(l)));return u!==p?u-p:it(c)[s.start]-it(l)[s.start]})[0]},sl=function(t,n){var r=t.page.borderBox.center;return Vt(t.descriptor.id,n)?ut(r,n.displacedBy.point):r},oS=function(t,n){var r=t.page.borderBox;return Vt(t.descriptor.id,n)?gr(r,kn(n.displacedBy.point)):r},lS=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(s){return Wc({target:oS(s,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(s,d){var f=Qn(t,ei(r,sl(s,i))),h=Qn(t,ei(r,sl(d,i)));return f<h?-1:h<f?1:s.descriptor.index-d.descriptor.index});return o[0]||null},mr=Je(function(t,n){var r=n[t.line];return{value:r,point:tn(t.line,r)}}),sS=function(t,n,r){var a=t.axis;if(t.descriptor.mode==="virtual")return tn(a.line,n[a.line]);var i=t.subject.page.contentBox[a.size],o=An(t.descriptor.id,r),s=o.reduce(function(h,c){return h+c.client.marginBox[a.size]},0),d=s+n[a.line],f=d-i;return f<=0?null:tn(a.line,f)},Xc=function(t,n){return oe({},t,{scroll:oe({},t.scroll,{max:n})})},Zc=function(t,n,r){var a=t.frame;Pn(n,t)&&ce(!1),t.subject.withPlaceholder&&ce(!1);var i=mr(t.axis,n.displaceBy).point,o=sS(t,i,r),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var d=hn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return oe({},t,{subject:d})}var f=o?nt(a.scroll.max,o):a.scroll.max,h=Xc(a,f),c=hn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:h});return oe({},t,{subject:c,frame:h})},cS=function(t){var n=t.subject.withPlaceholder;n||ce(!1);var r=t.frame;if(!r){var a=hn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return oe({},t,{subject:a})}var i=n.oldFrameMaxScroll;i||ce(!1);var o=Xc(r,i),s=hn({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return oe({},t,{subject:s,frame:o})},uS=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,d=e.afterCritical;if(!n){if(r.length)return null;var f={displaced:Jn,displacedBy:zc,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=va({impact:f,draggable:a,droppable:o,draggables:i,afterCritical:d}),c=Pn(a,o)?o:Zc(o,a,i),l=Kc({draggable:a,destination:c,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return l?f:null}var u=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],p=function(){var m=n.descriptor.index;return n.descriptor.id===a.descriptor.id||u?m:m+1}(),v=mr(o.axis,a.displaceBy);return Kr({draggable:a,insideDestination:r,destination:o,viewport:s,displacedBy:v,last:Jn,index:p})},dS=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,d=e.afterCritical,f=iS({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:s});if(!f)return null;var h=An(f.descriptor.id,i),c=lS({pageBorderBoxCenter:n,viewport:s,destination:f,insideDestination:h,afterCritical:d}),l=uS({previousPageBorderBoxCenter:n,destination:f,draggable:r,draggables:i,moveRelativeTo:c,insideDestination:h,viewport:s,afterCritical:d});if(!l)return null;var u=va({impact:l,draggable:r,droppable:f,draggables:i,afterCritical:d}),p=Ri({pageBorderBoxCenter:u,draggable:r,viewport:s});return{clientSelection:p,impact:l,scrollJumpRequest:null}},dt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},fS=function(t,n){var r=dt(t);return r?n[r]:null},hS=function(e){var t=e.state,n=e.type,r=fS(t.impact,t.dimensions.droppables),a=!!r,i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,d=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!a)return null;var f=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,l=t.dimensions,u=l.draggables,p=l.droppables;return d?aS({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:h,destination:o,draggables:u,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dS({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:h,isOver:o,draggables:u,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Jt(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Qc(e){var t=yt(e.top,e.bottom),n=yt(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function pS(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function vS(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map(function(o){var s=o.axis,d=tn(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Qn(a,d)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function gS(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=fa(r).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!pS(t,o))return!1;if(Qc(o)(t.center))return!0;var s=i.axis,d=o.center[s.crossAxisLine],f=t[s.crossAxisStart],h=t[s.crossAxisEnd],c=yt(o[s.crossAxisStart],o[s.crossAxisEnd]),l=c(f),u=c(h);return!l&&!u?!0:l?f<d:h>d});return a.length?a.length===1?a[0].descriptor.id:vS({pageBorderBox:t,draggable:n,candidates:a}):null}var Jc=function(t,n){return St(gr(t,n))},mS=function(e,t){var n=e.frame;return n?Jc(t,n.scroll.diff.value):t};function eu(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function yS(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var bS=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,d=r.axis,f=mr(r.axis,n.displaceBy),h=f.value,c=t[d.start],l=t[d.end],u=pa(n,a),p=Gt(u,function(m){var g=m.descriptor.id,b=m.page.borderBox.center[d.line],x=Vt(g,s),y=eu({displaced:i,id:g});return x?y?l<=b:c<b-h:y?l<=b+h:c<b}),v=yS({draggable:n,closest:p,inHomeList:Pn(n,r)});return Kr({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:f,index:v})},xS=4,CS=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,d=mr(a.axis,t.displaceBy),f=d.value,h=n[s.start],c=n[s.end],l=pa(t,i),u=Gt(l,function(v){var m=v.descriptor.id,g=v.page.borderBox,b=g[s.size],x=b/xS,y=Vt(m,o),C=eu({displaced:r.displaced,id:m});return y?C?c>g[s.start]+x&&c<g[s.end]-x:h>g[s.start]-f+x&&h<g[s.end]-f-x:C?c>g[s.start]+f+x&&c<g[s.end]+f-x:h>g[s.start]+x&&h<g[s.end]-x});if(!u)return null;var p={displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:a.descriptor.id}}};return p},tu=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,d=Jc(n.page.borderBox,t),f=gS({pageBorderBox:d,draggable:n,droppables:a});if(!f)return Mw;var h=a[f],c=An(h.descriptor.id,r),l=mS(h,d);return CS({pageBorderBoxWithDroppableScroll:l,draggable:n,previousImpact:i,destination:h,insideDestination:c,afterCritical:s})||bS({pageBorderBoxWithDroppableScroll:l,draggable:n,destination:h,insideDestination:c,last:i.displaced,viewport:o,afterCritical:s})},Mi=function(e,t){var n;return oe({},e,(n={},n[t.descriptor.id]=t,n))},wS=function(t){var n=t.previousImpact,r=t.impact,a=t.droppables,i=dt(n),o=dt(r);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var d=cS(s);return Mi(a,d)},SS=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,o=wS({previousImpact:a,impact:i,droppables:r}),s=dt(i);if(!s)return o;var d=r[s];if(Pn(t,d)||d.subject.withPlaceholder)return o;var f=Zc(d,t,n);return Mi(o,f)},Vn=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,d=r||t.dimensions,f=n||t.current.client.selection,h=ut(f,t.initial.client.selection),c={offset:h,selection:f,borderBoxCenter:nt(t.initial.client.borderBoxCenter,h)},l={selection:nt(c.selection,s.scroll.current),borderBoxCenter:nt(c.borderBoxCenter,s.scroll.current),offset:nt(c.offset,s.scroll.diff.value)},u={client:c,page:l};if(t.phase==="COLLECTING")return oe({phase:"COLLECTING"},t,{dimensions:d,viewport:s,current:u});var p=d.draggables[t.critical.draggable.id],v=i||tu({pageOffset:l.offset,draggable:p,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=SS({draggable:p,impact:v,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),g=oe({},t,{current:u,dimensions:{draggables:d.draggables,droppables:m},impact:v,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function ES(e,t){return e.map(function(n){return t[n]})}var nu=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,s=ES(o.all,r),d=er({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return oe({},t,{displaced:d})},ru=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=va({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o});return Ri({pageBorderBoxCenter:s,draggable:n,viewport:i})},au=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&ce(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,s=o.draggables,d=o.droppables,f=s[t.critical.draggable.id],h=dt(a);h||ce(!1);var c=d[h],l=nu({impact:a,viewport:i,destination:c,draggables:s}),u=ru({impact:l,draggable:f,droppable:c,draggables:s,viewport:i,afterCritical:t.afterCritical});return Vn({impact:l,clientSelection:u,state:t,dimensions:o,viewport:i})},OS=function(e){return{index:e.index,droppableId:e.droppableId}},iu=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=mr(n.axis,t.displaceBy),o=An(n.descriptor.id,r),s=o.indexOf(t);s===-1&&ce(!1);var d=o.slice(s+1),f=d.reduce(function(u,p){return u[p.descriptor.id]=!0,u},{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:f},c=er({afterDragging:d,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),l={displaced:c,displacedBy:i,at:{type:"REORDER",destination:OS(t.descriptor)}};return{impact:l,afterCritical:h}},IS=function(e,t){return{draggables:e.draggables,droppables:Mi(e.droppables,t)}},NS=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=Ur(t.client,n),i=Vr(a,r),o=oe({},t,{placeholder:oe({},t.placeholder,{client:a}),client:a,page:i});return o},DS=function(e){var t=e.frame;return t||ce(!1),t},kS=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,s=n[o],d=DS(s),f=d.scroll.diff.value,h=nt(a,f),c=NS({draggable:i,offset:h,initialWindowScroll:r.scroll.initial});return c})},AS=function(e){var t=e.state,n=e.published,r=n.modified.map(function(x){var y=t.dimensions.droppables[x.droppableId],C=Di(y,x.scroll);return C}),a=oe({},t.dimensions.droppables,{},jc(r)),i=Hc(kS({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=oe({},t.dimensions.draggables,{},i);n.removals.forEach(function(x){delete o[x]});var s={droppables:a,draggables:o},d=dt(t.impact),f=d?s.droppables[d]:null,h=s.draggables[t.critical.draggable.id],c=s.droppables[t.critical.droppable.id],l=iu({draggable:h,home:c,draggables:o,viewport:t.viewport}),u=l.impact,p=l.afterCritical,v=f&&f.isCombineEnabled?t.impact:u,m=tu({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:t.viewport,afterCritical:p}),g=oe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:u,dimensions:s,afterCritical:p,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var b=oe({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},ti=function(t){return t.movementMode==="SNAP"},_a=function(t,n,r){var a=IS(t.dimensions,n);return!ti(t)||r?Vn({state:t,dimensions:a}):au({state:t,dimensions:a})};function Ra(e){return e.isDragging&&e.movementMode==="SNAP"?oe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var cl={phase:"IDLE",completed:null,shouldFlush:!1},PS=function(e,t){if(e===void 0&&(e=cl),t.type==="FLUSH")return oe({},cl,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ce(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,s=n.movementMode,d=o.draggables[r.draggable.id],f=o.droppables[r.droppable.id],h={selection:a,borderBoxCenter:d.client.borderBox.center,offset:et},c={client:h,page:{selection:nt(h.selection,i.scroll.initial),borderBoxCenter:nt(h.selection,i.scroll.initial),offset:nt(h.selection,i.scroll.diff.value)}},l=fa(o.droppables).every(function(te){return!te.isFixedOnPage}),u=iu({draggable:d,home:f,draggables:o.draggables,viewport:i}),p=u.impact,v=u.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:l,impact:p,afterCritical:v,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce(!1);var g=oe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ce(!1),AS({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Jt(e)||ce(!1);var b=t.payload.client;return Ht(b,e.current.client.selection)?e:Vn({state:e,clientSelection:b,impact:ti(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ra(e);Jt(e)||ce(!1);var x=t.payload,y=x.id,C=x.newScroll,D=e.dimensions.droppables[y];if(!D)return e;var O=Di(D,C);return _a(e,O,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Jt(e)||ce(!1);var I=t.payload,k=I.id,N=I.isEnabled,S=e.dimensions.droppables[k];S||ce(!1),S.isEnabled===N&&ce(!1);var A=oe({},S,{isEnabled:N});return _a(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Jt(e)||ce(!1);var P=t.payload,_=P.id,L=P.isCombineEnabled,q=e.dimensions.droppables[_];q||ce(!1),q.isCombineEnabled===L&&ce(!1);var j=oe({},q,{isCombineEnabled:L});return _a(e,j,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Jt(e)||ce(!1),e.isWindowScrollAllowed||ce(!1);var Y=t.payload.newScroll;if(Ht(e.viewport.scroll.current,Y))return Ra(e);var B=Yc(e.viewport,Y);return ti(e)?au({state:e,viewport:B}):Vn({state:e,viewport:B})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Jt(e))return e;var $=t.payload.maxScroll;if(Ht($,e.viewport.scroll.max))return e;var T=oe({},e.viewport,{scroll:oe({},e.viewport.scroll,{max:$})});return oe({phase:"DRAGGING"},e,{viewport:T})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce(!1);var R=hS({state:e,type:t.type});return R?Vn({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var F=t.payload.reason;e.phase!=="COLLECTING"&&ce(!1);var U=oe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F});return U}if(t.type==="DROP_ANIMATE"){var z=t.payload,M=z.completed,H=z.dropDuration,W=z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ce(!1);var V={phase:"DROP_ANIMATING",completed:M,dropDuration:H,newHomeClientOffset:W,dimensions:e.dimensions};return V}if(t.type==="DROP_COMPLETE"){var G=t.payload.completed;return{phase:"IDLE",completed:G,shouldFlush:!1}}return e},TS=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},_S=function(t){return{type:"LIFT",payload:t}},RS=function(t){return{type:"INITIAL_PUBLISH",payload:t}},MS=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},LS=function(){return{type:"COLLECTION_STARTING",payload:null}},$S=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},BS=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},FS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},ou=function(t){return{type:"MOVE",payload:t}},qS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},jS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},HS=function(){return{type:"MOVE_UP",payload:null}},zS=function(){return{type:"MOVE_DOWN",payload:null}},US=function(){return{type:"MOVE_RIGHT",payload:null}},VS=function(){return{type:"MOVE_LEFT",payload:null}},Li=function(){return{type:"FLUSH",payload:null}},WS=function(t){return{type:"DROP_ANIMATE",payload:t}},$i=function(t){return{type:"DROP_COMPLETE",payload:t}},lu=function(t){return{type:"DROP",payload:t}},GS=function(t){return{type:"DROP_PENDING",payload:t}},su=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},YS=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,d=o.clientSelection,f=o.movementMode,h=n();h.phase==="DROP_ANIMATING"&&r($i({completed:h.completed})),n().phase!=="IDLE"&&ce(!1),r(Li()),r(TS({draggableId:s,movementMode:f}));var c={shouldPublishImmediately:f==="SNAP"},l={draggableId:s,scrollOptions:c},u=e.startPublishing(l),p=u.critical,v=u.dimensions,m=u.viewport;r(RS({critical:p,dimensions:v,clientSelection:d,movementMode:f,viewport:m}))}}}},KS=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},Bi={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tr={opacity:{drop:0,combining:.7},scale:{drop:.75}},Fi={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Zt=Fi.outOfTheWay+"s "+Bi.outOfTheWay,Wn={fluid:"opacity "+Zt,snap:"transform "+Zt+", opacity "+Zt,drop:function(t){var n=t+"s "+Bi.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Zt,placeholder:"height "+Zt+", width "+Zt+", margin "+Zt},ul=function(t){return Ht(t,et)?null:"translate("+t.x+"px, "+t.y+"px)"},ni={moveTo:ul,drop:function(t,n){var r=ul(t);return r?n?r+" scale("+tr.scale.drop+")":r:null}},ri=Fi.minDropTime,cu=Fi.maxDropTime,XS=cu-ri,dl=1500,ZS=.6,QS=function(e){var t=e.current,n=e.destination,r=e.reason,a=Qn(t,n);if(a<=0)return ri;if(a>=dl)return cu;var i=a/dl,o=ri+XS*i,s=r==="CANCEL"?o*ZS:o;return Number(s.toFixed(2))},JS=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,o=r.draggables,s=r.droppables,d=dt(t),f=d?s[d]:null,h=s[n.descriptor.droppableId],c=ru({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:f||h,viewport:a}),l=ut(c,n.client.borderBox.center);return l},e2=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!r.at||n!=="DROP"){var s=nu({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var d=oe({},r,{displaced:Jn});return{impact:d,didDropInsideDroppable:!0}},t2=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(a){if(a.type!=="DROP"){r(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){n(GS({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&ce(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ce(!1);var d=i.critical,f=i.dimensions,h=f.draggables[i.critical.draggable.id],c=e2({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),l=c.impact,u=c.didDropInsideDroppable,p=u?Ai(l):null,v=u?ha(l):null,m={index:d.draggable.index,droppableId:d.droppable.id},g={draggableId:h.descriptor.id,type:h.descriptor.type,source:m,reason:o,mode:i.movementMode,destination:p,combine:v},b=JS({impact:l,draggable:h,dimensions:f,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:l},y=!Ht(i.current.client.offset,b)||!!g.combine;if(!y){n($i({completed:x}));return}var C=QS({current:i.current.client.offset,destination:b,reason:o}),D={newHomeClientOffset:b,dropDuration:C,completed:x};n(WS(D))}}}},uu=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function n2(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function r2(e){var t=e.onWindowScroll;function n(){t(uu())}var r=Zn(n),a=n2(r),i=jt;function o(){return i!==jt}function s(){o()&&ce(!1),i=mt(window,[a])}function d(){o()||ce(!1),r.cancel(),i(),i=jt}return{start:s,stop:d,isActive:o}}var a2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},i2=function(e){var t=r2({onWindowScroll:function(r){e.dispatch(qS({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&a2(r)&&t.stop(),n(r)}}},o2=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return a.wasCalled=function(){return t},a},l2=function(){var e=[],t=function(i){var o=ki(e,function(f){return f.timerId===i});o===-1&&ce(!1);var s=e.splice(o,1),d=s[0];d.callback()},n=function(i){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:i};e.push(s)},r=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},s2=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},c2=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},u2=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,a=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&a},Fn=function(t,n){n()},Nr=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Ma=function(t,n,r,a){if(!t){r(a(n));return}var i=o2(r),o={announce:i};t(n,o),i.wasCalled()||r(a(n))},d2=function(e,t){var n=l2(),r=null,a=function(l,u){r&&ce(!1),Fn("onBeforeCapture",function(){var p=e().onBeforeCapture;if(p){var v={draggableId:l,mode:u};p(v)}})},i=function(l,u){r&&ce(!1),Fn("onBeforeDragStart",function(){var p=e().onBeforeDragStart;p&&p(Nr(l,u))})},o=function(l,u){r&&ce(!1);var p=Nr(l,u);r={mode:u,lastCritical:l,lastLocation:p.source,lastCombine:null},n.add(function(){Fn("onDragStart",function(){return Ma(e().onDragStart,p,t,Rr.onDragStart)})})},s=function(l,u){var p=Ai(u),v=ha(u);r||ce(!1);var m=!u2(l,r.lastCritical);m&&(r.lastCritical=l);var g=!s2(r.lastLocation,p);g&&(r.lastLocation=p);var b=!c2(r.lastCombine,v);if(b&&(r.lastCombine=v),!(!m&&!g&&!b)){var x=oe({},Nr(l,r.mode),{combine:v,destination:p});n.add(function(){Fn("onDragUpdate",function(){return Ma(e().onDragUpdate,x,t,Rr.onDragUpdate)})})}},d=function(){r||ce(!1),n.flush()},f=function(l){r||ce(!1),r=null,Fn("onDragEnd",function(){return Ma(e().onDragEnd,l,t,Rr.onDragEnd)})},h=function(){if(r){var l=oe({},Nr(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});f(l)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:d,drop:f,abort:h}},f2=function(e,t){var n=d2(e,t);return function(r){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;n.flush(),a(i),n.drop(s);return}if(a(i),i.type==="FLUSH"){n.abort();return}var d=r.getState();d.phase==="DRAGGING"&&n.update(d.critical,d.impact)}}}},h2=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&ce(!1),e.dispatch($i({completed:r.completed}))}}},p2=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(su())}};n=requestAnimationFrame(function(){n=null,t=mt(window,[o])})}}}},v2=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},g2=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},m2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},y2=function(e){return function(t){return function(n){return function(r){if(m2(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var a=t.getState();a.phase!=="DRAGGING"&&ce(!1),e.start(a);return}n(r),e.scroll(t.getState())}}}},b2=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(lu({reason:r.reason})))}}}},x2=Fd,C2=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return $d(PS,x2(Bd(KS(r),v2(t),YS(t),t2,h2,p2,b2,y2(o),i2,g2(n),f2(a,i))))},La=function(){return{additions:{},removals:{},modified:{}}};function w2(e){var t=e.registry,n=e.callbacks,r=La(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var h=r,c=h.additions,l=h.removals,u=h.modified,p=Object.keys(c).map(function(g){return t.draggable.getById(g).getDimension(et)}).sort(function(g,b){return g.descriptor.index-b.descriptor.index}),v=Object.keys(u).map(function(g){var b=t.droppable.getById(g),x=b.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:x}}),m={additions:p,removals:Object.keys(l),modified:v};r=La(),n.publish(m)}))},o=function(h){var c=h.descriptor.id;r.additions[c]=h,r.modified[h.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],i()},s=function(h){var c=h.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],i()},d=function(){a&&(cancelAnimationFrame(a),a=null,r=La())};return{add:o,remove:s,stop:d}}var du=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=ut({x:n,y:t},{x:a,y:r}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},fu=function(){var e=document.documentElement;return e||ce(!1),e},hu=function(){var e=fu(),t=du({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},S2=function(){var e=uu(),t=hu(),n=e.y,r=e.x,a=fu(),i=a.clientWidth,o=a.clientHeight,s=r+i,d=n+o,f=St({top:n,left:r,right:s,bottom:d}),h={frame:f,scroll:{initial:e,current:e,max:t,diff:{value:et,displacement:et}}};return h},E2=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,a=S2(),i=a.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(i,n)}),d=r.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(i)}),f={draggables:Hc(d),droppables:jc(s)},h={dimensions:f,critical:t,viewport:a};return h};function fl(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var O2=function(e,t){var n=null,r=w2({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(u,p){e.droppable.exists(u)||ce(!1),n&&t.updateDroppableIsEnabled({id:u,isEnabled:p})},i=function(u,p){n&&(e.droppable.exists(u)||ce(!1),t.updateDroppableIsCombineEnabled({id:u,isCombineEnabled:p}))},o=function(u,p){n&&(e.droppable.exists(u)||ce(!1),t.updateDroppableScroll({id:u,newScroll:p}))},s=function(u,p){n&&e.droppable.getById(u).callbacks.scroll(p)},d=function(){if(n){r.stop();var u=n.critical.droppable;e.droppable.getAllByType(u.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},f=function(u){n||ce(!1);var p=n.critical.draggable;u.type==="ADDITION"&&fl(e,p,u.value)&&r.add(u.value),u.type==="REMOVAL"&&fl(e,p,u.value)&&r.remove(u.value)},h=function(u){n&&ce(!1);var p=e.draggable.getById(u.draggableId),v=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:v.descriptor},g=e.subscribe(f);return n={critical:m,unsubscribe:g},E2({critical:m,registry:e,scrollOptions:u.scrollOptions})},c={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:h,stopPublishing:d};return c},pu=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},I2=function(e){window.scrollBy(e.x,e.y)},N2=Je(function(e){return fa(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),D2=function(t,n){var r=Gt(N2(n),function(a){return a.frame||ce(!1),Qc(a.frame.pageMarginBox)(t)});return r},k2=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=D2(t,r);return i},zt={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},A2=function(e,t){var n=e[t.size]*zt.startFromPercentage,r=e[t.size]*zt.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:r};return a},vu=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;if(a===0)return 0;var i=r-t,o=i/a;return o},qi=1,P2=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return zt.maxPixelScroll;if(e===t.startScrollingFrom)return qi;var n=vu({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,a=zt.maxPixelScroll*zt.ease(r);return Math.ceil(a)},hl=zt.durationDampening.accelerateAt,pl=zt.durationDampening.stopDampeningAt,T2=function(e,t){var n=t,r=pl,a=Date.now(),i=a-n;if(i>=pl)return e;if(i<hl)return qi;var o=vu({startOfRange:hl,endOfRange:r,current:i}),s=e*zt.ease(o);return Math.ceil(s)},vl=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=P2(t,n);return i===0?0:a?Math.max(T2(i,r),qi):i},gl=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=A2(t,a),s=n[a.end]<n[a.start];return s?vl({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*vl({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},_2=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return!i&&!a?r:i&&a?null:{x:i?0:r.x,y:a?0:r.y}},R2=Fc(function(e){return e===0?0:e}),gu=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=gl({container:n,distanceToEdges:o,dragStartTime:t,axis:Pi,shouldUseTimeDampening:i}),d=gl({container:n,distanceToEdges:o,dragStartTime:t,axis:Vc,shouldUseTimeDampening:i}),f=R2({x:d,y:s});if(Ht(f,et))return null;var h=_2({container:n,subject:r,proposedScroll:f});return h?Ht(h,et)?null:h:null},M2=Fc(function(e){return e===0?0:e>0?1:-1}),ji=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,a=t.change,i=nt(n,a),o={x:e(i.x,r.x),y:e(i.y,r.y)};return Ht(o,et)?null:o}}(),mu=function(t){var n=t.max,r=t.current,a=t.change,i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=M2(a),s=ji({max:i,current:r,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Hi=function(t,n){return mu({current:t.scroll.current,max:t.scroll.max,change:n})},L2=function(t,n){if(!Hi(t,n))return null;var r=t.scroll.max,a=t.scroll.current;return ji({current:a,max:r,change:n})},zi=function(t,n){var r=t.frame;return r?mu({current:r.scroll.current,max:r.scroll.max,change:n}):!1},$2=function(t,n){var r=t.frame;return!r||!zi(t,n)?null:ji({current:r.scroll.current,max:r.scroll.max,change:n})},B2=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=gu({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&Hi(t,o)?o:null},F2=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=gu({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&zi(t,s)?s:null},ml=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],d=s.page.marginBox;if(t.isWindowScrollAllowed){var f=t.viewport,h=B2({dragStartTime:n,viewport:f,subject:d,center:o,shouldUseTimeDampening:r});if(h){a(h);return}}var c=k2({center:o,destination:dt(t.impact),droppables:t.dimensions.droppables});if(c){var l=F2({dragStartTime:n,droppable:c,subject:d,center:o,shouldUseTimeDampening:r});l&&i(c.descriptor.id,l)}},q2=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Zn(t),a=Zn(n),i=null,o=function(h){i||ce(!1);var c=i,l=c.shouldUseTimeDampening,u=c.dragStartTime;ml({state:h,scrollWindow:r,scrollDroppable:a,dragStartTime:u,shouldUseTimeDampening:l})},s=function(h){i&&ce(!1);var c=Date.now(),l=!1,u=function(){l=!0};ml({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:u,scrollDroppable:u}),i={dragStartTime:c,shouldUseTimeDampening:l},l&&o(h)},d=function(){i&&(r.cancel(),a.cancel(),i=null)};return{start:s,stop:d,scroll:o}},j2=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(f,h){var c=nt(f.current.client.selection,h);t({client:c})},i=function(f,h){if(!zi(f,h))return h;var c=$2(f,h);if(!c)return n(f.descriptor.id,h),null;var l=ut(h,c);n(f.descriptor.id,l);var u=ut(h,l);return u},o=function(f,h,c){if(!f||!Hi(h,c))return c;var l=L2(h,c);if(!l)return r(c),null;var u=ut(c,l);r(u);var p=ut(c,u);return p},s=function(f){var h=f.scrollJumpRequest;if(h){var c=dt(f.impact);c||ce(!1);var l=i(f.dimensions.droppables[c],h);if(l){var u=f.viewport,p=o(f.isWindowScrollAllowed,u,l);p&&a(f,p)}}};return s},H2=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=q2({scrollWindow:n,scrollDroppable:t}),i=j2({move:r,scrollWindow:n,scrollDroppable:t}),o=function(f){if(f.phase==="DRAGGING"){if(f.movementMode==="FLUID"){a.scroll(f);return}f.scrollJumpRequest&&i(f)}},s={scroll:o,start:a.start,stop:a.stop};return s},pn="data-rbd",vn=function(){var e=pn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),ai=function(){var e=pn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),z2=function(){var e=pn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),yl={contextId:pn+"-scroll-container-context-id"},U2=function(t){return function(n){return"["+n+'="'+t+'"]'}},qn=function(t,n){return t.map(function(r){var a=r.styles[n];return a?r.selector+" { "+a+" }":""}).join(" ")},V2="pointer-events: none;",W2=function(e){var t=U2(e),n=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(vn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:V2,dropAnimating:s}}}(),r=function(){var s=`
      transition: `+Wn.outOfTheWay+`;
    `;return{selector:t(ai.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:t(z2.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,a,i];return{always:qn(o,"always"),resting:qn(o,"resting"),dragging:qn(o,"dragging"),dropAnimating:qn(o,"dropAnimating"),userCancel:qn(o,"userCancel")}},ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,$a=function(){var t=document.querySelector("head");return t||ce(!1),t},bl=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function G2(e,t){var n=De(function(){return W2(e)},[e]),r=E.useRef(null),a=E.useRef(null),i=me(Je(function(c){var l=a.current;l||ce(!1),l.textContent=c}),[]),o=me(function(c){var l=r.current;l||ce(!1),l.textContent=c},[]);ft(function(){!r.current&&!a.current||ce(!1);var c=bl(t),l=bl(t);return r.current=c,a.current=l,c.setAttribute(pn+"-always",e),l.setAttribute(pn+"-dynamic",e),$a().appendChild(c),$a().appendChild(l),o(n.always),i(n.resting),function(){var u=function(v){var m=v.current;m||ce(!1),$a().removeChild(m),v.current=null};u(r),u(a)}},[t,o,i,n.always,n.resting,e]);var s=me(function(){return i(n.dragging)},[i,n.dragging]),d=me(function(c){if(c==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),f=me(function(){a.current&&i(n.resting)},[i,n.resting]),h=De(function(){return{dragging:s,dropping:d,resting:f}},[s,d,f]);return h}var yu=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ga(e){return e instanceof yu(e).HTMLElement}function Y2(e,t){var n="["+vn.contextId+'="'+e+'"]',r=qc(document.querySelectorAll(n));if(!r.length)return null;var a=Gt(r,function(i){return i.getAttribute(vn.draggableId)===t});return!a||!ga(a)?null:a}function K2(e){var t=E.useRef({}),n=E.useRef(null),r=E.useRef(null),a=E.useRef(!1),i=me(function(l,u){var p={id:l,focus:u};return t.current[l]=p,function(){var m=t.current,g=m[l];g!==p&&delete m[l]}},[]),o=me(function(l){var u=Y2(e,l);u&&u!==document.activeElement&&u.focus()},[e]),s=me(function(l,u){n.current===l&&(n.current=u)},[]),d=me(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var l=n.current;l&&o(l)}))},[o]),f=me(function(l){n.current=null;var u=document.activeElement;u&&u.getAttribute(vn.draggableId)===l&&(n.current=l)},[]);ft(function(){return a.current=!0,function(){a.current=!1;var l=r.current;l&&cancelAnimationFrame(l)}},[]);var h=De(function(){return{register:i,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:s}},[i,f,d,s]);return h}function X2(){var e={draggables:{},droppables:{}},t=[];function n(c){return t.push(c),function(){var u=t.indexOf(c);u!==-1&&t.splice(u,1)}}function r(c){t.length&&t.forEach(function(l){return l(c)})}function a(c){return e.draggables[c]||null}function i(c){var l=a(c);return l||ce(!1),l}var o={register:function(l){e.draggables[l.descriptor.id]=l,r({type:"ADDITION",value:l})},update:function(l,u){var p=e.draggables[u.descriptor.id];p&&p.uniqueId===l.uniqueId&&(delete e.draggables[u.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:function(l){var u=l.descriptor.id,p=a(u);p&&l.uniqueId===p.uniqueId&&(delete e.draggables[u],r({type:"REMOVAL",value:l}))},getById:i,findById:a,exists:function(l){return!!a(l)},getAllByType:function(l){return Yr(e.draggables).filter(function(u){return u.descriptor.type===l})}};function s(c){return e.droppables[c]||null}function d(c){var l=s(c);return l||ce(!1),l}var f={register:function(l){e.droppables[l.descriptor.id]=l},unregister:function(l){var u=s(l.descriptor.id);u&&l.uniqueId===u.uniqueId&&delete e.droppables[l.descriptor.id]},getById:d,findById:s,exists:function(l){return!!s(l)},getAllByType:function(l){return Yr(e.droppables).filter(function(u){return u.descriptor.type===l})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function Z2(){var e=De(X2,[]);return E.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Ui=Ie.createContext(null),Xr=function(){var e=document.body;return e||ce(!1),e},Q2={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},J2=function(t){return"rbd-announcement-"+t};function eE(e){var t=De(function(){return J2(e)},[e]),n=E.useRef(null);E.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),oe(i.style,Q2),Xr().appendChild(i),function(){setTimeout(function(){var d=Xr();d.contains(i)&&d.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var r=me(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return r}var tE=0,nE={separator:"::"};function Vi(e,t){return t===void 0&&(t=nE),De(function(){return""+e+t.separator+tE++},[t.separator,e])}function rE(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function aE(e){var t=e.contextId,n=e.text,r=Vi("hidden-text",{separator:"-"}),a=De(function(){return rE({contextId:t,uniqueId:r})},[r,t]);return E.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=n,o.style.display="none",Xr().appendChild(o),function(){var d=Xr();d.contains(o)&&d.removeChild(o)}},[a,n]),a}var ma=Ie.createContext(null);function bu(e){var t=E.useRef(e);return E.useEffect(function(){t.current=e}),t}function iE(){var e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&ce(!1);var s={abandon:o};return e=s,s}function a(){e||ce(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:r,release:a,tryAbandon:i}}var oE=9,lE=13,Wi=27,xu=32,sE=33,cE=34,uE=35,dE=36,fE=37,hE=38,pE=39,vE=40,Dr,gE=(Dr={},Dr[lE]=!0,Dr[oE]=!0,Dr),Cu=function(e){gE[e.keyCode]&&e.preventDefault()},ya=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Gt(t,function(r){return"on"+r in document});return n||e}(),wu=0,xl=5;function mE(e,t){return Math.abs(t.x-e.x)>=xl||Math.abs(t.y-e.y)>=xl}var Cl={type:"IDLE"};function yE(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,d=o.clientX,f=o.clientY;if(s===wu){var h={x:d,y:f},c=r();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(h);return}c.type!=="PENDING"&&ce(!1);var l=c.point;if(mE(l,h)){o.preventDefault();var u=c.actions.fluidLift(h);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=r();if(s.type==="PENDING"){t();return}if(o.keyCode===Wi){o.preventDefault(),t();return}Cu(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=r();if(s.type==="IDLE"&&ce(!1),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:ya,fn:t}]}function bE(e){var t=E.useRef(Cl),n=E.useRef(jt),r=De(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===wu&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var l=e.findClosestDraggableId(c);if(l){var u=e.tryGetLock(l,o,{sourceEvent:c});if(u){c.preventDefault();var p={x:c.clientX,y:c.clientY};n.current(),f(u,p)}}}}}},[e]),a=De(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var l=e.findClosestDraggableId(c);if(l){var u=e.findOptionsForDraggable(l);u&&(u.shouldRespectForcePress||e.canGetLock(l)&&c.preventDefault())}}}}},[e]),i=me(function(){var c={passive:!1,capture:!0};n.current=mt(window,[a,r],c)},[a,r]),o=me(function(){var h=t.current;h.type!=="IDLE"&&(t.current=Cl,n.current(),i())},[i]),s=me(function(){var h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),d=me(function(){var c={capture:!0,passive:!1},l=yE({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(p){t.current=p}});n.current=mt(window,l,c)},[s,o]),f=me(function(c,l){t.current.type!=="IDLE"&&ce(!1),t.current={type:"PENDING",point:l,actions:c},d()},[d]);ft(function(){return i(),function(){n.current()}},[i])}var ln;function xE(){}var CE=(ln={},ln[cE]=!0,ln[sE]=!0,ln[dE]=!0,ln[uE]=!0,ln);function wE(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Wi){i.preventDefault(),n();return}if(i.keyCode===xu){i.preventDefault(),r();return}if(i.keyCode===vE){i.preventDefault(),e.moveDown();return}if(i.keyCode===hE){i.preventDefault(),e.moveUp();return}if(i.keyCode===pE){i.preventDefault(),e.moveRight();return}if(i.keyCode===fE){i.preventDefault(),e.moveLeft();return}if(CE[i.keyCode]){i.preventDefault();return}Cu(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ya,fn:n}]}function SE(e){var t=E.useRef(xE),n=De(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==xu)return;var o=e.findClosestDraggableId(i);if(!o)return;var s=e.tryGetLock(o,h,{sourceEvent:i});if(!s)return;i.preventDefault();var d=!0,f=s.snapLift();t.current();function h(){d||ce(!1),d=!1,t.current(),r()}t.current=mt(window,wE(f,h),{capture:!0,passive:!1})}}},[e]),r=me(function(){var i={passive:!1,capture:!0};t.current=mt(window,[n],i)},[n]);ft(function(){return r(),function(){t.current()}},[r])}var Ba={type:"IDLE"},EE=120,OE=.15;function IE(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.keyCode===Wi&&a.preventDefault(),t()}},{eventName:ya,fn:t}]}function NE(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=r();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=i.touches[0],d=s.clientX,f=s.clientY,h={x:d,y:f};i.preventDefault(),o.actions.move(h)}},{eventName:"touchend",fn:function(i){var o=r();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=r();o.type==="IDLE"&&ce(!1);var s=i.touches[0];if(s){var d=s.force>=OE;if(d){var f=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){f&&t();return}if(f){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:ya,fn:t}]}function DE(e){var t=E.useRef(Ba),n=E.useRef(jt),r=me(function(){return t.current},[]),a=me(function(u){t.current=u},[]),i=De(function(){return{eventName:"touchstart",fn:function(u){if(!u.defaultPrevented){var p=e.findClosestDraggableId(u);if(p){var v=e.tryGetLock(p,s,{sourceEvent:u});if(v){var m=u.touches[0],g=m.clientX,b=m.clientY,x={x:g,y:b};n.current(),c(v,x)}}}}}},[e]),o=me(function(){var u={capture:!0,passive:!1};n.current=mt(window,[i],u)},[i]),s=me(function(){var l=t.current;l.type!=="IDLE"&&(l.type==="PENDING"&&clearTimeout(l.longPressTimerId),a(Ba),n.current(),o())},[o,a]),d=me(function(){var l=t.current;s(),l.type==="DRAGGING"&&l.actions.cancel({shouldBlockNextClick:!0}),l.type==="PENDING"&&l.actions.abort()},[s]),f=me(function(){var u={capture:!0,passive:!1},p={cancel:d,completed:s,getPhase:r},v=mt(window,NE(p),u),m=mt(window,IE(p),u);n.current=function(){v(),m()}},[d,r,s]),h=me(function(){var u=r();u.type!=="PENDING"&&ce(!1);var p=u.actions.fluidLift(u.point);a({type:"DRAGGING",actions:p,hasMoved:!1})},[r,a]),c=me(function(u,p){r().type!=="IDLE"&&ce(!1);var v=setTimeout(h,EE);a({type:"PENDING",point:p,actions:u,longPressTimerId:v}),f()},[f,r,a,h]);ft(function(){return o(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),a(Ba))}},[r,o,a]),ft(function(){var u=mt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return u},[])}var kE={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Su(e,t){if(t==null)return!1;var n=!!kE[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Su(e,t.parentElement)}function AE(e,t){var n=t.target;return ga(n)?Su(e,n):!1}var PE=function(e){return St(e.getBoundingClientRect()).center};function TE(e){return e instanceof yu(e).Element}var _E=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Gt(t,function(r){return r in Element.prototype});return n||e}();function Eu(e,t){return e==null?null:e[_E](t)?e:Eu(e.parentElement,t)}function RE(e,t){return e.closest?e.closest(t):Eu(e,t)}function ME(e){return"["+vn.contextId+'="'+e+'"]'}function LE(e,t){var n=t.target;if(!TE(n))return null;var r=ME(e),a=RE(n,r);return!a||!ga(a)?null:a}function $E(e,t){var n=LE(e,t);return n?n.getAttribute(vn.draggableId):null}function BE(e,t){var n="["+ai.contextId+'="'+e+'"]',r=qc(document.querySelectorAll(n)),a=Gt(r,function(i){return i.getAttribute(ai.id)===t});return!a||!ga(a)?null:a}function FE(e){e.preventDefault()}function kr(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function Ou(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!(!i||!i.options.isEnabled||!pu(n.getState(),a))}function qE(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,d=Ou({lockAPI:t,store:r,registry:a,draggableId:i});if(!d)return null;var f=a.draggable.getById(i),h=BE(n,f.descriptor.id);if(!h||s&&!f.options.canDragInteractiveElements&&AE(h,s))return null;var c=t.claim(o||jt),l="PRE_DRAG";function u(){return f.options.shouldRespectForcePress}function p(){return t.isActive(c)}function v(D,O){kr({expected:D,phase:l,isLockActive:p,shouldWarn:!0})&&r.dispatch(O())}var m=v.bind(null,"DRAGGING");function g(D){function O(){t.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(O(),l!=="PRE_DRAG"&&ce(!1)),r.dispatch(_S(D.liftActionArgs)),l="DRAGGING";function I(k,N){if(N===void 0&&(N={shouldBlockNextClick:!1}),D.cleanup(),N.shouldBlockNextClick){var S=mt(window,[{eventName:"click",fn:FE,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(S)}O(),r.dispatch(lu({reason:k}))}return oe({isActive:function(){return kr({expected:"DRAGGING",phase:l,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:u,drop:function(N){return I("DROP",N)},cancel:function(N){return I("CANCEL",N)}},D.actions)}function b(D){var O=Zn(function(k){m(function(){return ou({client:k})})}),I=g({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return O.cancel()},actions:{move:O}});return oe({},I,{move:O})}function x(){var D={moveUp:function(){return m(HS)},moveRight:function(){return m(US)},moveDown:function(){return m(zS)},moveLeft:function(){return m(VS)}};return g({liftActionArgs:{id:i,clientSelection:PE(h),movementMode:"SNAP"},cleanup:jt,actions:D})}function y(){var D=kr({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!0});D&&t.release()}var C={isActive:function(){return kr({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:u,fluidLift:b,snapLift:x,abort:y};return C}var jE=[bE,SE,DE];function HE(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?jE:[],a||[]),s=E.useState(function(){return iE()})[0],d=me(function(b,x){b.isDragging&&!x.isDragging&&s.tryAbandon()},[s]);ft(function(){var b=n.getState(),x=n.subscribe(function(){var y=n.getState();d(b,y),b=y});return x},[s,n,d]),ft(function(){return s.tryAbandon},[s.tryAbandon]);for(var f=me(function(g){return Ou({lockAPI:s,registry:r,store:n,draggableId:g})},[s,r,n]),h=me(function(g,b,x){return qE({lockAPI:s,registry:r,contextId:t,store:n,draggableId:g,forceSensorStop:b,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,s,r,n]),c=me(function(g){return $E(t,g)},[t]),l=me(function(g){var b=r.draggable.findById(g);return b?b.options:null},[r.draggable]),u=me(function(){s.isClaimed()&&(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Li()))},[s,n]),p=me(s.isClaimed,[s]),v=De(function(){return{canGetLock:f,tryGetLock:h,findClosestDraggableId:c,findOptionsForDraggable:l,tryReleaseLock:u,isLockClaimed:p}},[f,h,c,l,u,p]),m=0;m<o.length;m++)o[m](v)}var zE=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function jn(e){return e.current||ce(!1),e.current}function UE(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=E.useRef(null),s=bu(e),d=me(function(){return zE(s.current)},[s]),f=eE(t),h=aE({contextId:t,text:i}),c=G2(t,a),l=me(function(k){jn(o).dispatch(k)},[]),u=De(function(){return Zi({publishWhileDragging:MS,updateDroppableScroll:$S,updateDroppableIsEnabled:BS,updateDroppableIsCombineEnabled:FS,collectionStarting:LS},l)},[l]),p=Z2(),v=De(function(){return O2(p,u)},[p,u]),m=De(function(){return H2(oe({scrollWindow:I2,scrollDroppable:v.scrollDroppable},Zi({move:ou},l)))},[v.scrollDroppable,l]),g=K2(t),b=De(function(){return C2({announce:f,autoScroller:m,dimensionMarshal:v,focusMarshal:g,getResponders:d,styleMarshal:c})},[f,m,v,g,d,c]);o.current=b;var x=me(function(){var k=jn(o),N=k.getState();N.phase!=="IDLE"&&k.dispatch(Li())},[]),y=me(function(){var k=jn(o).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),C=De(function(){return{isDragging:y,tryAbort:x}},[y,x]);n(C);var D=me(function(k){return pu(jn(o).getState(),k)},[]),O=me(function(){return Jt(jn(o).getState())},[]),I=De(function(){return{marshal:v,focus:g,contextId:t,canLift:D,isMovementAllowed:O,dragHandleUsageInstructionsId:h,registry:p}},[t,v,h,g,D,O,p]);return HE({contextId:t,store:b,registry:p,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),E.useEffect(function(){return x},[x]),Ie.createElement(ma.Provider,{value:I},Ie.createElement(OC,{context:Ui,store:b},e.children))}var VE=0;function WE(){return De(function(){return""+VE++},[])}function Iu(e){var t=WE(),n=e.dragHandleUsageInstructions||Rr.dragHandleUsageInstructions;return Ie.createElement(Sw,null,function(r){return Ie.createElement(UE,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Nu=function(t){return function(n){return t===n}},GE=Nu("scroll"),YE=Nu("auto"),wl=function(t,n){return n(t.overflowX)||n(t.overflowY)},KE=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return wl(r,GE)||wl(r,YE)},XE=function(){return!1},ZE=function e(t){return t==null?null:t===document.body?XE()?t:null:t===document.documentElement?null:KE(t)?t:e(t.parentElement)},ii=function(e){return{x:e.scrollLeft,y:e.scrollTop}},QE=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},JE=function(e){var t=ZE(e),n=QE(e);return{closestScrollable:t,isFixedOnPage:n}},eO=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,d=e.closest,f=function(){if(!d)return null;var u=d.scrollSize,p=d.client,v=du({scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:p,scrollSize:u,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:v,diff:{value:et,displacement:et}}}}(),h=i==="vertical"?Pi:Vc,c=hn({page:s,withPlaceholder:null,axis:h,frame:f}),l={descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:h,isEnabled:n,client:o,page:s,frame:f,subject:c};return l},tO=function(t,n){var r=Mc(t);if(!n||t!==n)return r;var a=r.paddingBox.top-n.scrollTop,i=r.paddingBox.left-n.scrollLeft,o=a+n.scrollHeight,s=i+n.scrollWidth,d={top:a,right:s,bottom:o,left:i},f=Ii(d,r.border),h=Ni({borderBox:f,margin:r.margin,border:r.border,padding:r.padding});return h},nO=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,d=e.shouldClipSubject,f=r.closestScrollable,h=tO(t,f),c=Vr(h,a),l=function(){if(!f)return null;var p=Mc(f),v={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:p,page:Vr(p,a),scroll:ii(f),scrollSize:v,shouldClipSubject:d}}(),u=eO({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:h,page:c,closest:l});return u},rO={passive:!1},aO={passive:!0},Sl=function(e){return e.shouldPublishImmediately?rO:aO};function Zr(e){var t=E.useContext(e);return t||ce(!1),t}var Ar=function(t){return t&&t.env.closestScrollable||null};function iO(e){var t=E.useRef(null),n=Zr(ma),r=Vi("droppable"),a=n.registry,i=n.marshal,o=bu(e),s=De(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=E.useRef(s),f=De(function(){return Je(function(y,C){t.current||ce(!1);var D={x:y,y:C};i.updateDroppableScroll(s.id,D)})},[s.id,i]),h=me(function(){var y=t.current;return!y||!y.env.closestScrollable?et:ii(y.env.closestScrollable)},[]),c=me(function(){var y=h();f(y.x,y.y)},[h,f]),l=De(function(){return Zn(c)},[c]),u=me(function(){var y=t.current,C=Ar(y);y&&C||ce(!1);var D=y.scrollOptions;if(D.shouldPublishImmediately){c();return}l()},[l,c]),p=me(function(y,C){t.current&&ce(!1);var D=o.current,O=D.getDroppableRef();O||ce(!1);var I=JE(O),k={ref:O,descriptor:s,env:I,scrollOptions:C};t.current=k;var N=nO({ref:O,descriptor:s,env:I,windowScroll:y,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),S=I.closestScrollable;return S&&(S.setAttribute(yl.contextId,n.contextId),S.addEventListener("scroll",u,Sl(k.scrollOptions))),N},[n.contextId,s,u,o]),v=me(function(){var y=t.current,C=Ar(y);return y&&C||ce(!1),ii(C)},[]),m=me(function(){var y=t.current;y||ce(!1);var C=Ar(y);t.current=null,C&&(l.cancel(),C.removeAttribute(yl.contextId),C.removeEventListener("scroll",u,Sl(y.scrollOptions)))},[u,l]),g=me(function(y){var C=t.current;C||ce(!1);var D=Ar(C);D||ce(!1),D.scrollTop+=y.y,D.scrollLeft+=y.x},[]),b=De(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:v,dragStopped:m,scroll:g}},[m,p,v,g]),x=De(function(){return{uniqueId:r,descriptor:s,callbacks:b}},[b,s,r]);ft(function(){return d.current=x.descriptor,a.droppable.register(x),function(){t.current&&m(),a.droppable.unregister(x)}},[b,s,m,x,i,a.droppable]),ft(function(){t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ft(function(){t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Fa(){}var El={width:0,height:0,margin:kw},oO=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate;return n||a==="close"?El:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},lO=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate,i=oO({isAnimatingOpenOnMount:n,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Wn.placeholder:null}};function sO(e){var t=E.useRef(null),n=me(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=E.useState(e.animate==="open"),d=s[0],f=s[1];E.useEffect(function(){return d?r!=="open"?(n(),f(!1),Fa):t.current?Fa:(t.current=setTimeout(function(){t.current=null,f(!1)}),n):Fa},[r,d,n]);var h=me(function(l){l.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),c=lO({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Ie.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:h,ref:e.innerRef})}var cO=Ie.memo(sO),Gi=Ie.createContext(null),uO=function(e){xc(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Ie.PureComponent),Ol={dragging:5e3,dropAnimating:4500},dO=function(t,n){return n?Wn.drop(n.duration):t?Wn.snap:Wn.fluid},fO=function(t,n){return t?n?tr.opacity.drop:tr.opacity.combining:null},hO=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function pO(e){var t=e.dimension,n=t.client,r=e.offset,a=e.combineWith,i=e.dropping,o=!!a,s=hO(e),d=!!i,f=d?ni.drop(r,o):ni.moveTo(r),h={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:dO(s,i),transform:f,opacity:fO(o,d),zIndex:d?Ol.dropAnimating:Ol.dragging,pointerEvents:"none"};return h}function vO(e){return{transform:ni.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function gO(e){return e.type==="DRAGGING"?pO(e):vO(e)}function mO(e,t,n){n===void 0&&(n=et);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Rc(a,r),o=Vr(i,n),s={client:i,tagName:t.tagName.toLowerCase(),display:r.display},d={x:i.marginBox.width,y:i.marginBox.height},f={descriptor:e,placeholder:s,displaceBy:d,client:i,page:o};return f}function yO(e){var t=Vi("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,d=De(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),f=me(function(u){var p=a();return p||ce(!1),mO(n,p,u)},[n,a]),h=De(function(){return{uniqueId:t,descriptor:n,options:d,getDimension:f}},[n,f,d,t]),c=E.useRef(h),l=E.useRef(!0);ft(function(){return r.draggable.register(c.current),function(){return r.draggable.unregister(c.current)}},[r.draggable]),ft(function(){if(l.current){l.current=!1;return}var u=c.current;c.current=h,r.draggable.update(h,u)},[h,r.draggable])}function bO(e){e.preventDefault()}function xO(e){var t=E.useRef(null),n=me(function(k){t.current=k},[]),r=me(function(){return t.current},[]),a=Zr(ma),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,d=Zr(Gi),f=d.type,h=d.droppableId,c=De(function(){return{id:e.draggableId,index:e.index,type:f,droppableId:h}},[e.draggableId,e.index,f,h]),l=e.children,u=e.draggableId,p=e.isEnabled,v=e.shouldRespectForcePress,m=e.canDragInteractiveElements,g=e.isClone,b=e.mapped,x=e.dropAnimationFinished;if(!g){var y=De(function(){return{descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:v,isEnabled:p}},[c,s,r,m,v,p]);yO(y)}var C=De(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":u,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:bO}:null},[i,o,u,p]),D=me(function(k){b.type==="DRAGGING"&&b.dropping&&k.propertyName==="transform"&&x()},[x,b]),O=De(function(){var k=gO(b),N=b.type==="DRAGGING"&&b.dropping?D:null,S={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":u,style:k,onTransitionEnd:N},dragHandleProps:C};return S},[i,C,u,b,D,n]),I=De(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return l(O,b.snapshot,I)}var Du=function(e,t){return e===t},ku=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},CO=function(t){return t.combine?t.combine.draggableId:null},wO=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function SO(){var e=Je(function(a,i){return{x:a,y:i}}),t=Je(function(a,i,o,s,d){return{isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),n=Je(function(a,i,o,s,d,f,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:i,offset:a,dimension:o,forceShouldAnimate:h,snapshot:t(i,s,d,f,null)}}}),r=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,d=i.dimensions.draggables[o.draggableId],f=dt(i.impact),h=wO(i.impact),c=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,d,o.isClone,f,h,c)}if(i.phase==="DROP_ANIMATING"){var l=i.completed;if(l.result.draggableId!==o.draggableId)return null;var u=o.isClone,p=i.dimensions.draggables[o.draggableId],v=l.result,m=v.mode,g=ku(v),b=CO(v),x=i.dropDuration,y={duration:x,curve:Bi.drop,moveTo:i.newHomeClientOffset,opacity:b?tr.opacity.drop:null,scale:b?tr.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:p,dropping:y,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,u,g,b,y)}}}return null};return r}function Au(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var EO={mapped:{type:"SECONDARY",offset:et,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Au(null)}};function OO(){var e=Je(function(o,s){return{x:o,y:s}}),t=Je(Au),n=Je(function(o,s,d){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:d,snapshot:t(s)}}}),r=function(s){return s?n(et,s,!0):null},a=function(s,d,f,h){var c=f.displaced.visible[s],l=!!(h.inVirtualList&&h.effected[s]),u=ha(f),p=u&&u.draggableId===s?d:null;if(!c){if(!l)return r(p);if(f.displaced.invisible[s])return null;var v=kn(h.displacedBy.point),m=e(v.x,v.y);return n(m,p,!0)}if(l)return r(p);var g=f.displacedBy.point,b=e(g.x,g.y);return n(b,p,c.shouldAnimate)},i=function(s,d){if(s.isDragging)return s.critical.draggable.id===d.draggableId?null:a(d.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var f=s.completed;return f.result.draggableId===d.draggableId?null:a(d.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null};return i}var IO=function(){var t=SO(),n=OO(),r=function(i,o){return t(i,o)||n(i,o)||EO};return r},NO={dropAnimationFinished:su},DO=Tc(IO,NO,null,{context:Ui,pure:!0,areStatePropsEqual:Du})(xO);function Pu(e){var t=Zr(Gi),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Ie.createElement(DO,e)}function ba(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Ie.createElement(Pu,oe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function kO(e){var t=E.useContext(ma);t||ce(!1);var n=t.contextId,r=t.isMovementAllowed,a=E.useRef(null),i=E.useRef(null),o=e.children,s=e.droppableId,d=e.type,f=e.mode,h=e.direction,c=e.ignoreContainerClipping,l=e.isDropDisabled,u=e.isCombineEnabled,p=e.snapshot,v=e.useClone,m=e.updateViewportMaxScroll,g=e.getContainerForClone,b=me(function(){return a.current},[]),x=me(function(S){a.current=S},[]);me(function(){return i.current},[]);var y=me(function(S){i.current=S},[]),C=me(function(){r()&&m({maxScroll:hu()})},[r,m]);iO({droppableId:s,type:d,mode:f,direction:h,isDropDisabled:l,isCombineEnabled:u,ignoreContainerClipping:c,getDroppableRef:b});var D=Ie.createElement(uO,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(S){var A=S.onClose,P=S.data,_=S.animate;return Ie.createElement(cO,{placeholder:P,onClose:A,innerRef:y,animate:_,contextId:n,onTransitionEnd:C})}),O=De(function(){return{innerRef:x,placeholder:D,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}},[n,s,D,x]),I=v?v.dragging.draggableId:null,k=De(function(){return{droppableId:s,type:d,isUsingCloneFor:I}},[s,I,d]);function N(){if(!v)return null;var S=v.dragging,A=v.render,P=Ie.createElement(Pu,{draggableId:S.draggableId,index:S.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(_,L){return A(_,L,S)});return Ld.createPortal(P,g())}return Ie.createElement(Gi.Provider,{value:k},o(O,p),N())}var qa=function(t,n){return t===n.droppable.type},Il=function(t,n){return n.draggables[t.draggable.id]},AO=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=oe({},t,{shouldAnimatePlaceholder:!1}),r=Je(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=Je(function(o,s,d,f,h,c){var l=h.descriptor.id,u=h.descriptor.droppableId===o;if(u){var p=c?{render:c,dragging:r(h.descriptor)}:null,v={isDraggingOver:d,draggingOverWith:d?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:p}}if(!s)return n;if(!f)return t;var m={isDraggingOver:d,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),i=function(s,d){var f=d.droppableId,h=d.type,c=!d.isDropDisabled,l=d.renderClone;if(s.isDragging){var u=s.critical;if(!qa(h,u))return n;var p=Il(u,s.dimensions),v=dt(s.impact)===f;return a(f,c,v,v,p,l)}if(s.phase==="DROP_ANIMATING"){var m=s.completed;if(!qa(h,m.critical))return n;var g=Il(m.critical,s.dimensions);return a(f,c,ku(m.result)===f,dt(m.impact)===f,g,l)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var b=s.completed;if(!qa(h,b.critical))return n;var x=dt(b.impact)===f,y=!!(b.impact.at&&b.impact.at.type==="COMBINE"),C=b.critical.droppable.id===f;return x?y?t:n:C?t:n}return n};return i},PO={updateViewportMaxScroll:jS};function TO(){return document.body||ce(!1),document.body}var _O={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:TO},yr=Tc(AO,PO,null,{context:Ui,pure:!0,areStatePropsEqual:Du})(kO);yr.defaultProps=_O;const RO=ye.div`
  margin-top: 16px;
  margin-bottom: 16px;

  .listTitle {
    margin-bottom: 8px;
  }

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none;
  }

  .ant-col {
    margin-bottom: 1px dashed #9f9f9f;
  }

  .addCheckItem {
    color: #9f9f9f;
    cursor: pointer;
    padding: 8px 0;
  }

  .addCheckItemTextArea {
    margin-bottom: 8px;
  }
`,MO=ye.div`
  .isCompletedTitle {
    text-decoration: line-through;
  }

  .isShow {
    display: block;
  }

  .isHidden {
    display: none;
  }

  .underline {
    text-decoration: underline;
  }
`,Tu=ye(Be)`
  min-height: 32px;
  border-bottom: 1px dashed #9f9f9f;
  padding: 5px 8px;

  .checkbox {
    margin-right: 8px;
  }

  .checkboxLoading {
    margin-right: 10px;
  }

  .itemName {
    cursor: pointer;
  }

  .checkbox .ant-checkbox-inner {
    background-color: #ffffff;
    border-color: #ffffff;
  }

  /* Checkbox 選中狀態 */
  .checkbox .ant-checkbox-checked .ant-checkbox-inner {
    background-color: #9f9f9f;
    border-color: #9f9f9f;
  }

  .deleteIcon {
    course: pointer;
    padding: 0;
    position: absolute;
    top: 0;
    right: 0;
    z-index: 1;

    .ant-btn {
      height: auto;
      padding: 0;
    }
  }

  .lineThrough {
    text-decoration: line-through;
  }
`,LO=({itemData:{_id:e,checklistId:t,name:n,completed:r}})=>{const a=we(),i=He(),[o,s]=E.useState(!1),[d,f]=E.useState(n),[h,c]=E.useState(!1),[l,u]=E.useState(!1),[p,v]=E.useState(!1),[m,g]=E.useState(!1),[b,x]=E.useState(!1),y=async I=>{x(!0);try{await a(Qi({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e,completed:I}))}catch(k){console.error(k)}finally{x(!1)}},C=()=>{c(d!==n)},D=async()=>{if(d.trim()!==""){v(!0);try{await a(Qi({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e,name:d}))}catch(I){console.error(I)}finally{v(!1),s(!1)}}},O=async I=>{I.stopPropagation(),g(!0);try{await a(jd({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e}))}catch(k){console.error(k)}finally{g(!1)}};return E.useLayoutEffect(()=>{C()},[o,d]),Z(Tu,{gutter:0,align:"top",children:[w(xe,{flex:"none",children:b?w(si,{className:"checkboxLoading"}):w(Yn,{className:"checkbox",checked:r,onChange:I=>{y(I.target.checked)}})}),Z(xe,{flex:"auto",children:[w(Be,{align:"middle",children:Z(xe,{span:24,onMouseOver:()=>u(!0),onMouseLeave:()=>u(!1),children:[Z("div",{className:o?"isHidden":"isShow",onClick:()=>{s(!0)},children:[w("div",{className:`itemName ${r?"lineThrough":""}`,children:n}),l&&w("span",{className:"deleteIcon",children:w(le,{type:"link",icon:w(qd,{}),onClick:I=>O(I),loading:m})})]}),w("div",{className:h&&!o?"isShow":"isHidden",children:Z(Qe,{children:[w("span",{children:"你在這個項目有未儲存的編輯內容。"}),w(le,{size:"small",type:"link",children:w("span",{onClick:()=>s(!0),className:"underline",children:"檢視編輯"})}),"|",w(le,{size:"small",type:"link",children:w("span",{onClick:()=>f(n),className:"underline",children:"放棄"})})]})})]})}),w(Be,{children:w(xe,{span:24,className:o?"isShow":"isHidden",children:Z(Be,{gutter:[16,4],children:[w(xe,{span:24,children:w(Ue.TextArea,{value:d,onChange:I=>f(I.target.value),onPressEnter:I=>{I.preventDefault(),D()},placeholder:"填寫待辦項目"})}),w(xe,{span:24,children:Z(Qe,{children:[w(le,{type:"primary",size:"small",onClick:D,loading:p,children:"儲存"}),w(le,{size:"small",onClick:()=>s(!1),children:"取消"})]})})]})})})]})]})},$O=({itemsData:e})=>Z(MO,{children:[w(Hd,{percent:(()=>{const n=e.length,r=e.filter(a=>a.completed).length;return Math.round(r/n*100)})()}),e.sort((n,r)=>+n.position-+r.position).map((n,r)=>w(ba,{draggableId:n._id,index:r,children:(a,i)=>w(Be,{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,style:{...a.draggableProps.style,background:(()=>n.completed?"#E9E9E9":i.isDragging?"#83E3FF":"#D6F3FF")()},children:w(xe,{span:24,children:w(LO,{itemData:n})})})},n._id))]}),BO=({listData:{_id:e,name:t,checkItem:n,cardId:r}})=>{const a=we(),[i,o]=E.useState(!1),[s,d]=E.useState(t),[f,h]=E.useState(!1),[c,l]=E.useState(""),[u,p]=E.useState(!1),[v,m]=E.useState(!1),[g,b]=E.useState(!1),[x,y]=E.useState(!1),C=async()=>{if(s.trim()){m(!0);try{await a(zd({cardId:r,checklistId:e,name:s}))}catch(I){console.error(I)}finally{m(!1),o(!1)}}},D=async()=>{if(c.trim()){b(!0);try{await a(Ud({cardId:r,checklistId:e,name:c,position:`${xt(n)}`})),l("")}catch(I){console.error(I)}finally{b(!1),h(!1)}}};return Z(RO,{children:[w(Be,{justify:"space-between",align:"middle",gutter:0,className:"listTitle",children:Z(xe,{span:24,children:[Z(Be,{className:i?"isHidden":"isShow",justify:"space-between",align:"middle",gutter:0,children:[w(xe,{flex:"auto",children:w("div",{onClick:()=>o(!0),children:t})}),w(xe,{flex:"none",children:w($t,{overlayStyle:{width:"300px"},trigger:"click",title:w(Fe,{children:w(Be,{justify:"center",gutter:0,children:w(xe,{flex:"none",children:Z(Qe,{size:8,children:[w(ql,{style:{color:"red"}}),"刪除待辦清單"]})})})}),content:Z(Be,{gutter:0,children:[Z(xe,{span:24,children:[w("br",{}),'確定要刪除"',t,'"嗎？',w("br",{}),"(刪除待辦清單是永久性的，無法復原)",w("br",{}),w("br",{})]}),w(xe,{span:24,children:w(le,{block:!0,danger:!0,onClick:async()=>{y(!0);try{await a(Vd({cardId:r,checklistId:e}))}catch(I){console.error(I)}finally{y(!1),p(!1)}},loading:x,children:"刪除"})}),w(xe,{span:24,children:w(le,{block:!0,type:"text",onClick:()=>p(!1),children:"取消"})})]}),open:u,children:w(le,{onClick:()=>p(!0),children:"刪除"})})})]}),Z(Be,{className:i?"isShow":"isHidden",gutter:[16,4],children:[w(xe,{span:24,children:w(Ue.TextArea,{value:s,onChange:I=>d(I.target.value),onPressEnter:I=>{I.preventDefault(),C()},placeholder:"填寫待辦清單名稱..."})}),w(xe,{span:24,children:Z(Qe,{children:[w(le,{type:"primary",size:"small",onClick:C,loading:v,children:"儲存"}),w(le,{size:"small",onClick:()=>o(!1),children:"取消"})]})})]})]})}),Z(Fe,{children:[w($O,{itemsData:n}),Z(Be,{gutter:[16,4],className:`addCheckItem ${f?"isShow":"isHidden"}`,children:[w(xe,{span:24,children:w(Ue.TextArea,{value:c,onChange:I=>l(I.target.value),onPressEnter:I=>{I.preventDefault(),D()},placeholder:"填寫待辦項目...",className:"addCheckItemTextArea"})}),w(xe,{span:24,children:Z(Qe,{children:[w(le,{type:"primary",onClick:D,loading:g,children:"新增"}),w(le,{onClick:()=>h(!1),children:"取消"})]})})]}),w(Tu,{gutter:0,className:f?"isHidden":"isShow",children:w(xe,{span:24,onClick:()=>h(!0),children:Z(Qe,{size:8,children:[w(rn,{}),w("span",{className:"addCheckItem",children:"新增待辦項目"})]})})})]})]})},FO=({checkLists:e})=>w(Fe,{children:e.sort((t,n)=>+t.position-+n.position).map((t,n)=>w(ba,{draggableId:t._id,index:n,children:(r,a)=>w("div",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,style:{...r.draggableProps.style},children:w(yr,{droppableId:t._id,type:"QUOTE",ignoreContainerClipping:void 0,isDropDisabled:void 0,isCombineEnabled:!1,renderClone:void 0,children:(i,o)=>Z("div",{ref:i.innerRef,style:{minHeight:"1px"},children:[w(BO,{listData:t}),i.placeholder]})})})},t._id))}),qO=()=>{const e=we(),t=He(),n=fn.cloneDeep((t==null?void 0:t.checklist)||[]);return w(Iu,{onDragEnd:r=>{const a=Js(r,n,"CheckList");a&&t&&e(Wd({cardId:t==null?void 0:t._id,checklist:a}))},children:w(yr,{droppableId:"board",type:"COLUMN",direction:"vertical",ignoreContainerClipping:!1,isCombineEnabled:!1,children:r=>Z(Be,{ref:r.innerRef,gutter:8,style:{minHeight:"1px",flexDirection:"column"},children:[w(FO,{checkLists:n}),r.placeholder]})})})},jO=()=>Z(Cg,{style:xg,children:[Z(Be,{justify:"space-between",align:"top",style:{marginBottom:"16px"},children:[w(fC,{}),w(yC,{})]}),w(bC,{}),w(xC,{}),w(qO,{}),w(oC,{}),w(mC,{})]}),HO=()=>{const e=He(),[t,n]=E.useState(!1),r=we();return Z($t,{placement:"bottom",trigger:"click",open:t,onOpenChange:n,content:w(Ul,{accept:".png, .jpg, .gif",onChange:({file:a})=>{a.status==="done"&&Ot({message:`${a.name} 上傳成功`}),a.status==="error"&&Ot({message:`${a.name} 上傳失敗`,success:!1})},customRequest:async a=>{var i,o;if(typeof a.file=="string"||!e){(i=a.onError)==null||i.call(a,new Error("上傳錯誤"));return}try{await r(Vl({file:a.file,filename:`${a.filename}`,cardId:e._id})),(o=a.onSuccess)==null||o.call(a,"")}finally{n(!1)}},children:w(le,{children:"上傳封面圖片"})}),children:[Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(Gl,{})}),w("span",{children:"附件"})]}),!(e!=null&&e.attachment.length)&&Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(zv,{})}),w("span",{children:"封面"})]})]})},zO=()=>{const e=we(),t=nn(),n=He(),[r]=be.useForm(),[a,i]=E.useState({isLoading:!1,isPopoverOpen:!1}),o=async({name:s,cascader:[,d,f,h]})=>{if(n){i(c=>({...c,isLoading:!0}));try{await e(Gd({name:s,boardId:d,listId:f,sourceCardId:n.id,position:`${h}`}))}catch{}t(`/board/${d}`),i({isPopoverOpen:!1,isLoading:!1})}};return w($t,{placement:"bottom",trigger:"click",open:a.isPopoverOpen,onOpenChange:s=>{i({isLoading:!1,isPopoverOpen:s})},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"複製卡片"}),content:w(pt,{spinning:a.isLoading,children:Z(be,{layout:"vertical",form:r,onFinish:o,children:[w(be.Item,{label:"標題",name:"name",rules:[{required:!0,message:"請輸入標題!"}],children:w(Ue,{})}),w(ec,{label:"複製到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(be.Item,{children:w(le,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"建立卡片"})})]})}),children:Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(Ts,{})}),w("span",{children:"複製"})]})})},UO=()=>{const e=we(),t=nn(),n=He(),[r,a]=E.useState(!1);return Z(le,{className:"button-link",loading:r,onClick:async()=>{if(n){a(!0);try{await e(Yd(n._id)),t(`/board/${n.boardId}`)}catch{}a(!1)}},children:[w("span",{style:{marginRight:"6px"},children:w(cv,{})}),w("span",{children:"封存"})]})},Nl=({title:e,data:t,className:n})=>Z("div",{className:n,children:[w("h3",{children:e}),w("div",{className:"action-list",children:t.map(r=>Z(le,{block:!0,className:"button-link",onClick:r.onClickEvent,children:[w("span",{style:{marginRight:"6px"},children:r.icon}),w("span",{children:r.label})]},r.label))})]}),VO=()=>{const e=we(),{setOpenPopover:t,PopoverType:n}=or(),[r,a]=E.useState(!1),[i,o]=E.useState(!1),[s,d]=E.useState(!1),f=ke(l=>l.user.user._id),h=He(),c=async()=>{const l=h==null?void 0:h._id;if(l){a(!0);try{await e(ui({cardId:l,userIdList:[f]})),Ot({message:"加入成功"})}catch{}a(!1)}};return w(Fe,{children:Z(cC,{style:sC,children:[!(h!=null&&h.member.some(l=>l.userId._id===f))&&Z(xe,{children:[w("h4",{children:"建議"}),w(le,{className:"button-link",onClick:c,icon:w(za,{}),loading:r,children:"加入"})]}),i&&w(yc,{setIsOpenAddMember:o,style:{top:" 32px",left:0}}),s&&w(bc,{setIsOpenLabel:d,style:{top:"64px"}}),w(Nl,{className:"mid",title:"新增至卡片",data:[{label:"成員",value:"member",icon:w(za,{}),onClickEvent:()=>{o(!0)}},{label:"標籤",value:"label",icon:w(zs,{}),onClickEvent:()=>{d(!0)}},{label:"代辦清單",value:"checklist",icon:w(xi,{}),onClickEvent:()=>{t({isShow:!0,type:n.CHECKLIST,position:{top:230,right:20}})}},{label:"日期",value:"date",icon:w(gs,{}),onClickEvent:()=>{t({isShow:!0,type:n.DATE,position:{top:100,right:20}})}}]}),w(HO,{}),w(Nl,{className:"mid",title:"動作",data:[]}),w(tc,{children:Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(av,{})}),w("span",{children:"移動"})]})}),w(zO,{}),w($r,{style:{margin:"8px 0"}}),w(UO,{}),Z(le,{className:"button-link",onClick:()=>{navigator.clipboard.writeText(window.location.href),Ot({message:"已複製到剪貼簿"})},children:[w("span",{style:{marginRight:"6px"},children:w(Av,{})}),w("span",{children:"分享"})]})]})})},WO={color:"var(--modal-color)"},GO=ye(di)``,YO=ye(Wl)`
  .ant-modal-close {
    width: 24px;
    height: 24px;
    top: 24px;
    right: 24px;
  }

  .ant-modal-content {
    color: var(--modal-color);
    padding-top: 0;
    padding-left: 0;
    padding-right: 0;
  }

  .ant-modal-body {
    padding-left: 24px;
    padding-right: 24px;
  }

  .spin {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
`,KO=()=>Z(GO,{style:WO,children:[w(jO,{}),w(VO,{})]}),XO=()=>{const e=He(),t=nn(),n=we();E.useEffect(()=>{e&&n(Kd(e._id))},[e==null?void 0:e._id]);const r=()=>{t(`/board/${e==null?void 0:e.boardId}`)};return e?Z(YO,{open:!!e,onOk:r,onCancel:r,width:768,title:w(yg,{}),footer:null,children:[w(KO,{}),w(fg,{})]}):null},_u=E.createContext(null),ZO=({children:e})=>{const t=ke(Xd),n=E.useRef(null),[r,a]=E.useState(!1),[i,o]=E.useState();E.useEffect(()=>(n.current=new WebSocket(t),n.current.addEventListener("open",()=>{a(!0)}),n.current.addEventListener("error",d=>{a(!1),console.error(d)}),n.current.addEventListener("close",d=>{a(!1),console.log(d)}),n.current.addEventListener("message",d=>{const f=JSON.parse(d.data);f.type==="update"&&o(f.result)}),()=>{n.current&&r&&n.current.close()}),[]);const s=d=>{n.current&&r&&n.current.send(JSON.stringify(d))};return w(_u.Provider,{value:[i,s],children:e})},QO=()=>{const e=E.useContext(_u);if(!e)throw new Error;return e},JO=e=>{const t=ke(ot),n=we(),[r,a]=E.useState(!1),i=async()=>{a(!0),await n(Zd({boardId:t._id,memberId:e.userId._id})),a(!1)};return w($t,{placement:"bottom",trigger:"click",title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"從看板上移除"}),content:Z("div",{children:[w("p",{style:{paddingBottom:10},children:`${e.userId.name} 將從此看板成員中移除。`}),w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:w(le,{danger:!0,type:"primary",style:{width:"100%"},loading:r,onClick:i,children:"移除"})})]}),children:w(le,{shape:"circle",danger:!0,style:{width:"24px",height:"24px",padding:0,minWidth:"auto",marginLeft:"8px"},icon:w(Bs,{}),loading:r})})},eI=e=>{const t=we(),n=ke(ot),[r,a]=E.useState(!1),i=async o=>{a(!0),await t(Qd({boardId:n._id,memberId:e.userId._id,role:o})),a(!1)};return w(gn,{loading:r,defaultValue:e.role,style:{width:"100px"},size:"large",options:[{value:"manager",label:"管理員"},{value:"editor",label:"成員"},{value:"viewer",label:"一般"}],onChange:i})},tI=e=>Z("div",{className:"d-space",style:{marginBottom:"12px"},children:[Z("div",{className:"d-flex",children:[w(Ut,{username:e.userId.name,imgUrl:e.userId.avatar,style:{width:"40px",height:"40px"}}),Z("div",{style:{marginLeft:"8px"},children:[w("div",{style:{color:"var(--black23)"},children:e.userId.name}),w("div",{style:{fontSize:"12px",color:"var(--gray9f)"},children:e.userId.email})]})]}),Z("div",{className:"d-flex",style:{alignItems:"center"},children:[w(eI,{...e}),w(JO,{...e})]})]}),nI=({open:e,setOpen:t})=>{var h;const n=ke(ot),r=we(),[a]=be.useForm(),[i,o]=E.useState(!1),[s,d]=E.useState({userIdList:[]});return Z(Jd,{open:e,footer:null,onCancel:()=>t(!1),width:576,children:[w("div",{className:"header",children:"邀請看板成員"}),Z(be,{form:a,onFinish:async()=>{o(!0);try{await r(nf({boardId:n._id,userIdList:s.userIdList}))}catch{}d({userIdList:[]}),t(!1),o(!1),a.resetFields()},children:[w(be.Item,{name:"invite",className:"user",children:w(ef,{selectedUsers:s,setSelectedUsers:d})}),w(be.Item,{initialValue:"user",className:"select",children:w(gn,{options:[{value:"manager",label:"管理員"},{value:"editor",label:"成員"},{value:"viewer",label:"一般"}]})}),w(be.Item,{className:"btn",children:w(le,{type:"primary",htmlType:"submit",loading:i,children:"邀請"})})]}),(h=n.member)==null?void 0:h.map(c=>E.createElement(tI,{...c,key:c.userId._id})),w($r,{style:{margin:"12px 0"}}),Z("div",{className:"d-flex",style:{justifyContent:"right",alignItems:"center"},children:[w("p",{children:"透過連結邀請新成員加入看板"}),w(tf,{setOpen:t,style:{backgroundColor:"var(--graye9)",marginLeft:"16px"},type:"BOARD"})]})]})},rI=ye.div`
  margin-bottom: 16px;
  .right-head {
    display: flex;
    column-gap: 16px;
  }
`,Dl=ye(le)`
  color: white;
  background-color: var(--black23);
  padding: 8px;
  display: flex;
  align-items: center;
  height: 36px;
`,aI=ye.div`
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,iI=ye.div`
  .top-border {
    border-top: 1px solid var(--grayd5);
    padding: 8px 0;
  }
  .listBtn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .hoverBtn:hover {
    background-color: black;
    opacity: 0.3;
  }
`,oI=ye.div`
  color: white;
  font-size: 24px;
  font-weight: 700;
  display: flex;
  align-items: center;

  input {
    font-size: 24px;
    font-weight: 700;
  }

  p {
    transition: background-color 0.3s;
    cursor: pointer;
    border-radius: 8px;
    padding: 10px;

    &:hover {
      background-color: var(--gray66);
    }
  }
`,lI=()=>{const e=we(),t=ke(ot),[n,r]=E.useState(!1),a=async i=>{const o=i.target.value;o!==t.name&&(o==null?void 0:o.length)>=2&&await e(Yl({name:o,boardId:t._id})),r(!1)};return Z(oI,{children:[w(rf,{size:"32px","background-image":(t==null?void 0:t.image)&&`url(${t.image})`}),w("div",{style:{marginLeft:"6px"},children:n?w(Ue,{defaultValue:t.name,ref:i=>{i&&(i.focus(),r(!0))},onBlur:a,onPressEnter:a}):w("p",{onClick:()=>r(!0),children:t.name})})]})},sI=({data:e,setSpinning:t,setData:n,setState:r})=>{const a=we(),i=d=>{n(f=>({...f,closedCard:f.closedCard.filter(h=>h._id!==d)}))},o=async d=>{t(!0),await a(ci({cardId:d,closed:!1})),i(d),t(!1)},s=async d=>{t(!0),await a(af(d)),i(d),t(!1)};return w(st,{bordered:!0,header:Z("div",{className:"d-flex",style:{justifyContent:"space-between"},children:[w("p",{children:"卡片"}),w(le,{size:"small",onClick:()=>r("LIST"),children:"切換至列表"})]}),dataSource:e==null?void 0:e.closedCard,pagination:{onChange:d=>{},pageSize:10},renderItem:d=>w(st.Item,{actions:[w(le,{size:"small",type:"primary",icon:w(Vs,{}),onClick:()=>o(d._id),children:"發送到看板"}),w(le,{danger:!0,size:"small",type:"primary",onClick:()=>s(d._id),children:"刪除"})],children:d.name})})},cI=({data:e,setSpinning:t,setData:n,setState:r})=>{const a=we(),i=s=>{n(d=>({...d,closedList:d.closedList.filter(f=>f._id!==s)}))},o=async s=>{t(!0),await a(Kl({listId:s,closed:!1})),i(s),t(!1)};return w(st,{bordered:!0,header:Z("div",{className:"d-flex",style:{justifyContent:"space-between"},children:[w("p",{children:"列表"}),w(le,{size:"small",onClick:()=>r("CARD"),children:"切換至卡片"})]}),dataSource:e==null?void 0:e.closedList,pagination:{onChange:s=>{},pageSize:10},renderItem:s=>w(st.Item,{actions:[w(le,{size:"small",type:"primary",icon:w(Vs,{}),onClick:()=>o(s._id),children:"發送到看板"})],children:s.name})})},uI=()=>{const e=ke(ot),[t,n]=E.useState({closedList:[],closedCard:[]}),[r,a]=E.useState(!1),[i,o]=E.useState("CARD");return E.useEffect(()=>{a(!0),of(e._id).then(({result:s})=>{n(s)}).finally(()=>{a(!1)})},[]),Z(pt,{spinning:r,children:[i==="CARD"&&w(sI,{data:t,setData:n,setSpinning:a,setState:o}),i==="LIST"&&w(cI,{data:t,setData:n,setSpinning:a,setState:o})]})},dI=ye.div`
  .createLabelView {
    position: absolute;
    width: 250px;
    background: #ffffff;
    box-shadow: 0px -1px 16px rgba(0, 0, 0, 0.16);
    right: -15px;
    top: 19px;
    border-radius: 8px;
  }
  .peopleTitle {
    display: flex;
    height: 40px;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    text-align: center;
    border-bottom: 1px solid var(--ds-border, #091e4221);
  }
  .label {
    font-size: 14px;
    line-height: 16px;
    margin-top: 12px;
  }
  .top-border {
    margin-top: 10px;
  }
  .hoverBtn {
    width: 100%;
    height: 100%;
    position: absolute;
    border-radius: 4px;
    left: 0;
    top: 0;
  }
`,fI=ye.div`
  position: relative;
  width: 100%;
  height: 101px;
  background-color: var(--ds-surface-sunken, #f4f5f7);

  div {
    position: absolute;
    width: 80%;
    height: 40%;
    background-color: ${({labelColor:e})=>e};
    left: 10%;
    top: 30%;
    text-align: center;
    line-height: 40px;
    font-size: 16px;
    border-radius: 4px;
  }
`,hI=ye(le)`
  color: white;
  background-color: ${({color:e})=>e};
  border: 1px solid white;
  border-radius: 4px;
  width: 31%;
  height: 36px;
  margin-top: 8px;
  margin-right: 5.2px;
`,pI=ye(Ue)`
  width: 100%;
  height: 32px;
  border-radius: 4px;
  margin-top: 8px;
`,vI=ye(le)`
  color: ${({color:e})=>e};
  background-color: ${e=>e["background-color"]};
  border: 1px solid white;
  border-radius: 4px;
  width: 100%;
  height: 34px;
  padding: 0 12px;
  margin-top: 10px;
`,gI=ye(le)`
  width: 32px;
  height: 32px;
  padding: 0;
  margin-top: 10px;
  color: var(--gray66);
  z-index: 0;
`,mI=ye(le)`
  font-weight: bold;
  color: white;
  border: 1px solid white;
  border-radius: 4px;
  width: 100%;
  height: 38px;
  margin-top: -15px;
  background-color: #d4d4d4;
  &:hover {
    background-color: #bebebe;
  }
`,kl=ye(le)`
  width: ${({width:e})=>e};
  height: 32px;
  margin-top: 5px;
  border-radius: 4px;
`,yI=({labelId:e,setState:t})=>{const n=we(),r=ke(ot),a=ke(lf(e)),[i]=be.useForm(),o=be.useWatch("labelName",i),s=be.useWatch("labelColor",i),[d,f]=E.useState(!1),h=async u=>{f(!0);try{e&&a?await n(Hl({name:u.labelName,color:u.labelColor,boardId:a.boardId,labelId:a._id})):await n(jl({name:u.labelName,color:u.labelColor,boardId:r._id}))}catch{}f(!1),l()},c=async()=>{if(a){f(!0);try{await n(zl({boardId:a.boardId,labelId:a._id}))}catch{}f(!1),l()}},l=()=>{t("NONE")};return Z("div",{className:"createLabelView",style:{zIndex:2060},children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"標籤"}),w(le,{size:"small",type:"text",icon:w(ht,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>t("NONE")})]}),Z(be,{form:i,initialValues:e?{labelName:a==null?void 0:a.name,labelColor:a==null?void 0:a.color}:{labelName:"",labelColor:"#DFE1E6"},onFinish:h,children:[w(fI,{labelColor:s,children:w("div",{children:o})}),Z("div",{style:{padding:"0 12px"},children:[w("p",{className:"label",children:"標題"}),w(be.Item,{name:"labelName",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(pI,{placeholder:"輸入標籤名稱"})}),w("p",{className:"label",style:{marginTop:"-12px"},children:"選一個顏色"}),w(be.Item,{name:"labelColor",children:w("div",{children:kt==null?void 0:kt.map(({color:u})=>w(hI,{type:"link",color:u,onClick:()=>{i.setFieldValue("labelColor",u)},children:w("div",{className:"hoverBtn"})},u))})}),w(mI,{className:"createLabelBtn",type:"primary",icon:w(ht,{}),disabled:s==="#DFE1E6",onClick:()=>i.setFieldValue("labelColor","#DFE1E6"),children:"移除顏色"}),Z("div",{className:"top-border",style:e?{display:"flex",justifyContent:"space-between"}:void 0,children:[w(kl,{htmlType:"submit",width:e?"40%":"50%",loading:d,children:e?"儲存":"建立"}),e&&w(kl,{width:"40%",danger:!0,loading:d,onClick:()=>c(),children:"刪除"})]})]})]})]})},bI=({openEdit:e})=>{const t=ke(ot),[n,r]=E.useState(""),a=t==null?void 0:t.label.filter(({name:i})=>i.includes(n));return Z(Fe,{children:[w(Ue,{allowClear:!0,placeholder:"搜尋標籤...",onChange:i=>{r(i.target.value)}}),w(Qe,{style:{display:"flex"},children:w(Qe.Compact,{direction:"vertical",style:{width:200},children:a.map(i=>Z("div",{style:{display:"flex",justifyContent:"center"},children:[w(vI,{color:fi(i.color)?"white":"black","background-color":i.color,onClick:()=>e(i._id),children:i.name}),w(gI,{type:"text",icon:w(hi,{}),onClick:()=>e(i._id)})]},i._id))})})]})},xI=()=>{const[e,t]=E.useState("NONE"),[n,r]=E.useState("");return Z(dI,{className:"top-border",children:[w(bI,{openEdit:i=>{t("EDIT"),r(i)}}),w(le,{type:"primary",style:{width:"100%",height:"32px",marginTop:"13px",borderRadius:"4px",marginBottom:"-5px"},onClick:()=>t("CREATE"),children:"建立新標籤"}),e!=="NONE"&&w(yI,{labelId:n,setState:t})]})},CI=ye(le)`
  width: 100%;
  span:last-child {
    margin: 0;
  }
  display: flex;
  align-items: center;
`,en=e=>w(CI,{...e,type:"text",style:{padding:0},children:e.text}),wI=()=>{var d;const[e,t]=E.useState({isLoading:!1,isPopoverOpen:!1}),[n]=be.useForm(),{boardId:r}=Jr(),a=ke(nr),i=nn(),o=we(),s=async f=>{if(r){t(h=>({...h,isLoading:!0}));try{await o(sf({...f,sourceBoardId:r})),i(`/workspace/${f.organizationId}/home`)}catch{}t({isPopoverOpen:!1,isLoading:!1})}};return w($t,{placement:"bottom",trigger:"click",open:e.isPopoverOpen,onOpenChange:f=>{t(h=>({...h,isPopoverOpen:f}))},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"複製看板"}),content:w(pt,{spinning:e.isLoading,children:Z(be,{layout:"vertical",form:n,onFinish:s,initialValues:{organizationId:(d=a.find(({board:f})=>f.map(({id:h})=>h).includes(`${r}`)))==null?void 0:d.id},children:[w(be.Item,{name:"name",label:"看板名稱",rules:[{required:!0,message:"請輸入看板名稱!"}],children:w(Ue,{})}),w(be.Item,{name:"organizationId",label:"工作區",rules:[{required:!0,message:"請選擇工作區!"}],children:w(gn,{onChange:f=>{n.setFieldsValue({organizationId:f})},options:a.map(({_id:f,name:h})=>({value:f,label:h}))})}),w(be.Item,{children:w(le,{htmlType:"submit",type:"primary",children:"新建"})})]})}),children:w(en,{icon:w(Ts,{style:{fontSize:"20px",marginRight:"12px"}}),text:"複製看板"})})},SI=({setHeaderState:e})=>Z(Fe,{children:[Z("div",{className:"top-border listBtn",children:[w(en,{icon:w(za,{style:{fontSize:"20px",marginRight:"12px"}}),text:"查看看板管理員",onClick:()=>e("USER")}),w(en,{icon:w(Nv,{style:{fontSize:"20px",marginRight:"12px"}}),text:"設定",onClick:()=>e("SETTING")}),w(en,{icon:w(zs,{style:{fontSize:"20px",marginRight:"12px"}}),text:"標籤",onClick:()=>e("LABEL")}),w(en,{icon:w(Rs,{style:{fontSize:"20px",marginRight:"12px"}}),text:"已封存的項目",onClick:()=>e("ARCHIVE")})]}),Z("div",{className:"top-border listBtn",children:[w(wI,{}),w(en,{icon:w($v,{style:{fontSize:"20px",marginRight:"12px"}}),text:"分享",onClick:()=>{navigator.clipboard.writeText(window.location.href),Ot({message:"已複製到剪貼簿"})}})]}),w("div",{className:"top-border",style:{paddingBottom:0},children:w(en,{icon:w(gv,{style:{fontSize:"20px",marginRight:"12px"}}),text:"退出看板",danger:!0})})]}),EI=({setState:e,setPeople:t})=>{const n=r=>{const a=r.currentTarget.innerText.split(`

`)[0];t(a),e("NONE")};return Z("div",{className:"peopleView",children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"評論權限"}),w(le,{size:"small",type:"text",icon:w(ht,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>e("NONE")})]}),Z("div",{className:"peopleContent",children:[Z(le,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["Disabled",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"沒有人可以發表評論"})]}),Z(le,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["成員",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"管理員及成員可以發表評論"})]}),Z(le,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["工作區成員",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"此工作區的所有成員皆可發表評論"})]})]})]})},OI=({setState:e})=>{const t=ke(ot),n=ke(nr),r=n.find(({_id:f})=>f===(t==null?void 0:t.organizationId)),a=we(),i=nn(),[o,s]=E.useState(!1);return Z("div",{className:"changeWorkSpaceView",children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"變更工作區"}),w(le,{size:"small",type:"text",icon:w(ht,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>e("NONE")})]}),w("div",{className:"",children:w("div",{style:{position:"relative"},children:Z(be,{onFinish:async f=>{t&&(s(!0),await a(Yl({organizationId:f.orgID,permission:t.permission,boardId:t._id})),await a(cf(f.orgID)),s(!1),i(`/workspace/${f.orgID}/home`))},style:{maxWidth:400,padding:"0 12px",width:"310px"},children:[w(be.Item,{name:"orgID",label:"該看板隸屬於",style:{marginTop:"-3px"},children:w(gn,{placeholder:r==null?void 0:r.name,allowClear:!0,style:{position:"absolute",top:"30px",left:"-60px",width:"120%",marginLeft:"-38px"},options:n.map(({_id:f,name:h})=>({value:f,label:h}))})}),w(be.Item,{name:"boardOrgName",children:w(le,{type:"primary",htmlType:"submit",style:{position:"absolute",width:"80%",top:"15px",left:"-2px"},loading:o,children:"修改"})})]})})})]})},II=ye.div`
  .peopleView {
    position: absolute;
    width: 250px;
    height: 260px;
    background: #ffffff;
    box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.16);
    right: -25px;
    top: 0px;
    border-radius: 8px;
  }
  .peopleTitle {
    display: flex;
    height: 40px;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    text-align: center;
    border-bottom: 1px solid var(--ds-border, #091e4221);
  }

  .changeWorkSpaceView {
    position: absolute;
    width: 250px;
    height: 160px;
    background: #ffffff;
    box-shadow: 0px -1px 16px rgba(0, 0, 0, 0.16);
    right: -25px;
    top: 19px;
    border-radius: 8px;
  }
`,NI=()=>{var f;const[e,t]=E.useState("NONE"),[n,r]=E.useState("成員"),a=ke(ot),o=(f=ke(nr).find(({_id:h})=>h===(a==null?void 0:a.organizationId)))==null?void 0:f.name;return Z(II,{children:[w("div",{className:"top-border",children:Z(le,{type:"text",onClick:()=>{t("WORKSPACE")},style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["變更工作區...",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:o})]})}),w("div",{className:"top-border",children:Z(le,{type:"text",onClick:()=>{t("PEOPLE")},style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["評論權限...",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:n})]})}),e==="WORKSPACE"&&w(OI,{setState:t}),e==="PEOPLE"&&w(EI,{setState:t,setPeople:r})]})},DI=()=>{const e=ke(uf);return w("div",{className:"top-border",style:{paddingBottom:0},children:e==null?void 0:e.map(({userId:t})=>Z("div",{style:{display:"flex"},children:[w(Ut,{username:t.name,imgUrl:t.avatar}),w("p",{style:{marginTop:"5px",marginLeft:"5px"},children:t.name})]},t._id))})},kI=({headerState:e,setHeaderState:t})=>Z(iI,{children:[e==="MENU"&&w(SI,{setHeaderState:t}),e==="USER"&&w(DI,{}),e==="SETTING"&&w(NI,{}),e==="LABEL"&&w(xI,{}),e==="ARCHIVE"&&w(uI,{})]}),AI=({headerState:e,setHeaderState:t,setOpenPopover:n})=>{const r={MENU:"選單",USER:"查看看板管理員",SETTING:"設定",LABEL:"標籤",ARCHIVE:"封存"}[e];return w(aI,{children:Z(Fe,{children:[r,w(le,{size:"small",type:"text",icon:w(ht,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>{n(!1),t("MENU")}}),e!=="MENU"&&w(le,{size:"small",type:"text",style:{position:"absolute",left:-2,top:2},icon:w(dn,{style:{color:"var(--gray66)",fontSize:"16px"}}),onClick:()=>t("MENU")})]})})},PI=()=>{var s;const e=ke(ot),[t,n]=E.useState(!1),[r,a]=E.useState(!1),[i,o]=E.useState("MENU");return Z(rI,{className:"d-space",children:[w(lI,{}),Z("div",{className:"right-head",children:[w(Kn.Group,{children:(s=e==null?void 0:e.member)==null?void 0:s.map(({userId:{avatar:d,name:f,_id:h}})=>w(Fl,{placement:"top",title:f,children:w(Ut,{username:f,imgUrl:d})},h))}),w(Dl,{icon:w(Ca.FilterOutlined,{style:{fontSize:"16px"}}),children:"篩選"}),w(Dl,{icon:w(Ca.TeamOutlined,{style:{fontSize:"16px"}}),onClick:()=>n(!0),children:"邀請成員"}),w($t,{placement:"bottomRight",arrow:!1,title:w(AI,{headerState:i,setHeaderState:o,setOpenPopover:a}),content:w(kI,{headerState:i,setHeaderState:o}),trigger:"click",open:r,onOpenChange:d=>{d||o("MENU"),a(d)},children:w(le,{type:"link",style:{width:"32px",height:"32px",padding:0},children:w(Ca.DashOutlined,{style:{color:"white",fontSize:"16px"}})})})]}),w(nI,{open:t,setOpen:n})]})},TI=ye(be)`
  height: ${e=>e.useadd==="true"?"88px":"40px"};
  display: flex;
  background-color: ${e=>e.useadd==="true"?"var(--gray66)":"var(--black23)"};
  min-width: 280px;
  width: 280px;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  .addCard {
    color: white;
    font-size: 16px;
    font-weight: 700;
    padding: 4px 12px 4px 8px;
    width: 109px;
    height: 32px;
  }
  .addCard:hover {
    background-color: var(--black);
    border-radius: 8px;
  }
`,_I=()=>{const e=ke(ot),t=we(),[n,r]=E.useState(!1),[a,i]=E.useState(!1),[o,s]=E.useState(""),d=E.useRef(null),f=async()=>{i(!0);try{await t(df({name:o,boardId:e._id,position:`${xt(e.list)}`}))}catch{}i(!1),r(!1)};return E.useEffect(()=>{var h;n&&((h=d.current)==null||h.focus({cursor:"start"}))},[n]),w(Fe,{children:a?w("div",{children:w(pt,{})}):w(TI,{useadd:n.toString(),onBlur:()=>r(!1),onMouseDown:h=>h.preventDefault(),onFinish:f,children:Z(Be,{children:[w("a",{onClick:()=>{r(h=>!h),s("")},className:"addCard",style:{display:n?"none":"block"},children:Z(xe,{flex:"auto",children:[w(rn,{style:{fontSize:"16px",marginRight:"10px"}}),"新增列表"]})}),Z(xe,{style:{display:n?"block":"none",width:"100%",transition:"all 10s ease"},children:[Z(be.Item,{style:{marginBottom:0},children:[w(Ue,{type:"text",name:"title",placeholder:"輸入標題",value:o,onChange:h=>s(h.target.value),autoComplete:"off",ref:d,style:{width:"224px"}}),w(le,{type:"text",icon:w(ht,{style:{color:"white"}}),onClick:()=>{r(!1)},style:{marginLeft:"5px"}})]}),w(be.Item,{style:{marginTop:"8px",display:"flex",justifyContent:"center",marginBottom:0},children:w(le,{htmlType:"submit",type:"primary",style:{padding:"4px 12px"},disabled:o.length<2,children:"新增"})})]})]})})})},Ru=E.createContext(null),RI=({children:e})=>{const[t,n]=E.useState(!1),[r,a]=E.useState("NONE");return w(Ru.Provider,{value:{showAddCard:t,setShowAddCard:n,popoverState:r,setPopoverState:a},children:e})},Tt=()=>{const e=E.useContext(Ru);if(!e)throw new Error;return e},MI=({listId:e})=>{const t=we(),{setShowAddCard:n,setPopoverState:r}=Tt(),[a,i]=E.useState(!1);return Z(pt,{spinning:a,children:[w(Pr,{className:"popoverList",selectedKeys:[],items:[{key:"newCard",label:"新增卡片",onClick:()=>{n(!0),r("NONE")}},{key:"CLONE",label:"複製列表",onClick:()=>r("CLONE")},{key:"MOVE",label:"移動列表",onClick:()=>r("MOVE")}]}),w($r,{style:{margin:"8px 0"}}),w(Pr,{className:"popoverList",selectedKeys:[],items:[{key:"MOVE_CARD",label:"移動這個列表裡的所有卡片",onClick:()=>r("MOVE_CARD")},{key:"CLOSED_CARD",label:"封存這個列表裡的所有卡片",onClick:()=>r("CLOSED_CARD")}]}),w($r,{style:{margin:"8px 0"}}),w(Pr,{className:"popoverList",selectedKeys:[],items:[{key:"closeList",label:"封存這個列表",onClick:async()=>{i(!0);try{await t(ff(e))}catch{}i(!1),r("NONE")}}]})]})},LI=({listId:e})=>{const t=we(),n=ke(ot),r=ke(pi(e)),{setPopoverState:a}=Tt(),[i,o]=E.useState(!1),s=async({name:d})=>{if(!r)return;o(!0);const f=(()=>{const h=n.list.map(({_id:l,position:u})=>({_id:l,position:u})).sort((l,u)=>+l.position-+u.position),c=1+h.findIndex(({_id:l})=>l===r._id);return`${xt(h,c)}`})();try{await t(hf({sourceListId:r._id,name:d,position:f}))}catch{}o(!1),a("NONE")};return w(pt,{spinning:i,children:Z(be,{layout:"vertical",initialValues:{name:r==null?void 0:r.name},onFinish:s,children:[w(be.Item,{name:"name",label:"名子",children:w(Ue.TextArea,{})}),w(be.Item,{children:w(le,{type:"primary",htmlType:"submit",children:"建立列表"})})]})})},$I=({listId:e})=>{const t=we(),{setPopoverState:n}=Tt(),[r,a]=E.useState(!1);return Z(pt,{spinning:r,children:[w("p",{children:"將移除所有本看板中此列表上的卡片。如欲閱覽已封存的卡片並將卡片移回看板，請點選「選單」>「已封存的項目」。"}),w("br",{}),w(le,{danger:!0,type:"primary",style:{width:"100%"},onClick:async()=>{a(!0);try{await t(pf(e))}catch{}a(!1),n("NONE")},children:"全部封存"})]})},BI=e=>{const t=ke(nr),[n,r]=E.useState(t.filter(({board:i})=>i.length).map(({id:i,name:o,board:s})=>({value:i,label:o,children:s.map(({id:d,name:f})=>({value:d,label:f,isLeaf:!1}))}))),a=async i=>{const o=i[i.length-1];if(!o||i.length!==2)return;const{result:s}=await Ll(`${o.value}`);o.children=[...s.list.sort((d,f)=>+d.position-+f.position).map((d,f,h)=>({value:xt(h,f),label:f})),{value:xt(s.list,s.list.length),label:s.list.length}],r([...n])};return w(be.Item,{...e,children:w(ps,{placement:"bottomRight",options:n,loadData:a})})},FI=({listId:e})=>{const t=we(),n=ke(pi(e)),{setPopoverState:r}=Tt(),[a,i]=E.useState(!1);return w(pt,{spinning:a,children:Z(be,{layout:"vertical",onFinish:async({cascader:[,s,d]})=>{if(n){i(!0);try{await t(vf({listId:n._id,sourceBoardId:n.boardId,boardId:s,position:`${d}`}))}catch{}i(!1),r("NONE")}},children:[w(BI,{label:"移動到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(be.Item,{children:w(le,{type:"primary",htmlType:"submit",children:"移動"})})]})})},qI=({listId:e})=>{const t=we(),{setPopoverState:n}=Tt(),r=ke(ot),[a,i]=E.useState(!1),o=async s=>{const[d,f]=[e,s].map(c=>{var l;return fn.cloneDeep((l=r.list.find(({_id:u})=>u===c))==null?void 0:l.card)});if(!d||!f)return;i(!0);const h=d.map(c=>(c.position=`${xt(f)}`,f.push(c),t(ci({cardId:c._id,position:c.position,listId:s}))));try{await Promise.all(h)}catch{}i(!1),n("NONE")};return w(pt,{spinning:a,children:w(Pr,{className:"popoverList",selectedKeys:[],items:[...r.list].sort((s,d)=>+s.position-+d.position).map(({_id:s,name:d})=>({key:s,label:Z(Fe,{children:[d,s===e&&" (目前版本)"]}),disabled:s===e})),onClick:({key:s})=>o(s)})})},jI=({listId:e})=>{const{popoverState:t}=Tt();return Z(Fe,{children:[t==="ACTION"&&w(MI,{listId:e}),t==="CLOSED_CARD"&&w($I,{listId:e}),t==="MOVE_CARD"&&w(qI,{listId:e}),t==="MOVE"&&w(FI,{listId:e}),t==="CLONE"&&w(LI,{listId:e})]})},HI=ye.div`
  display: flex;
  align-content: center;
  justify-content: space-between;
  .button-hover:hover {
    background-color: var(--black);
  }

  input {
    font-size: "16px";
    font-weight: 700;
    line-height: 150%;
  }

  p {
    font-size: "16px";
    font-weight: 700;
    line-height: 150%;
    transition: background-color 0.3s;
    border-radius: 8px;
    &:hover {
      background-color: var(--gray66);
    }
  }
`,zI=ye.div`
  position: relative;
  display: flex;
  align-content: center;
  justify-content: center;
  .title {
    line-height: 41px;
  }
  .popoverCloseIcon {
    position: absolute;
    top: 5px;
    right: 0px;
  }
  border-bottom: 1px solid var(--divider-gray);
`,UI=()=>{const{popoverState:e,setPopoverState:t}=Tt(),n={NONE:"",ACTION:"列表動作",CLOSED_CARD:"封存此列表上的所有卡片？",MOVE:"移動列表",CLONE:"複製列表",MOVE_CARD:"移動所有列表中的卡片"}[e];return Z(zI,{children:[w("span",{className:"title",children:n}),w(le,{icon:w(ht,{}),type:"text",className:"popoverCloseIcon",onClick:()=>t("NONE")}),e!=="ACTION"&&w(le,{type:"text",style:{position:"absolute",left:-2,top:5},icon:w(dn,{}),onClick:()=>t("ACTION")})]})},VI=({listId:e})=>{const t=we(),{setShowAddCard:n,popoverState:r,setPopoverState:a}=Tt(),i=ke(pi(e)),[o,s]=E.useState(!1),[d,f]=E.useState(!1),h=async c=>{const l=c.target.value;i&&(i==null?void 0:i.name)!==l&&(l==null?void 0:l.length)>=2&&(f(!0),await t(Kl({listId:i._id,name:l}))),f(!1),s(!1)};return Z(HI,{children:[o?w(pt,{spinning:d,children:w(Ue,{ref:c=>{c&&(c.focus(),s(!0))},placeholder:"請輸入標題",defaultValue:i==null?void 0:i.name,onBlur:h,onPressEnter:h})}):w("p",{onClick:()=>s(!0),children:i==null?void 0:i.name}),Z("div",{className:"d-flex",children:[w(le,{className:"button-hover",type:"text",icon:w(rn,{style:{color:"white"}}),title:"新增卡片",onClick:()=>n(!0)}),w($t,{placement:"bottomLeft",content:w(jI,{listId:e}),title:w(UI,{}),trigger:"click",open:r!=="NONE",arrow:!1,onOpenChange:c=>{a(c?"ACTION":"NONE")},overlayStyle:{width:"280px"},children:w(le,{icon:w(Xl,{style:{color:"white"}}),type:"text",className:"button-hover"})})]})]})},WI=ye(Mt)`
  width: 280px;
  border: 0px;

  .ant-card-meta-title {
    color: white;
  }
  background-color: ${e=>e.isdragging==="true"?" var(--gray66)":"var(--black23)"};

  animation: ${e=>e.isdragging==="true"&&"rotate 0s linear forwards"};

  @keyframes rotate {
    100% {
      transform: rotate(-5.75deg);
    }
  }
  .ant-card-body {
    padding: 8px;
  }
`,GI=ye.div`
  overflow-x: hidden;
  overflow-y: ${e=>e.internalScroll?"auto":"hidden"};
  max-height: calc(100vh - 106px);
  &::-webkit-scrollbar {
    width: 9px;
    background: transparent;
  }
  &::-webkit-scrollbar-track {
    background-color: var(--black23);
    border-radius: 8px;
  }
  &::-webkit-scrollbar-thumb {
    border-radius: 10px;
    background-color: var(--gray9f);
    border: 2px solid var(--black23);
  }
`,YI=ye.div`
  display: ${e=>e.show==="true"?"none":"block"};
  height: 37px;
  margin-top: 8px;
  width: 264px;
  height: 37px;
  .add-title {
    width: 100%;
  }
  .add-title:hover {
    background-color: #404040 !important;
  }
  span {
    margin-inline-start: 12px !important;
  }
`,KI=ye(Mt)`
  padding: 8px;
  min-height: 1px;
  background-color: var(--gray66);
  border-radius: 8px;
  display: ${e=>e.useadd==="true"?"block":"none"};
  .bottom-func {
    margin-top: 8px;
    display: flex;
  }
  width: 100%;
  cursor: pointer;
`,XI=()=>{const{showAddCard:e,setShowAddCard:t}=Tt();return w(YI,{show:e.toString(),children:w(le,{type:"text",icon:w(rn,{style:{color:"white"}}),className:"add-title",onClick:()=>t(!0),style:{color:"white",backgroundColor:"var(--black23)",height:"100%"},children:"新增卡片"})})},ZI=ye.div`
  display: flex;
  padding: 0 12px;
  margin-top: 8px;
  .checkList {
    display: flex;
    width: 235px;
    overflow: hidden;
  }
  .items {
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-left: 5px;
  }
`,QI=ye.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
  margin-top: 6px;
  max-width: 160px;
  font-size: 12px;
  height: 24px;
  background-color: ${({dueComplete:e,isDue:t})=>e==="true"?"#1f845a":t==="true"?"#ffedeb":void 0};
  color: ${({dueComplete:e,isDue:t})=>e==="true"?"#ffffff":t==="true"?"#ae2a19":void 0};
  .showDate {
    margin-left: 8px;
    letter-spacing: 2px;
  }
`,JI=ye.div`
  display: flex;
  column-gap: 6px;
  width: 160px;
  padding: 0 8px;
  margin-top: 6px;
  .mgleft5 {
    margin-left: 5px;
  }
`,eN=ye.div`
  display: flex;
  padding: 0px 4px;
  color: ${e=>e.color};
  background-color: ${e=>e.backgroundColor};
`,tN=ye.div`
  display: flex;
  margin-left: 7px;
  margin-top: 5px;
`,nN=ye.div`
  background-color: ${({color:e})=>e};
  width: 24px;
  height: 8px;
  border-radius: 3px;
  margin-left: 5px;
`,rN=ye.div`
  max-width: 106px;
  margin-top: 6px;
  display: flex;
  align-items: center;
`,aN=({checklist:e})=>w(Fe,{children:e.length>0&&Z(ZI,{children:[w("div",{children:w(xi,{})}),w("div",{className:"checkList",children:e.map(({name:t,_id:n})=>w("p",{className:"items",children:`${t}、`},n))})]})}),iN=({date:e})=>{const t=Date.now()-new Date((e==null?void 0:e.dueDate)||"").getTime()>0,n=r=>{const a=new Date(r.startDate).getMonth()+1,i=new Date(r.dueDate).getMonth()+1,o=new Date(r.startDate).getDate(),s=new Date(r.dueDate).getDate();return r.startDate&&r.dueDate?`${a}月${o}日-${i}月${s}日`:r.startDate?`${a}月${o}日`:`${i}月${s}日`};return e&&Z(QI,{dueComplete:e==null?void 0:e.dueComplete.toString(),isDue:t.toString(),children:[w("div",{children:w(gs,{})}),w("div",{className:"showDate",children:n(e)})]})},oN=({commentLength:e,attachmentLength:t,checklist:n})=>{const r=e>0||t>0||n.length>0,a=n.flatMap(({checkItem:o})=>o).length,i=n.flatMap(({checkItem:o})=>o).filter(({completed:o})=>o).length;return w(Fe,{children:r&&Z(JI,{children:[w("div",{children:w(tv,{})}),e>0&&Z("div",{className:"d-flex",children:[w("div",{children:w(bv,{})}),w("div",{className:"mgleft5",children:e})]}),t>0&&Z("div",{className:"d-flex",children:[w("div",{children:w(Gl,{})}),w("div",{className:"mgleft5",children:t})]}),a>0&&Z(eN,{color:i===a?"#ffffff":"",backgroundColor:i===a?"#1f845a":"",children:[w("div",{children:w(xi,{})}),w("div",{className:"mgleft5",children:`${i}/${a}`})]})]})})},lN=({label:e})=>w(tN,{children:e.map(({_id:t,color:n})=>w(nN,{color:n},t))}),sN=({member:e})=>w(rN,{children:w(Kn.Group,{maxCount:2,size:"small",maxStyle:{color:"#f56a00",backgroundColor:"#fde3cf"},children:e.map(({userId:{_id:t,avatar:n,name:r}})=>w(Ut,{username:r,imgUrl:n,size:24},t))})}),cN=({name:e})=>w("div",{style:{height:"21px",fontSize:"14px",fontWeight:"700",lineHeight:"150%",padding:"0 12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),uN=({lists:e})=>{const t=nn();return w(Fe,{children:e.card.sort((n,r)=>+n.position-+r.position).map(({id:n,name:r,attachment:a,label:i,checklist:o,date:s,member:d,comment:f,boardId:h},c)=>w(ba,{draggableId:n,index:c,children:(l,u)=>w("div",{...l.draggableProps,...l.dragHandleProps,ref:l.innerRef,"data-is-dragging":u.isDragging,"data-index":c,"aria-label":`${r} quote`,children:Z(Mt,{size:"small",className:"trello-card-inner",style:{display:"flex",flexDirection:"column",rowGap:"5px"},cover:w("img",{src:a!=null&&a.length?a[0].dirname:"",style:{height:a!=null&&a.length?133:0,objectFit:"cover"}}),onClick:()=>{t(`/board/${h}/cards/${n}`)},children:[w(cN,{name:r}),w(lN,{label:i}),w(aN,{checklist:o}),w(oN,{commentLength:f.length,attachmentLength:a.length,checklist:o}),Z("div",{className:"d-space",style:{padding:"0 8px",justifyContent:s?"space-between":"end"},children:[w(iN,{date:s}),w(sN,{member:d})]})]})})},n))})},dN=Ie.memo(uN),fN=({list:e})=>{const{showAddCard:t,setShowAddCard:n}=Tt(),r=we(),[a,i]=E.useState(""),[o,s]=E.useState(!1),d=E.useRef(null);return E.useEffect(()=>{t&&(d!=null&&d.current)&&(d==null||d.current.focus({cursor:"start"}))},[t]),w(pt,{spinning:o,children:w(KI,{useadd:t.toString(),bordered:!1,bodyStyle:{padding:0},children:Z("div",{tabIndex:t?0:void 0,onBlur:()=>{i(""),n(!1)},onMouseDown:f=>f.preventDefault(),children:[Z("div",{className:"d-center",children:[w(Ue,{value:a,onChange:f=>i(f.target.value),ref:d,placeholder:"輸入標題",style:{width:"calc(100% - 24px - 24px - 24px)"}}),w(le,{className:"d-center",type:"text",icon:w(ht,{style:{color:"white"}}),onClick:()=>{n(!1)},style:{marginLeft:"16px",height:"24px",width:"24px"}}),w(le,{className:"d-center",type:"text",icon:w(Xl,{style:{color:"white"}}),style:{marginLeft:"8px",height:"24px",width:"24px"}})]}),w("div",{className:"bottom-func",children:w(le,{type:"primary",onClick:async()=>{if(!(a.length<2)){s(!0);try{await r(gf({name:a,position:`${xt(e.card)}`,listId:e.id,boardId:e.boardId}))}catch{}s(!1),n(!1),i("")}},style:{backgroundColor:"var(--black23)",width:"100%"},children:"新增卡片"})})]})})})},hN=({listType:e,isCombineEnabled:t,internalScroll:n,quotes:r})=>w(yr,{droppableId:r.id,type:e,ignoreContainerClipping:void 0,isDropDisabled:void 0,isCombineEnabled:t,renderClone:void 0,children:(a,i)=>w("div",{children:w(GI,{internalScroll:n,children:Z("div",{ref:a.innerRef,style:{minHeight:"1px",display:"flex",flexDirection:"column",rowGap:"8px"},children:[w(dN,{lists:r,dropProvided:a,isDrag:i.isDraggingOver}),w(fN,{list:r}),a.placeholder]})})})}),pN=e=>{const t=e.index,n=e.quotes.id,r=e.quotes.name;return w(RI,{children:w(ba,{draggableId:n,index:t,children:(a,i)=>w("div",{ref:a.innerRef,...a.draggableProps,children:Z(WI,{size:"small",isdragging:i.isDragging.toString(),children:[w(Mt.Meta,{title:w(VI,{listId:n}),className:"cardTitle",...a.dragHandleProps,"aria-label":`${r} quote list`,style:{marginBottom:"8px"}}),w(hN,{...e,isScrollable:!1,listId:n,listType:"QUOTE",internalScroll:e.isScrollable,isCombineEnabled:e.isCombineEnabled,useClone:e.useClone}),w(XI,{})]})})})})},vN=()=>{const e=we(),t=ke(ot),n=fn.cloneDeep(t.list),[r,a]=QO();return E.useEffect(()=>{if(r){const i=rg(n,r);i.reduce((s,{boardId:d})=>d===t._id,!1)&&e(Ji(i))}},[r]),E.useEffect(()=>(t._id&&a({type:"subscribe",boardId:t._id}),()=>a({type:"unsubscribe",boardId:t._id})),[t._id]),w(Iu,{onDragEnd:i=>{const o=Js(i,n);o&&e(Ji(o))},children:w(yr,{droppableId:"board",type:"COLUMN",direction:"horizontal",ignoreContainerClipping:!1,isCombineEnabled:!1,children:i=>Z(mf,{...i.droppableProps,ref:i.innerRef,children:[n.sort((o,s)=>+o.position-+s.position).map((o,s)=>w(pN,{index:s,quotes:o,isScrollable:!0,isCombineEnabled:!1,useClone:void 0},o.id)),i.placeholder,w(_I,{})]})})})},gN=()=>{const e=we(),{boardId:t}=Jr(),n=ke(yf),[r,a]=E.useState(!1);return E.useEffect(()=>{n&&e(bf())},[n]),E.useEffect(()=>{t&&(a(!0),e(xf(t)).finally(()=>{a(!1)}))},[t]),w(ZO,{children:r?w(pt,{className:"d-center",indicator:w(si,{spin:!0,style:{fontSize:96}})}):Z(Fe,{children:[w(PI,{}),w(vN,{}),w(Jv,{children:w(XO,{})})]})})},yN=Ie.memo(gN);export{yN as default};
