import{c as Xe,g as Vt,d as qe,n as Nu,r as E,_ as oe,a as Ae,b as de,e as ge,K as Ce,w as qa,i as ku,f as Pe,u as Au,h as $t,R as Oe,j as kt,k as kl,F as ja,S as gn,G as Pu,B as Gi,T as At,l as Zr,m as Rr,o as Tu,p as ii,C as mn,q as _u,s as Ru,t as lt,v as oi,x as Gn,y as Mu,z as Lu,A as $u,D as Al,E as Bu,H as Fu,I as qu,J as ju,L as Hu,M as zu,N as Uu,O as Vu,P as Wu,Q as Gu,U as un,V as Yu,W as Ku,X as dn,Y as Pl,Z as li,$ as Xu,a0 as Zu,a1 as je,a2 as Qu,a3 as Ju,a4 as Mn,a5 as ed,a6 as td,a7 as nd,a8 as rd,a9 as dt,aa as Yi,ab as Tl,ac as ad,ad as id,ae as od,af as ld,ag as w,ah as Qr,ai as Te,aj as sd,ak as be,al as Ie,am as Z,an as Le,ao as Ze,ap as Yn,aq as Qe,ar as ce,as as cd,at as ud,au as fn,av as _l,aw as Rl,ax as dd,ay as fd,az as Fe,aA as xe,aB as hd,aC as Lt,aD as pd,aE as vd,aF as si,aG as Pt,aH as Ml,aI as ci,aJ as Ll,aK as ye,aL as gd,aM as md,aN as Rt,aO as ft,aP as $l,aQ as nn,aR as yd,aS as bd,aT as Wt,aU as Bl,aV as xd,aW as Cd,aX as bt,aY as ui,aZ as Fl,a_ as ql,a$ as jl,b0 as wd,b1 as Sd,b2 as Ed,b3 as Hl,b4 as zl,b5 as Od,b6 as Ul,b7 as Id,b8 as Mr,b9 as Ki,ba as Xi,bb as Dd,bc as Nd,bd as kd,be as Ad,bf as Pd,bg as Zi,bh as Td,bi as _d,bj as Rd,bk as Md,bl as Ld,bm as $d,bn as Vl,bo as tr,bp as Wl,bq as rn,br as xt,bs as Bd,bt as Fd,bu as di,bv as Ha,bw as Lr,bx as qd,by as jd,bz as Hd,bA as zd,bB as Ud,bC as Vd,bD as Wd,bE as Gd,bF as Yd,bG as Kd,bH as Xd,bI as Zd,bJ as Qd,bK as Jd,bL as ef,bM as xa,bN as tf,bO as Ar,bP as nf,bQ as fi,bR as rf,bS as af,bT as of,bU as Gl,bV as lf,bW as Qi,bX as sf,bY as cf,bZ as uf,b_ as df}from"./index-8f204990.js";var Yl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){return function(n,r){r.prototype.weekday=function(a){var i=this.$locale().weekStart||0,o=this.$W,s=(o<i?o+7:o)-i;return this.$utils().u(a)?s:this.subtract(s,"day").add(a,"day")}}})})(Yl);var ff=Yl.exports;const hf=Vt(ff);var Kl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){return function(n,r,a){var i=r.prototype,o=function(c){return c&&(c.indexOf?c:c.s)},s=function(c,l,u,v,p){var m=c.name?c:c.$locale(),g=o(m[l]),b=o(m[u]),x=g||b.map(function(C){return C.slice(0,v)});if(!p)return x;var y=m.weekStart;return x.map(function(C,N){return x[(N+(y||0))%7]})},d=function(){return a.Ls[a.locale()]},f=function(c,l){return c.formats[l]||function(u){return u.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,m){return p||m.slice(1)})}(c.formats[l.toUpperCase()])},h=function(){var c=this;return{months:function(l){return l?l.format("MMMM"):s(c,"months")},monthsShort:function(l){return l?l.format("MMM"):s(c,"monthsShort","months",3)},firstDayOfWeek:function(){return c.$locale().weekStart||0},weekdays:function(l){return l?l.format("dddd"):s(c,"weekdays")},weekdaysMin:function(l){return l?l.format("dd"):s(c,"weekdaysMin","weekdays",2)},weekdaysShort:function(l){return l?l.format("ddd"):s(c,"weekdaysShort","weekdays",3)},longDateFormat:function(l){return f(c.$locale(),l)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return h.bind(this)()},a.localeData=function(){var c=d();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(l){return f(c,l)},meridiem:c.meridiem,ordinal:c.ordinal}},a.months=function(){return s(d(),"months")},a.monthsShort=function(){return s(d(),"monthsShort","months",3)},a.weekdays=function(c){return s(d(),"weekdays",null,null,c)},a.weekdaysShort=function(c){return s(d(),"weekdaysShort","weekdays",3,c)},a.weekdaysMin=function(c){return s(d(),"weekdaysMin","weekdays",2,c)}}})})(Kl);var pf=Kl.exports;const vf=Vt(pf);var Xl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){var n="week",r="year";return function(a,i,o){var s=i.prototype;s.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=o(this).startOf(r).add(1,r).date(f),c=o(this).endOf(n);if(h.isBefore(c))return 1}var l=o(this).startOf(r).date(f).startOf(n).subtract(1,"millisecond"),u=this.diff(l,n,!0);return u<0?o(this).startOf("week").week():Math.ceil(u)},s.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}})})(Xl);var gf=Xl.exports;const mf=Vt(gf);var Zl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),i=this.week(),o=this.year();return i===1&&a===11?o+1:a===0&&i>=52?o-1:o}}})})(Zl);var yf=Zl.exports;const bf=Vt(yf);var Ql={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){return function(n,r){var a=r.prototype,i=a.format;a.format=function(o){var s=this,d=this.$locale();if(!this.isValid())return i.bind(this)(o);var f=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(c){switch(c){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return d.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return d.ordinal(s.week(),"W");case"w":case"ww":return f.s(s.week(),c==="w"?1:2,"0");case"W":case"WW":return f.s(s.isoWeek(),c==="W"?1:2,"0");case"k":case"kk":return f.s(String(s.$H===0?24:s.$H),c==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return c}});return i.bind(this)(h)}}})})(Ql);var xf=Ql.exports;const Cf=Vt(xf);var Jl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xe,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},d=function(p){return(p=+p)+(p>68?1900:2e3)},f=function(p){return function(m){this[p]=+m}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var g=m.match(/([+-]|\d\d)/g),b=60*g[1]+(+g[2]||0);return b===0?0:g[0]==="+"?-b:b}(p)}],c=function(p){var m=s[p];return m&&(m.indexOf?m:m.s.concat(m.f))},l=function(p,m){var g,b=s.meridiem;if(b){for(var x=1;x<=24;x+=1)if(p.indexOf(b(x,0,m))>-1){g=x>12;break}}else g=p===(m?"pm":"PM");return g},u={A:[o,function(p){this.afternoon=l(p,!1)}],a:[o,function(p){this.afternoon=l(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[a,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[i,f("seconds")],ss:[i,f("seconds")],m:[i,f("minutes")],mm:[i,f("minutes")],H:[i,f("hours")],h:[i,f("hours")],HH:[i,f("hours")],hh:[i,f("hours")],D:[i,f("day")],DD:[a,f("day")],Do:[o,function(p){var m=s.ordinal,g=p.match(/\d+/);if(this.day=g[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===p&&(this.day=b)}],M:[i,f("month")],MM:[a,f("month")],MMM:[o,function(p){var m=c("months"),g=(c("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(p)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(p){var m=c("months").indexOf(p)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,f("year")],YY:[a,function(p){this.year=d(p)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(p){var m,g;m=p,g=s&&s.formats;for(var b=(p=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,D,S){var A=S&&S.toUpperCase();return D||g[S]||n[S]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,_,L){return _||L.slice(1)})})).match(r),x=b.length,y=0;y<x;y+=1){var C=b[y],N=u[C],O=N&&N[0],I=N&&N[1];b[y]=I?{regex:O,parser:I}:C.replace(/^\[|\]$/g,"")}return function(k){for(var D={},S=0,A=0;S<x;S+=1){var P=b[S];if(typeof P=="string")A+=P.length;else{var _=P.regex,L=P.parser,q=k.slice(A),j=_.exec(q)[0];L.call(D,j),k=k.replace(j,"")}}return function(Y){var B=Y.afternoon;if(B!==void 0){var $=Y.hours;B?$<12&&(Y.hours+=12):$===12&&(Y.hours=0),delete Y.afternoon}}(D),D}}return function(p,m,g){g.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(d=p.parseTwoDigitYear);var b=m.prototype,x=b.parse;b.parse=function(y){var C=y.date,N=y.utc,O=y.args;this.$u=N;var I=O[1];if(typeof I=="string"){var k=O[2]===!0,D=O[3]===!0,S=k||D,A=O[2];D&&(A=O[2]),s=this.$locale(),!k&&A&&(s=g.Ls[A]),this.$d=function(q,j,Y){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*q);var B=v(j)(q),$=B.year,T=B.month,R=B.day,F=B.hours,U=B.minutes,z=B.seconds,M=B.milliseconds,H=B.zone,W=new Date,V=R||($||T?1:W.getDate()),G=$||W.getFullYear(),te=0;$&&!T||(te=T>0?T-1:W.getMonth());var Q=F||0,ae=U||0,ee=z||0,re=M||0;return H?new Date(Date.UTC(G,te,V,Q,ae,ee,re+60*H.offset*1e3)):Y?new Date(Date.UTC(G,te,V,Q,ae,ee,re)):new Date(G,te,V,Q,ae,ee,re)}catch{return new Date("")}}(C,I,N),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),S&&C!=this.format(I)&&(this.$d=new Date("")),s={}}else if(I instanceof Array)for(var P=I.length,_=1;_<=P;_+=1){O[1]=I[_-1];var L=g.apply(this,O);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}_===P&&(this.$d=new Date(""))}else x.call(this,y)}}})})(Jl);var wf=Jl.exports;const Sf=Vt(wf);qe.extend(Sf);qe.extend(Cf);qe.extend(hf);qe.extend(vf);qe.extend(mf);qe.extend(bf);qe.extend(function(e,t){var n=t.prototype,r=n.format;n.format=function(i){var o=(i||"").replace("Wo","wo");return r.bind(this)(o)}});var Ef={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Xt=function(t){var n=Ef[t];return n||t.split("_")[0]},Ji=function(){Nu(!1,"Not match any format. Please help to fire a issue about this.")},Of={getNow:function(){return qe()},getFixedDate:function(t){return qe(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var n=t.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},addYear:function(t,n){return t.add(n,"year")},addMonth:function(t,n){return t.add(n,"month")},addDate:function(t,n){return t.add(n,"day")},setYear:function(t,n){return t.year(n)},setMonth:function(t,n){return t.month(n)},setDate:function(t,n){return t.date(n)},setHour:function(t,n){return t.hour(n)},setMinute:function(t,n){return t.minute(n)},setSecond:function(t,n){return t.second(n)},isAfter:function(t,n){return t.isAfter(n)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return qe().locale(Xt(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,n){return n.locale(Xt(t)).weekday(0)},getWeek:function(t,n){return n.locale(Xt(t)).week()},getShortWeekDays:function(t){return qe().locale(Xt(t)).localeData().weekdaysMin()},getShortMonths:function(t){return qe().locale(Xt(t)).localeData().monthsShort()},format:function(t,n,r){return n.locale(Xt(t)).format(r)},parse:function(t,n,r){for(var a=Xt(t),i=0;i<r.length;i+=1){var o=r[i],s=n;if(o.includes("wo")||o.includes("Wo")){for(var d=s.split("-")[0],f=s.split("-")[1],h=qe(d,"YYYY").startOf("year").locale(a),c=0;c<=52;c+=1){var l=h.add(c,"week");if(l.format("Wo")===f)return l}return Ji(),null}var u=qe(s,o,!0).locale(a);if(u.isValid())return u}return n&&Ji(),null}}},mt=E.createContext({}),xr={visibility:"hidden"};function yn(e){var t=e.prefixCls,n=e.prevIcon,r=n===void 0?"‹":n,a=e.nextIcon,i=a===void 0?"›":a,o=e.superPrevIcon,s=o===void 0?"«":o,d=e.superNextIcon,f=d===void 0?"»":d,h=e.onSuperPrev,c=e.onSuperNext,l=e.onPrev,u=e.onNext,v=e.children,p=E.useContext(mt),m=p.hideNextBtn,g=p.hidePrevBtn;return E.createElement("div",{className:t},h&&E.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:g?xr:{}},s),l&&E.createElement("button",{type:"button",onClick:l,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:g?xr:{}},r),E.createElement("div",{className:"".concat(t,"-view")},v),u&&E.createElement("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(t,"-next-btn"),style:m?xr:{}},i),c&&E.createElement("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:m?xr:{}},f))}function If(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,a=e.onPrevDecades,i=e.onNextDecades,o=E.useContext(mt),s=o.hideHeader;if(s)return null;var d="".concat(t,"-header"),f=n.getYear(r),h=Math.floor(f/Mt)*Mt,c=h+Mt-1;return E.createElement(yn,oe({},e,{prefixCls:d,onSuperPrev:a,onSuperNext:i}),h,"-",c)}function es(e,t,n,r,a){var i=e.setHour(t,n);return i=e.setMinute(i,r),i=e.setSecond(i,a),i}function ts(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n)),r}function Df(e,t,n,r,a,i){var o=Math.floor(e/r)*r;if(o<e)return[o,60-a,60-i];var s=Math.floor(t/a)*a;if(s<t)return[o,s,60-i];var d=Math.floor(n/i)*i;return[o,s,d]}function Nf(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,a=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),i=e.getDate(a),o=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(o,"-").concat(i)}function nr(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,a=e.picker,i=e.rowNum,o=e.colNum,s=e.prefixColumn,d=e.rowClassName,f=e.baseDate,h=e.getCellClassName,c=e.getCellText,l=e.getCellNode,u=e.getCellDate,v=e.generateConfig,p=e.titleCell,m=e.headerCells,g=E.useContext(mt),b=g.onDateMouseEnter,x=g.onDateMouseLeave,y=g.mode,C="".concat(t,"-cell"),N=[],O=0;O<i;O+=1){for(var I=[],k=void 0,D=function(){var P,_=O*o+S,L=u(f,_),q=Br({cellDate:L,mode:y,disabledDate:n,generateConfig:v});S===0&&(k=L,s&&I.push(s(k)));var j=p&&p(L),Y=E.createElement("div",{className:"".concat(C,"-inner")},c(L));I.push(E.createElement("td",{key:S,title:j,className:Ae(C,de((P={},ge(P,"".concat(C,"-disabled"),q),ge(P,"".concat(C,"-start"),c(L)===1||a==="year"&&Number(j)%10===0),ge(P,"".concat(C,"-end"),j===Nf(v,L)||a==="year"&&Number(j)%10===9),P),h(L))),onClick:function(){q||r(L)},onMouseEnter:function(){!q&&b&&b(L)},onMouseLeave:function(){!q&&x&&x(L)}},l?l(L,Y):Y))},S=0;S<o;S+=1)D();N.push(E.createElement("tr",{key:O,className:d&&d(k)},I))}return E.createElement("div",{className:"".concat(t,"-body")},E.createElement("table",{className:"".concat(t,"-content")},m&&E.createElement("thead",null,E.createElement("tr",null,m)),E.createElement("tbody",null,N)))}var za=3,eo=4;function kf(e){var t=wt-1,n=e.prefixCls,r=e.viewDate,a=e.generateConfig,i=e.cellRender,o=e.locale,s="".concat(n,"-cell"),d=a.getYear(r),f=Math.floor(d/wt)*wt,h=Math.floor(d/Mt)*Mt,c=h+Mt-1,l=a.setYear(r,h-Math.ceil((za*eo*wt-Mt)/2)),u=function(m){var g,b=a.getYear(m),x=b+t;return g={},ge(g,"".concat(s,"-in-view"),h<=b&&x<=c),ge(g,"".concat(s,"-selected"),b===f),g},v=i?function(p,m){return i(p,{originNode:m,today:a.getNow(),type:"decade",locale:o})}:void 0;return E.createElement(nr,oe({},e,{rowNum:eo,colNum:za,baseDate:l,getCellNode:v,getCellText:function(m){var g=a.getYear(m);return"".concat(g,"-").concat(g+t)},getCellClassName:u,getCellDate:function(m,g){return a.addYear(m,g*wt)}}))}var Cr=new Map;function Af(e,t){var n;function r(){ku(e)?t():n=qa(function(){r()})}return r(),function(){qa.cancel(n)}}function Ua(e,t,n){if(Cr.get(e)&&cancelAnimationFrame(Cr.get(e)),n<=0){Cr.set(e,requestAnimationFrame(function(){e.scrollTop=t}));return}var r=t-e.scrollTop,a=r/n*10;Cr.set(e,requestAnimationFrame(function(){e.scrollTop+=a,e.scrollTop!==t&&Ua(e,t,n-10)}))}function bn(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,a=t.onUpDown,i=t.onPageUpDown,o=t.onEnter,s=e.which,d=e.ctrlKey,f=e.metaKey;switch(s){case Ce.LEFT:if(d||f){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case Ce.RIGHT:if(d||f){if(r)return r(1),!0}else if(n)return n(1),!0;break;case Ce.UP:if(a)return a(-1),!0;break;case Ce.DOWN:if(a)return a(1),!0;break;case Ce.PAGE_UP:if(i)return i(-1),!0;break;case Ce.PAGE_DOWN:if(i)return i(1),!0;break;case Ce.ENTER:if(o)return o(),!0;break}return!1}var Pf=function(t){return t==="month"||t==="date"?"year":t},Tf=function(t){return t==="date"?"month":t},_f=function(t){return t==="month"||t==="date"?"quarter":t},Rf=function(t){return t==="date"?"week":t},Mf={year:Pf,month:Tf,quarter:_f,week:Rf,time:null,date:null},wt=10,Mt=wt*10;function Lf(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,a=e.viewDate,i=e.operationRef,o=e.onSelect,s=e.onPanelChange,d="".concat(t,"-decade-panel");i.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(v){o(r.addYear(a,v*wt),"key")},onCtrlLeftRight:function(v){o(r.addYear(a,v*Mt),"key")},onUpDown:function(v){o(r.addYear(a,v*wt*za),"key")},onEnter:function(){s("year",a)}})}};var f=function(l){var u=r.addYear(a,l*Mt);n(u),s(null,u)},h=function(l){o(l,"mouse"),s("year",l)};return E.createElement("div",{className:d},E.createElement(If,oe({},e,{prefixCls:t,onPrevDecades:function(){f(-1)},onNextDecades:function(){f(1)}})),E.createElement(kf,oe({},e,{prefixCls:t,onSelect:h})))}var Un=7;function xn(e,t){if(!e&&!t)return!0;if(!e||!t)return!1}function hi(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getYear(t)===e.getYear(n)}function to(e,t){var n=Math.floor(e.getMonth(t)/3);return n+1}function $f(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:hi(e,t,n)&&to(e,t)===to(e,n)}function ns(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:hi(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function $r(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function Bf(e,t,n){var r=xn(t,n);return typeof r=="boolean"?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}function Ca(e,t,n,r){var a=xn(n,r);return typeof a=="boolean"?a:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function no(e,t,n){return $r(e,t,n)&&Bf(e,t,n)}function Hn(e,t,n,r){return!t||!n||!r?!1:!$r(e,t,r)&&!$r(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r)}function Ff(e,t,n){var r=t.locale.getWeekFirstDay(e),a=t.setDate(n,1),i=t.getWeekDay(a),o=t.addDate(a,r-i);return t.getMonth(o)===t.getMonth(n)&&t.getDate(o)>1&&(o=t.addDate(o,-7)),o}function Ot(e,t){var n=t.generateConfig,r=t.locale,a=t.format;return typeof a=="function"?a(e):n.locale.format(r.locale,e,a)}function Br(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,a=e.generateConfig;if(!r)return!1;var i=function(v,p,m){for(var g=p;g<=m;){var b=void 0;switch(v){case"date":{if(b=a.setDate(t,g),!r(b))return!1;break}case"month":{if(b=a.setMonth(t,g),!Br({cellDate:b,mode:"month",generateConfig:a,disabledDate:r}))return!1;break}case"year":{if(b=a.setYear(t,g),!Br({cellDate:b,mode:"year",generateConfig:a,disabledDate:r}))return!1;break}}g+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":{var o=1,s=a.getDate(a.getEndDate(t));return i("date",o,s)}case"quarter":{var d=Math.floor(a.getMonth(t)/3)*3,f=d+2;return i("month",d,f)}case"year":return i("month",0,11);case"decade":{var h=a.getYear(t),c=Math.floor(h/wt)*wt,l=c+wt-1;return i("year",c,l)}}}function rs(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}var qf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};function wr(e,t){return e?e[t]:null}function Jr(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,a=e.hoverRangedValue,i=e.isInView,o=e.isSameCell,s=e.offsetCell,d=e.today,f=e.value;function h(c){var l,u=s(c,-1),v=s(c,1),p=wr(r,0),m=wr(r,1),g=wr(a,0),b=wr(a,1),x=Hn(n,g,b,c);function y(D){return o(p,D)}function C(D){return o(m,D)}var N=o(g,c),O=o(b,c),I=(x||O)&&(!i(u)||C(u)),k=(x||N)&&(!i(v)||y(v));return l={},ge(l,"".concat(t,"-in-view"),i(c)),ge(l,"".concat(t,"-in-range"),Hn(n,p,m,c)),ge(l,"".concat(t,"-range-start"),y(c)),ge(l,"".concat(t,"-range-end"),C(c)),ge(l,"".concat(t,"-range-start-single"),y(c)&&!m),ge(l,"".concat(t,"-range-end-single"),C(c)&&!p),ge(l,"".concat(t,"-range-start-near-hover"),y(c)&&(o(u,g)||Hn(n,g,b,u))),ge(l,"".concat(t,"-range-end-near-hover"),C(c)&&(o(v,b)||Hn(n,g,b,v))),ge(l,"".concat(t,"-range-hover"),x),ge(l,"".concat(t,"-range-hover-start"),N),ge(l,"".concat(t,"-range-hover-end"),O),ge(l,"".concat(t,"-range-hover-edge-start"),I),ge(l,"".concat(t,"-range-hover-edge-end"),k),ge(l,"".concat(t,"-range-hover-edge-start-near-range"),I&&o(u,m)),ge(l,"".concat(t,"-range-hover-edge-end-near-range"),k&&o(v,p)),ge(l,"".concat(t,"-today"),o(d,c)),ge(l,"".concat(t,"-selected"),o(f,c)),l}return h}var Cn=E.createContext({});function jf(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,a=e.locale,i=e.rowCount,o=e.viewDate,s=e.value,d=e.cellRender,f=e.isSameCell,h=E.useContext(Cn),c=h.rangedValue,l=h.hoverRangedValue,u=Ff(a.locale,n,o),v="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(a.locale),m=n.getNow(),g=[],b=a.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(a.locale):[]);r&&g.push(E.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var x=0;x<Un;x+=1)g.push(E.createElement("th",{key:x},b[(x+p)%Un]));var y=Jr({cellPrefixCls:v,today:m,value:s,generateConfig:n,rangedValue:r?null:c,hoverRangedValue:r?null:l,isSameCell:f||function(N,O){return $r(n,N,O)},isInView:function(O){return ns(n,O,o)},offsetCell:function(O,I){return n.addDate(O,I)}}),C=d?function(N,O){return d(N,{originNode:O,today:m,type:"date",locale:a})}:void 0;return E.createElement(nr,oe({},e,{rowNum:i,colNum:Un,baseDate:u,getCellNode:C,getCellText:n.getDate,getCellClassName:y,getCellDate:n.addDate,titleCell:function(O){return Ot(O,{locale:a,format:"YYYY-MM-DD",generateConfig:n})},headerCells:g}))}function Hf(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextMonth,o=e.onPrevMonth,s=e.onNextYear,d=e.onPrevYear,f=e.onYearClick,h=e.onMonthClick,c=E.useContext(mt),l=c.hideHeader;if(l)return null;var u="".concat(t,"-header"),v=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),p=n.getMonth(a),m=E.createElement("button",{type:"button",key:"year",onClick:f,tabIndex:-1,className:"".concat(t,"-year-btn")},Ot(a,{locale:r,format:r.yearFormat,generateConfig:n})),g=E.createElement("button",{type:"button",key:"month",onClick:h,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?Ot(a,{locale:r,format:r.monthFormat,generateConfig:n}):v[p]),b=r.monthBeforeYear?[g,m]:[m,g];return E.createElement(yn,oe({},e,{prefixCls:u,onSuperPrev:d,onPrev:o,onNext:i,onSuperNext:s}),b)}var zf=6;function pi(e){var t=e.prefixCls,n=e.panelName,r=n===void 0?"date":n,a=e.keyboardConfig,i=e.active,o=e.operationRef,s=e.generateConfig,d=e.value,f=e.viewDate,h=e.onViewDateChange,c=e.onPanelChange,l=e.onSelect,u="".concat(t,"-").concat(r,"-panel");o.current={onKeyDown:function(g){return bn(g,de({onLeftRight:function(x){l(s.addDate(d||f,x),"key")},onCtrlLeftRight:function(x){l(s.addYear(d||f,x),"key")},onUpDown:function(x){l(s.addDate(d||f,x*Un),"key")},onPageUpDown:function(x){l(s.addMonth(d||f,x),"key")}},a))}};var v=function(g){var b=s.addYear(f,g);h(b),c(null,b)},p=function(g){var b=s.addMonth(f,g);h(b),c(null,b)};return E.createElement("div",{className:Ae(u,ge({},"".concat(u,"-active"),i))},E.createElement(Hf,oe({},e,{prefixCls:t,value:d,viewDate:f,onPrevYear:function(){v(-1)},onNextYear:function(){v(1)},onPrevMonth:function(){p(-1)},onNextMonth:function(){p(1)},onMonthClick:function(){c("month",f)},onYearClick:function(){c("year",f)}})),E.createElement(jf,oe({},e,{onSelect:function(g){return l(g,"mouse")},prefixCls:t,value:d,viewDate:f,rowCount:zf})))}function Uf(e){var t=E.useContext(mt),n=t.hideHeader;if(n)return null;var r=e.prefixCls,a=e.generateConfig,i=e.locale,o=e.value,s=e.format,d="".concat(r,"-header");return E.createElement(yn,{prefixCls:d},o?Ot(o,{locale:i,format:s,generateConfig:a}):" ")}function Sr(e){var t=e.prefixCls,n=e.units,r=e.onSelect,a=e.value,i=e.active,o=e.hideDisabledOptions,s=e.info,d=e.type,f="".concat(t,"-cell"),h=E.useContext(mt),c=h.open,l=E.useRef(null),u=E.useRef(new Map),v=E.useRef();return E.useLayoutEffect(function(){var p=u.current.get(a);p&&c!==!1&&Ua(l.current,p.offsetTop,120)},[a]),E.useLayoutEffect(function(){if(c){var p=u.current.get(a);p&&(v.current=Af(p,function(){Ua(l.current,p.offsetTop,0)}))}return function(){var m;(m=v.current)===null||m===void 0||m.call(v)}},[c]),E.createElement("ul",{className:Ae("".concat(t,"-column"),ge({},"".concat(t,"-column-active"),i)),ref:l,style:{position:"relative"}},n.map(function(p){var m;return o&&p.disabled?null:E.createElement("li",{key:p.value,ref:function(b){u.current.set(p.value,b)},className:Ae(f,(m={},ge(m,"".concat(f,"-disabled"),p.disabled),ge(m,"".concat(f,"-selected"),a===p.value),m)),onClick:function(){p.disabled||r(p.value)}},s.cellRender?s.cellRender(p.value,{today:s.today,locale:s.locale,originNode:E.createElement("div",{className:"".concat(f,"-inner")},p.label),type:"time",subType:d}):E.createElement("div",{className:"".concat(f,"-inner")},p.label))}))}function Vf(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function wa(e,t,n,r){for(var a=[],i=n>=1?n|0:1,o=e;o<=t;o+=i)a.push({label:rs(o,2),value:o,disabled:(r||[]).includes(o)});return a}function Wf(e){var t=e.generateConfig,n=e.prefixCls,r=e.operationRef,a=e.activeColumnIndex,i=e.value,o=e.showHour,s=e.showMinute,d=e.showSecond,f=e.use12Hours,h=e.hourStep,c=h===void 0?1:h,l=e.minuteStep,u=l===void 0?1:l,v=e.secondStep,p=v===void 0?1:v,m=e.disabledHours,g=e.disabledMinutes,b=e.disabledSeconds,x=e.disabledTime,y=e.hideDisabledOptions,C=e.onSelect,N=e.cellRender,O=e.locale,I=[],k="".concat(n,"-content"),D="".concat(n,"-time-panel"),S,A=i?t.getHour(i):-1,P=A,_=i?t.getMinute(i):-1,L=i?t.getSecond(i):-1,q=t.getNow(),j=E.useMemo(function(){if(x){var ee=x(q);return[ee.disabledHours,ee.disabledMinutes,ee.disabledSeconds]}return[m,g,b]},[m,g,b,x,q]),Y=Pe(j,3),B=Y[0],$=Y[1],T=Y[2],R=function(re,fe,he,K){var X=i||t.getNow(),ne=Math.max(0,fe),ie=Math.max(0,he),J=Math.max(0,K);return X=es(t,X,!f||!re?ne:ne+12,ie,J),X},F=wa(0,23,c,B&&B()),U=Au(function(){return F},F,Vf);f&&(S=P>=12,P%=12);var z=E.useMemo(function(){if(!f)return[!1,!1];var ee=[!0,!0];return U.forEach(function(re){var fe=re.disabled,he=re.value;fe||(he>=12?ee[1]=!1:ee[0]=!1)}),ee},[f,U]),M=Pe(z,2),H=M[0],W=M[1],V=E.useMemo(function(){return f?U.filter(S?function(ee){return ee.value>=12}:function(ee){return ee.value<12}).map(function(ee){var re=ee.value%12,fe=re===0?"12":rs(re,2);return de(de({},ee),{},{label:fe,value:re})}):U},[f,S,U]),G=wa(0,59,u,$&&$(A)),te=wa(0,59,p,T&&T(A,_));r.current={onUpDown:function(re){var fe=I[a];if(fe)for(var he=fe.units.findIndex(function(ie){return ie.value===fe.value}),K=fe.units.length,X=1;X<K;X+=1){var ne=fe.units[(he+re*X+K)%K];if(ne.disabled!==!0){fe.onSelect(ne.value);break}}}};function Q(ee,re,fe,he,K){ee!==!1&&I.push({node:E.cloneElement(re,{prefixCls:D,value:fe,active:a===I.length,onSelect:K,units:he,hideDisabledOptions:y}),onSelect:K,value:fe,units:he})}Q(o,E.createElement(Sr,{key:"hour",type:"hour",info:{today:q,locale:O,cellRender:N}}),P,V,function(ee){C(R(S,ee,_,L),"mouse")}),Q(s,E.createElement(Sr,{key:"minute",type:"minute",info:{today:q,locale:O,cellRender:N}}),_,G,function(ee){C(R(S,P,ee,L),"mouse")}),Q(d,E.createElement(Sr,{key:"second",type:"second",info:{today:q,locale:O,cellRender:N}}),L,te,function(ee){C(R(S,P,_,ee),"mouse")});var ae=-1;return typeof S=="boolean"&&(ae=S?1:0),Q(f===!0,E.createElement(Sr,{key:"meridiem",type:"meridiem",info:{today:q,locale:O,cellRender:N}}),ae,[{label:"AM",value:0,disabled:H},{label:"PM",value:1,disabled:W}],function(ee){C(R(!!ee,P,_,L),"mouse")}),E.createElement("div",{className:k},I.map(function(ee){var re=ee.node;return re}))}var Gf=function(t){return t.filter(function(n){return n!==!1}).length};function as(e){var t=e.generateConfig,n=e.format,r=n===void 0?"HH:mm:ss":n,a=e.prefixCls,i=e.active,o=e.operationRef,s=e.showHour,d=e.showMinute,f=e.showSecond,h=e.use12Hours,c=h===void 0?!1:h,l=e.onSelect,u=e.value,v="".concat(a,"-time-panel"),p=E.useRef(),m=E.useState(-1),g=Pe(m,2),b=g[0],x=g[1],y=Gf([s,d,f,c]);return o.current={onKeyDown:function(N){return bn(N,{onLeftRight:function(I){x((b+I+y)%y)},onUpDown:function(I){b===-1?x(0):p.current&&p.current.onUpDown(I)},onEnter:function(){l(u||t.getNow(),"key"),x(-1)}})},onBlur:function(){x(-1)}},E.createElement("div",{className:Ae(v,ge({},"".concat(v,"-active"),i))},E.createElement(Uf,oe({},e,{format:r,prefixCls:a})),E.createElement(Wf,oe({},e,{prefixCls:a,activeColumnIndex:b,operationRef:p})))}var ro=qf("date","time");function Yf(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,a=e.value,i=e.defaultValue,o=e.disabledTime,s=e.showTime,d=e.onSelect,f=e.cellRender,h="".concat(t,"-datetime-panel"),c=E.useState(null),l=Pe(c,2),u=l[0],v=l[1],p=E.useRef({}),m=E.useRef({}),g=$t(s)==="object"?de({},s):{};function b(N){var O=ro.indexOf(u)+N,I=ro[O]||null;return I}var x=function(O){m.current.onBlur&&m.current.onBlur(O),v(null)};n.current={onKeyDown:function(O){if(O.which===Ce.TAB){var I=b(O.shiftKey?-1:1);return v(I),I&&O.preventDefault(),!0}if(u){var k=u==="date"?p:m;return k.current&&k.current.onKeyDown&&k.current.onKeyDown(O),!0}return[Ce.LEFT,Ce.RIGHT,Ce.UP,Ce.DOWN].includes(O.which)?(v("date"),!0):!1},onBlur:x,onClose:x};var y=function(O,I){var k=O;I==="date"&&!a&&g.defaultValue?(k=r.setHour(k,r.getHour(g.defaultValue)),k=r.setMinute(k,r.getMinute(g.defaultValue)),k=r.setSecond(k,r.getSecond(g.defaultValue))):I==="time"&&!a&&i&&(k=r.setYear(k,r.getYear(i)),k=r.setMonth(k,r.getMonth(i)),k=r.setDate(k,r.getDate(i))),d&&d(k,"mouse")},C=o?o(a||null):{};return E.createElement("div",{className:Ae(h,ge({},"".concat(h,"-active"),u))},E.createElement(pi,oe({},e,{cellRender:f,operationRef:p,active:u==="date",onSelect:function(O){y(ts(r,O,!a&&$t(s)==="object"?s.defaultValue:null),"date")}})),E.createElement(as,oe({},e,{cellRender:f?function(N,O){return f(N,de(de({},O),{},{type:"time"}))}:void 0,format:void 0},g,C,{disabledTime:null,defaultValue:void 0,operationRef:m,active:u==="time",onSelect:function(O){y(O,"time")}})))}function Kf(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextYear,o=e.onPrevYear,s=e.onYearClick,d=E.useContext(mt),f=d.hideHeader;if(f)return null;var h="".concat(t,"-header");return E.createElement(yn,oe({},e,{prefixCls:h,onSuperPrev:o,onSuperNext:i}),E.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},Ot(a,{locale:r,format:r.yearFormat,generateConfig:n})))}var vi=3,Xf=4;function Zf(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.viewDate,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=Jr({cellPrefixCls:h,value:r,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(m,g){return ns(i,m,g)},isInView:function(){return!0},offsetCell:function(m,g){return i.addMonth(m,g)}}),l=n.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(n.locale):[]),u=i.setMonth(a,0),v=o?function(p,m){return o(p,{originNode:m,locale:n,today:i.getNow(),type:"month"})}:void 0;return E.createElement(nr,oe({},e,{rowNum:Xf,colNum:vi,baseDate:u,getCellNode:v,getCellText:function(m){return n.monthFormat?Ot(m,{locale:n,format:n.monthFormat,generateConfig:i}):l[i.getMonth(m)]},getCellClassName:c,getCellDate:i.addMonth,titleCell:function(m){return Ot(m,{locale:n,format:"YYYY-MM",generateConfig:i})}}))}function Qf(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.onPanelChange,d=e.onSelect,f="".concat(t,"-month-panel");n.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(v){d(a.addMonth(i||o,v),"key")},onCtrlLeftRight:function(v){d(a.addYear(i||o,v),"key")},onUpDown:function(v){d(a.addMonth(i||o,v*vi),"key")},onEnter:function(){s("date",i||o)}})}};var h=function(l){var u=a.addYear(o,l);r(u),s(null,u)};return E.createElement("div",{className:f},E.createElement(Kf,oe({},e,{prefixCls:t,onPrevYear:function(){h(-1)},onNextYear:function(){h(1)},onYearClick:function(){s("year",o)}})),E.createElement(Zf,oe({},e,{prefixCls:t,onSelect:function(l){d(l,"mouse"),s("date",l)}})))}function Jf(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.viewDate,i=e.onNextYear,o=e.onPrevYear,s=e.onYearClick,d=E.useContext(mt),f=d.hideHeader;if(f)return null;var h="".concat(t,"-header");return E.createElement(yn,oe({},e,{prefixCls:h,onSuperPrev:o,onSuperNext:i}),E.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},Ot(a,{locale:r,format:r.yearFormat,generateConfig:n})))}var eh=4,th=1;function nh(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.viewDate,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=Jr({cellPrefixCls:h,value:r,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(p,m){return $f(i,p,m)},isInView:function(){return!0},offsetCell:function(p,m){return i.addMonth(p,m*3)}}),l=i.setDate(i.setMonth(a,0),1),u=o?function(v,p){return o(v,{originNode:p,locale:n,today:i.getNow(),type:"quarter"})}:void 0;return E.createElement(nr,oe({},e,{rowNum:th,colNum:eh,baseDate:l,getCellNode:u,getCellText:function(p){return Ot(p,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:i})},getCellClassName:c,getCellDate:function(p,m){return i.addMonth(p,m*3)},titleCell:function(p){return Ot(p,{locale:n,format:"YYYY-[Q]Q",generateConfig:i})}}))}function rh(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.onPanelChange,d=e.onSelect,f="".concat(t,"-quarter-panel");n.current={onKeyDown:function(l){return bn(l,{onLeftRight:function(v){d(a.addMonth(i||o,v*3),"key")},onCtrlLeftRight:function(v){d(a.addYear(i||o,v),"key")},onUpDown:function(v){d(a.addYear(i||o,v),"key")}})}};var h=function(l){var u=a.addYear(o,l);r(u),s(null,u)};return E.createElement("div",{className:f},E.createElement(Jf,oe({},e,{prefixCls:t,onPrevYear:function(){h(-1)},onNextYear:function(){h(1)},onYearClick:function(){s("year",o)}})),E.createElement(nh,oe({},e,{prefixCls:t,onSelect:function(l){d(l,"mouse")}})))}function ah(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,a=e.value,i=e.disabledDate,o=e.onSelect,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h=E.useContext(mt),c=h.onDateMouseEnter,l=h.onDateMouseLeave,u=(f==null?void 0:f[0])||(d==null?void 0:d[0]),v=(f==null?void 0:f[1])||(d==null?void 0:d[1]),p="".concat(t,"-cell"),m=function(y){var C=Br({cellDate:y,mode:"week",disabledDate:i,generateConfig:n});return E.createElement("td",{key:"week",className:Ae(p,"".concat(p,"-week")),onClick:function(){C||o(y,"mouse")},onMouseEnter:function(){!C&&c&&c(y)},onMouseLeave:function(){!C&&l&&l(y)}},E.createElement("div",{className:"".concat(p,"-inner")},n.locale.getWeek(r.locale,y)))},g="".concat(t,"-week-panel-row"),b=function(y){var C,N=Ca(n,r.locale,u,y),O=Ca(n,r.locale,v,y);return Ae(g,(C={},ge(C,"".concat(g,"-selected"),!d&&Ca(n,r.locale,a,y)),ge(C,"".concat(g,"-range-start"),N),ge(C,"".concat(g,"-range-end"),O),ge(C,"".concat(g,"-range-hover"),!N&&!O&&Hn(n,u,v,y)),C))};return E.createElement(pi,oe({},e,{panelName:"week",prefixColumn:m,rowClassName:b,keyboardConfig:{onLeftRight:null},isSameCell:function(){return!1}}))}function ih(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,a=e.onPrevDecade,i=e.onNextDecade,o=e.onDecadeClick,s=E.useContext(mt),d=s.hideHeader;if(d)return null;var f="".concat(t,"-header"),h=n.getYear(r),c=Math.floor(h/qt)*qt,l=c+qt-1;return E.createElement(yn,oe({},e,{prefixCls:f,onSuperPrev:a,onSuperNext:i}),E.createElement("button",{type:"button",onClick:o,className:"".concat(t,"-decade-btn")},c,"-",l))}var Va=3,ao=4;function oh(e){var t=e.prefixCls,n=e.value,r=e.viewDate,a=e.locale,i=e.generateConfig,o=e.cellRender,s=E.useContext(Cn),d=s.rangedValue,f=s.hoverRangedValue,h="".concat(t,"-cell"),c=i.getYear(r),l=Math.floor(c/qt)*qt,u=l+qt-1,v=i.setYear(r,l-Math.ceil((Va*ao-qt)/2)),p=i.getNow(),m=function(y){var C=i.getYear(y);return l<=C&&C<=u},g=Jr({cellPrefixCls:h,value:n,generateConfig:i,rangedValue:d,hoverRangedValue:f,isSameCell:function(y,C){return hi(i,y,C)},isInView:m,offsetCell:function(y,C){return i.addYear(y,C)}}),b=o?function(x,y){return o(x,{originNode:y,today:p,type:"year",locale:a})}:void 0;return E.createElement(nr,oe({},e,{rowNum:ao,colNum:Va,baseDate:v,getCellNode:b,getCellText:i.getYear,getCellClassName:g,getCellDate:i.addYear,titleCell:function(y){return Ot(y,{locale:a,format:"YYYY",generateConfig:i})}}))}var qt=10;function lh(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,a=e.generateConfig,i=e.value,o=e.viewDate,s=e.sourceMode,d=e.onSelect,f=e.onPanelChange,h="".concat(t,"-year-panel");n.current={onKeyDown:function(u){return bn(u,{onLeftRight:function(p){d(a.addYear(i||o,p),"key")},onCtrlLeftRight:function(p){d(a.addYear(i||o,p*qt),"key")},onUpDown:function(p){d(a.addYear(i||o,p*Va),"key")},onEnter:function(){f(s==="date"?"date":"month",i||o)}})}};var c=function(u){var v=a.addYear(o,u*10);r(v),f(null,v)};return E.createElement("div",{className:h},E.createElement(ih,oe({},e,{prefixCls:t,onPrevDecade:function(){c(-1)},onNextDecade:function(){c(1)},onDecadeClick:function(){f("decade",o)}})),E.createElement(oh,oe({},e,{prefixCls:t,onSelect:function(u){f(s==="date"?"date":"month",u),d(u,"mouse")}})))}function sh(e,t,n){return n?E.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function ch(e){var t=e.prefixCls,n=e.components,r=n===void 0?{}:n,a=e.needConfirmButton,i=e.onNow,o=e.onOk,s=e.okDisabled,d=e.showNow,f=e.locale,h,c;if(a){var l=r.button||"button";i&&d!==!1&&(h=E.createElement("li",{className:"".concat(t,"-now")},E.createElement("a",{className:"".concat(t,"-now-btn"),onClick:i},f.now))),c=a&&E.createElement("li",{className:"".concat(t,"-ok")},E.createElement(l,{disabled:s,onClick:o},f.ok))}return!h&&!c?null:E.createElement("ul",{className:"".concat(t,"-ranges")},h,c)}function uh(e){var t=e.cellRender,n=e.monthCellRender,r=e.dateRender,a=Oe.useMemo(function(){if(t)return t;if(!(!n&&!r))return function(i,o){var s=i;return r&&o.type==="date"?r(s,o.today):n&&o.type==="month"?n(s,o.locale):o.originNode}},[t,n,r]);return a}var dh=["date","month"];function fh(e){var t,n=e,r=n.prefixCls,a=r===void 0?"rc-picker":r,i=n.className,o=n.style,s=n.locale,d=n.generateConfig,f=n.value,h=n.defaultValue,c=n.pickerValue,l=n.defaultPickerValue,u=n.disabledDate,v=n.mode,p=n.picker,m=p===void 0?"date":p,g=n.tabIndex,b=g===void 0?0:g,x=n.showNow,y=n.showTime,C=n.showToday,N=n.renderExtraFooter,O=n.hideHeader,I=n.onSelect,k=n.onChange,D=n.onPanelChange,S=n.onMouseDown,A=n.onPickerValueChange,P=n.onOk,_=n.components,L=n.direction,q=n.hourStep,j=q===void 0?1:q,Y=n.minuteStep,B=Y===void 0?1:Y,$=n.secondStep,T=$===void 0?1:$,R=n.dateRender,F=n.monthCellRender,U=n.cellRender,z=m==="date"&&!!y||m==="time",M=24%j===0,H=60%B===0,W=60%T===0,V=E.useContext(mt),G=V.operationRef,te=V.onSelect,Q=V.hideRanges,ae=V.defaultOpenValue,ee=E.useContext(Cn),re=ee.inRange,fe=ee.panelPosition,he=ee.rangedValue,K=ee.hoverRangedValue,X=E.useRef({}),ne=E.useRef(!0),ie=kt(null,{value:f,defaultValue:h,postState:function(pe){return!pe&&ae&&m==="time"?ae:pe}}),J=Pe(ie,2),ue=J[0],le=J[1],ve=kt(null,{value:c,defaultValue:l||ue,postState:function(pe){var Ee=d.getNow();if(!pe)return Ee;if(!ue&&y){var Ke=$t(y)==="object"?y.defaultValue:h;return ts(d,Array.isArray(pe)?pe[0]:pe,Ke||Ee)}return Array.isArray(pe)?pe[0]:pe}}),ke=Pe(ve,2),_e=ke[0],Se=ke[1],Be=function(pe){Se(pe),A&&A(pe)},De=function(pe){var Ee=Mf[m];return Ee?Ee(pe):pe},rt=kt(function(){return m==="time"?"time":De("date")},{value:v}),Ft=Pe(rt,2),Ue=Ft[0],ot=Ft[1];E.useEffect(function(){ot(m)},[m]);var Yt=E.useState(function(){return Ue}),Kt=Pe(Yt,2),an=Kt[0],Tn=Kt[1],Ve=function(pe,Ee){var Ke=De(pe||Ue);Tn(Ue),ot(Ke),D&&(Ue!==Ke||no(d,_e,_e))&&D(Ee,Ke)},we=function(pe,Ee){var Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(Ue===m||Ke)&&(le(pe),I&&I(pe),te&&te(pe,Ee),k&&!no(d,pe,ue)&&!(u!=null&&u(pe))&&k(pe))},We=function(pe){if(dh.includes(Ue)){var Ee,Ke,ba=Ue==="date";switch(pe===Ce.PAGE_UP||pe===Ce.PAGE_DOWN?Ke=ba?d.addMonth:d.addYear:Ke=ba?d.addDate:d.addMonth,pe){case Ce.LEFT:case Ce.PAGE_UP:Ee=Ke(_e,-1);break;case Ce.RIGHT:case Ce.PAGE_DOWN:Ee=Ke(_e,1);break;case Ce.UP:case Ce.DOWN:Ee=Ke(_e,Number("".concat(pe===Ce.UP?"-":"").concat(ba?Un:vi)));break}if(Ee)return!(u!=null&&u(Ee))}return!0},at=function(pe){if(X.current&&X.current.onKeyDown){var Ee=!0,Ke=pe.which;if([Ce.LEFT,Ce.RIGHT,Ce.UP,Ce.DOWN,Ce.PAGE_UP,Ce.PAGE_DOWN,Ce.ENTER].includes(Ke)&&(pe.preventDefault(),Ke!==Ce.ENTER&&b===0&&(Ee=We(Ke))),Ee)return X.current.onKeyDown(pe)}return kl(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1},ze=function(pe){X.current&&X.current.onBlur&&X.current.onBlur(pe)};G&&fe!=="right"&&(G.current={onKeyDown:at,onClose:function(){X.current&&X.current.onClose&&X.current.onClose()}}),E.useEffect(function(){f&&!ne.current&&Se(f)},[f]),E.useEffect(function(){ne.current=!1},[]);var Me,ht=uh({cellRender:U,monthCellRender:F,dateRender:R}),Ye=de(de({},e),{},{cellRender:ht,operationRef:X,prefixCls:a,viewDate:_e,value:ue,onViewDateChange:Be,sourceMode:an,onPanelChange:Ve,disabledDate:u});switch(delete Ye.onChange,delete Ye.onSelect,Ue){case"decade":Me=E.createElement(Lf,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;case"year":Me=E.createElement(lh,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;case"month":Me=E.createElement(Qf,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;case"quarter":Me=E.createElement(rh,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;case"week":Me=E.createElement(ah,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;case"time":delete Ye.showTime,Me=E.createElement(as,oe({},Ye,$t(y)==="object"?y:null,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}));break;default:y?Me=E.createElement(Yf,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}})):Me=E.createElement(pi,oe({},Ye,{onSelect:function(pe,Ee){Be(pe),we(pe,Ee)}}))}var Ct,on,_n=function(){var pe=d.getNow(),Ee=Df(d.getHour(pe),d.getMinute(pe),d.getSecond(pe),M?j:1,H?B:1,W?T:1),Ke=es(d,pe,Ee[0],Ee[1],Ee[2]);we(Ke,"submit")};Q||(Ct=sh(a,Ue,N),on=ch({prefixCls:a,components:_,needConfirmButton:z,okDisabled:!ue||u&&u(ue),locale:s,showNow:x,onNow:z&&_n,onOk:function(){ue&&(we(ue,"submit",!0),P&&P(ue))}}));var Rn;if(C&&Ue==="date"&&m==="date"&&!y){var yr=d.getNow(),br="".concat(a,"-today-btn"),_t=u&&u(yr);Rn=E.createElement("a",{className:Ae(br,_t&&"".concat(br,"-disabled")),"aria-disabled":_t,onClick:function(){_t||we(yr,"mouse",!0)}},s.today)}return E.createElement(mt.Provider,{value:de(de({},V),{},{mode:Ue,hideHeader:"hideHeader"in e?O:V.hideHeader,hidePrevBtn:re&&fe==="right",hideNextBtn:re&&fe==="left"})},E.createElement("div",{tabIndex:b,className:Ae("".concat(a,"-panel"),i,(t={},ge(t,"".concat(a,"-panel-has-range"),he&&he[0]&&he[1]),ge(t,"".concat(a,"-panel-has-range-hover"),K&&K[0]&&K[1]),ge(t,"".concat(a,"-panel-rtl"),L==="rtl"),t)),style:o,onKeyDown:at,onBlur:ze,onMouseDown:S},Me,Ct||on||Rn?E.createElement("div",{className:"".concat(a,"-footer")},Ct,on,Rn):null))}const hh=10,ph=20;function vh(e){const{fullscreen:t,validRange:n,generateConfig:r,locale:a,prefixCls:i,value:o,onChange:s,divRef:d}=e,f=r.getYear(o||r.getNow());let h=f-hh,c=h+ph;n&&(h=r.getYear(n[0]),c=r.getYear(n[1])+1);const l=a&&a.year==="年"?"年":"",u=[];for(let v=h;v<c;v++)u.push({label:`${v}${l}`,value:v});return E.createElement(gn,{size:t?void 0:"small",options:u,value:f,className:`${i}-year-select`,onChange:v=>{let p=r.setYear(o,v);if(n){const[m,g]=n,b=r.getYear(p),x=r.getMonth(p);b===r.getYear(g)&&x>r.getMonth(g)&&(p=r.setMonth(p,r.getMonth(g))),b===r.getYear(m)&&x<r.getMonth(m)&&(p=r.setMonth(p,r.getMonth(m)))}s(p)},getPopupContainer:()=>d.current})}function gh(e){const{prefixCls:t,fullscreen:n,validRange:r,value:a,generateConfig:i,locale:o,onChange:s,divRef:d}=e,f=i.getMonth(a||i.getNow());let h=0,c=11;if(r){const[v,p]=r,m=i.getYear(a);i.getYear(p)===m&&(c=i.getMonth(p)),i.getYear(v)===m&&(h=i.getMonth(v))}const l=o.shortMonths||i.locale.getShortMonths(o.locale),u=[];for(let v=h;v<=c;v+=1)u.push({label:l[v],value:v});return E.createElement(gn,{size:n?void 0:"small",className:`${t}-month-select`,value:f,options:u,onChange:v=>{s(i.setMonth(a,v))},getPopupContainer:()=>d.current})}function mh(e){const{prefixCls:t,locale:n,mode:r,fullscreen:a,onModeChange:i}=e;return E.createElement(Pu,{onChange:o=>{let{target:{value:s}}=o;i(s)},value:r,size:a?void 0:"small",className:`${t}-mode-switch`},E.createElement(Gi,{value:"month"},n.month),E.createElement(Gi,{value:"year"},n.year))}function yh(e){const{prefixCls:t,fullscreen:n,mode:r,onChange:a,onModeChange:i}=e,o=E.useRef(null),s=E.useContext(ja),d=E.useMemo(()=>Object.assign(Object.assign({},s),{isFormItemInput:!1}),[s]),f=Object.assign(Object.assign({},e),{onChange:a,fullscreen:n,divRef:o});return E.createElement("div",{className:`${t}-header`,ref:o},E.createElement(ja.Provider,{value:d},E.createElement(vh,Object.assign({},f)),r==="month"&&E.createElement(gh,Object.assign({},f))),E.createElement(mh,Object.assign({},f,{onModeChange:i})))}const bh=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerPanelCellHeight:a,motionDurationSlow:i,borderRadiusSM:o,motionDurationMid:s,controlItemBgHover:d,lineWidth:f,lineType:h,colorPrimary:c,controlItemBgActive:l,colorTextLightSolid:u,controlHeightSM:v,pickerDateHoverRangeBorderColor:p,pickerCellBorderGap:m,pickerBasicCellHoverWithRangeColor:g,pickerPanelCellWidth:b,colorTextDisabled:x,colorBgContainerDisabled:y}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:a,transform:"translateY(-50%)",transition:`all ${i}`,content:'""'},[r]:{position:"relative",zIndex:2,display:"inline-block",minWidth:a,height:a,lineHeight:`${a}px`,borderRadius:o,transition:`background ${s}, border ${s}`},[`&:hover:not(${n}-in-view),
    &:hover:not(${n}-selected):not(${n}-range-start):not(${n}-range-end):not(${n}-range-hover-start):not(${n}-range-hover-end)`]:{[r]:{background:d}},[`&-in-view${n}-today ${r}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${f}px ${h} ${c}`,borderRadius:o,content:'""'}},[`&-in-view${n}-in-range`]:{position:"relative","&::before":{background:l}},[`&-in-view${n}-selected ${r},
      &-in-view${n}-range-start ${r},
      &-in-view${n}-range-end ${r}`]:{color:u,background:c},[`&-in-view${n}-range-start:not(${n}-range-start-single),
      &-in-view${n}-range-end:not(${n}-range-end-single)`]:{"&::before":{background:l}},[`&-in-view${n}-range-start::before`]:{insetInlineStart:"50%"},[`&-in-view${n}-range-end::before`]:{insetInlineEnd:"50%"},[`&-in-view${n}-range-hover-start:not(${n}-in-range):not(${n}-range-start):not(${n}-range-end),
      &-in-view${n}-range-hover-end:not(${n}-in-range):not(${n}-range-start):not(${n}-range-end),
      &-in-view${n}-range-hover-start${n}-range-start-single,
      &-in-view${n}-range-hover-start${n}-range-start${n}-range-end${n}-range-end-near-hover,
      &-in-view${n}-range-hover-end${n}-range-start${n}-range-end${n}-range-start-near-hover,
      &-in-view${n}-range-hover-end${n}-range-end-single,
      &-in-view${n}-range-hover:not(${n}-in-range)`]:{"&::after":{position:"absolute",top:"50%",zIndex:0,height:v,borderTop:`${f}px dashed ${p}`,borderBottom:`${f}px dashed ${p}`,transform:"translateY(-50%)",transition:`all ${i}`,content:'""'}},[`&-range-hover-start::after,
      &-range-hover-end::after,
      &-range-hover::after`]:{insetInlineEnd:0,insetInlineStart:m},[`&-in-view${n}-in-range${n}-range-hover::before,
      &-in-view${n}-in-range${n}-range-hover-start::before,
      &-in-view${n}-in-range${n}-range-hover-end::before,
      &-in-view${n}-range-start${n}-range-hover::before,
      &-in-view${n}-range-end${n}-range-hover::before,
      &-in-view${n}-range-start:not(${n}-range-start-single)${n}-range-hover-start::before,
      &-in-view${n}-range-end:not(${n}-range-end-single)${n}-range-hover-end::before,
      ${t}-panel
      > :not(${t}-date-panel)
      &-in-view${n}-in-range${n}-range-hover-start::before,
      ${t}-panel
      > :not(${t}-date-panel)
      &-in-view${n}-in-range${n}-range-hover-end::before`]:{background:g},[`&-in-view${n}-range-start:not(${n}-range-start-single):not(${n}-range-end) ${r}`]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${n}-range-end:not(${n}-range-end-single):not(${n}-range-start) ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},[`&-range-hover${n}-range-end::after`]:{insetInlineStart:"50%"},[`tr > &-in-view${n}-range-hover:first-child::after,
      tr > &-in-view${n}-range-hover-end:first-child::after,
      &-in-view${n}-start${n}-range-hover-edge-start${n}-range-hover-edge-start-near-range::after,
      &-in-view${n}-range-hover-edge-start:not(${n}-range-hover-edge-start-near-range)::after,
      &-in-view${n}-range-hover-start::after`]:{insetInlineStart:(b-a)/2,borderInlineStart:`${f}px dashed ${p}`,borderStartStartRadius:f,borderEndStartRadius:f},[`tr > &-in-view${n}-range-hover:last-child::after,
      tr > &-in-view${n}-range-hover-start:last-child::after,
      &-in-view${n}-end${n}-range-hover-edge-end${n}-range-hover-edge-end-near-range::after,
      &-in-view${n}-range-hover-edge-end:not(${n}-range-hover-edge-end-near-range)::after,
      &-in-view${n}-range-hover-end::after`]:{insetInlineEnd:(b-a)/2,borderInlineEnd:`${f}px dashed ${p}`,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:x,pointerEvents:"none",[r]:{background:"transparent"},"&::before":{background:y}},[`&-disabled${n}-today ${r}::before`]:{borderColor:x}}},xh=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:a,pickerControlIconSize:i,pickerPanelCellWidth:o,paddingSM:s,paddingXS:d,paddingXXS:f,colorBgContainer:h,lineWidth:c,lineType:l,borderRadiusLG:u,colorPrimary:v,colorTextHeading:p,colorSplit:m,pickerControlIconBorderWidth:g,colorIcon:b,pickerTextHeight:x,motionDurationMid:y,colorIconHover:C,fontWeightStrong:N,pickerPanelCellHeight:O,pickerCellPaddingVertical:I,colorTextDisabled:k,colorText:D,fontSize:S,pickerBasicCellHoverWithRangeColor:A,motionDurationSlow:P,pickerPanelWithoutTimeCellHeight:_,pickerQuarterPanelContentHeight:L,colorLink:q,colorLinkActive:j,colorLinkHover:Y,pickerDateHoverRangeBorderColor:B,borderRadiusSM:$,colorTextLightSolid:T,controlItemBgHover:R,pickerTimePanelColumnHeight:F,pickerTimePanelColumnWidth:U,pickerTimePanelCellHeight:z,controlItemBgActive:M,marginXXS:H,pickerDatePanelPaddingHorizontal:W}=e,V=o*7+W*2,G=(V-d*2)/3-a-s,te=(V-d*2)/4-a;return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:h,border:`${c}px ${l} ${m}`,borderRadius:u,outline:"none","&-focused":{borderColor:v},"&-rtl":{direction:"rtl",[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"}}},[`&-decade-panel,
        &-year-panel,
        &-quarter-panel,
        &-month-panel,
        &-week-panel,
        &-date-panel,
        &-time-panel`]:{display:"flex",flexDirection:"column",width:V},"&-header":{display:"flex",padding:`0 ${d}px`,color:p,borderBottom:`${c}px ${l} ${m}`,"> *":{flex:"none"},button:{padding:0,color:b,lineHeight:`${x}px`,background:"transparent",border:0,cursor:"pointer",transition:`color ${y}`,fontSize:"inherit"},"> button":{minWidth:"1.6em",fontSize:S,"&:hover":{color:C}},"&-view":{flex:"auto",fontWeight:N,lineHeight:`${x}px`,button:{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:d},"&:hover":{color:v}}}},[`&-prev-icon,
        &-next-icon,
        &-super-prev-icon,
        &-super-next-icon`]:{position:"relative",display:"inline-block",width:i,height:i,"&::before":{position:"absolute",top:0,insetInlineStart:0,display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:g,borderBlockEndWidth:0,borderInlineStartWidth:g,borderInlineEndWidth:0,content:'""'}},[`&-super-prev-icon,
        &-super-next-icon`]:{"&::after":{position:"absolute",top:Math.ceil(i/2),insetInlineStart:Math.ceil(i/2),display:"inline-block",width:i,height:i,border:"0 solid currentcolor",borderBlockStartWidth:g,borderBlockEndWidth:0,borderInlineStartWidth:g,borderInlineEndWidth:0,content:'""'}},[`&-prev-icon,
        &-super-prev-icon`]:{transform:"rotate(-45deg)"},[`&-next-icon,
        &-super-next-icon`]:{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:O,fontWeight:"normal"},th:{height:O+I*2,color:D,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${I}px 0`,color:k,cursor:"pointer","&-in-view":{color:D}},bh(e)),[`&-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-start ${r},
        &-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-end ${r}`]:{"&::after":{position:"absolute",top:0,bottom:0,zIndex:-1,background:A,transition:`all ${P}`,content:'""'}},[`&-date-panel
        ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-start
        ${r}::after`]:{insetInlineEnd:-(o-O)/2,insetInlineStart:0},[`&-date-panel ${t}-cell-in-view${t}-cell-in-range${t}-cell-range-hover-end ${r}::after`]:{insetInlineEnd:0,insetInlineStart:-(o-O)/2},[`&-range-hover${t}-range-start::after`]:{insetInlineEnd:"50%"},[`&-decade-panel,
        &-year-panel,
        &-quarter-panel,
        &-month-panel`]:{[`${t}-content`]:{height:_*4},[r]:{padding:`0 ${d}px`}},"&-quarter-panel":{[`${t}-content`]:{height:L},[`${t}-cell-range-hover-start::after`]:{insetInlineStart:te,borderInlineStart:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineEnd:te,borderInlineEnd:`${c}px dashed ${B}`}},[`${t}-cell-range-hover-end::after`]:{insetInlineEnd:te,borderInlineEnd:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineStart:te,borderInlineStart:`${c}px dashed ${B}`}}},[`&-panel ${t}-footer`]:{borderTop:`${c}px ${l} ${m}`},"&-footer":{width:"min-content",minWidth:"100%",lineHeight:`${x-2*c}px`,textAlign:"center","&-extra":{padding:`0 ${s}`,lineHeight:`${x-2*c}px`,textAlign:"start","&:not(:last-child)":{borderBottom:`${c}px ${l} ${m}`}}},"&-now":{textAlign:"start"},"&-today-btn":{color:q,"&:hover":{color:Y},"&:active":{color:j},[`&${t}-today-btn-disabled`]:{color:k,cursor:"not-allowed"}},"&-decade-panel":{[r]:{padding:`0 ${d/2}px`},[`${t}-cell::before`]:{display:"none"}},[`&-year-panel,
        &-quarter-panel,
        &-month-panel`]:{[`${t}-body`]:{padding:`0 ${d}px`},[r]:{width:a},[`${t}-cell-range-hover-start::after`]:{borderStartStartRadius:$,borderEndStartRadius:$,borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-panel-rtl &`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:$,borderEndEndRadius:$}},[`${t}-cell-range-hover-end::after`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:$,borderEndEndRadius:$,[`${t}-panel-rtl &`]:{borderStartStartRadius:$,borderEndStartRadius:$,borderStartEndRadius:0,borderEndEndRadius:0}}},[`&-year-panel,
        &-month-panel`]:{[`${t}-cell-range-hover-start::after`]:{insetInlineStart:G,borderInlineStart:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineEnd:G,borderInlineEnd:`${c}px dashed ${B}`}},[`${t}-cell-range-hover-end::after`]:{insetInlineEnd:G,borderInlineEnd:`${c}px dashed ${B}`,[`${t}-panel-rtl &`]:{insetInlineStart:G,borderInlineStart:`${c}px dashed ${B}`}}},"&-week-panel":{[`${t}-body`]:{padding:`${d}px ${s}px`},[`${t}-cell`]:{[`&:hover ${r},
            &-selected ${r},
            ${r}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${y}`},"&:first-child:before":{borderStartStartRadius:$,borderEndStartRadius:$},"&:last-child:before":{borderStartEndRadius:$,borderEndEndRadius:$}},["&:hover td"]:{"&:before":{background:R}},[`&-range-start td,
            &-range-end td,
            &-selected td`]:{[`&${n}`]:{"&:before":{background:v},[`&${t}-cell-week`]:{color:new At(T).setAlpha(.5).toHexString()},[r]:{color:T}}},["&-range-hover td:before"]:{background:M}}},"&-date-panel":{[`${t}-body`]:{padding:`${d}px ${W}px`},[`${t}-content`]:{width:o*7,th:{width:o}}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${c}px ${l} ${m}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${P}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",direction:"ltr",[`${t}-content`]:{display:"flex",flex:"auto",height:F},"&-column":{flex:"1 0 auto",width:U,margin:`${f}px 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${y}`,overflowX:"hidden","&::after":{display:"block",height:F-z,content:'""'},"&:not(:first-child)":{borderInlineStart:`${c}px ${l} ${m}`},"&-active":{background:new At(M).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:H,[`${t}-time-panel-cell-inner`]:{display:"block",width:U-2*H,height:z,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:(U-z)/2,color:D,lineHeight:`${z}px`,borderRadius:$,cursor:"pointer",transition:`background ${y}`,"&:hover":{background:R}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:M}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:k,background:"transparent",cursor:"not-allowed"}}}}}},[`&-datetime-panel ${t}-time-panel-column:after`]:{height:F-z+f*2}}}},Ch=e=>{const{componentCls:n,controlHeightLG:r,controlHeightSM:a,colorPrimary:i,paddingXXS:o,padding:s}=e;return{pickerCellCls:`${n}-cell`,pickerCellInnerCls:`${n}-cell-inner`,pickerTextHeight:r,pickerPanelCellWidth:a*1.5,pickerPanelCellHeight:a,pickerDateHoverRangeBorderColor:new At(i).lighten(20).toHexString(),pickerBasicCellHoverWithRangeColor:new At(i).lighten(35).toHexString(),pickerPanelWithoutTimeCellHeight:r*1.65,pickerYearMonthCellWidth:r*1.5,pickerTimePanelColumnHeight:28*8,pickerTimePanelColumnWidth:r*1.4,pickerTimePanelCellHeight:28,pickerQuarterPanelContentHeight:r*1.4,pickerCellPaddingVertical:o+o/2,pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:s+o/2}},wh=e=>{const{calendarCls:t,componentCls:n,calendarFullBg:r,calendarFullPanelBg:a,calendarItemActiveBg:i}=e;return{[t]:Object.assign(Object.assign(Object.assign({},xh(e)),ii(e)),{background:r,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${e.paddingSM}px 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${n}-panel`]:{background:a,border:0,borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${n}-month-panel, ${n}-date-panel`]:{width:"auto"},[`${n}-body`]:{padding:`${e.paddingXS}px 0`},[`${n}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${n}-panel`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${n}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:`${e.weekHeight}px`}},[`${n}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${n}-panel`]:{display:"block",width:"100%",textAlign:"end",background:r,border:0,[`${n}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:`${e.weekHeight}px`}}},[`${n}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${n}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:i}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${e.marginXS/2}px`,padding:`${e.paddingXS/2}px ${e.paddingXS}px 0`,border:0,borderTop:`${e.lineWidthBold}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:`${e.dateValueHeight}px`,transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${e.screenXS}px) `]:{[`${t}`]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${e.paddingXS}px)`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},Sh=Zr("Calendar",e=>{const t=`${e.componentCls}-calendar`,n=Rr(Tu(e),Ch(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,calendarFullBg:e.colorBgContainer,calendarFullPanelBg:e.colorBgContainer,calendarItemActiveBg:e.controlItemBgActive,dateValueHeight:e.controlHeightSM,weekHeight:e.controlHeightSM*.75,dateContentHeight:(e.fontSizeSM*e.lineHeightSM+e.marginXS)*3+e.lineWidth*2});return[wh(n)]},{yearControlWidth:80,monthControlWidth:70,miniContentHeight:256});function Eh(e){function t(i,o){return i&&o&&e.getYear(i)===e.getYear(o)}function n(i,o){return t(i,o)&&e.getMonth(i)===e.getMonth(o)}function r(i,o){return n(i,o)&&e.getDate(i)===e.getDate(o)}return i=>{const{prefixCls:o,className:s,rootClassName:d,style:f,dateFullCellRender:h,dateCellRender:c,monthFullCellRender:l,monthCellRender:u,cellRender:v,fullCellRender:p,headerRender:m,value:g,defaultValue:b,disabledDate:x,mode:y,validRange:C,fullscreen:N=!0,onChange:O,onPanelChange:I,onSelect:k}=i,{getPrefixCls:D,direction:S}=E.useContext(mn),A=D("picker",o),P=`${A}-calendar`,[_,L]=Sh(A),q=e.getNow(),[j,Y]=kt(()=>g||e.getNow(),{defaultValue:b,value:g}),[B,$]=kt("month",{value:y}),T=E.useMemo(()=>B==="year"?"month":"date",[B]),R=E.useCallback(Q=>(C?e.isAfter(C[0],Q)||e.isAfter(Q,C[1]):!1)||!!(x!=null&&x(Q)),[x,C]),F=(Q,ae)=>{I==null||I(Q,ae)},U=Q=>{Y(Q),r(Q,j)||((T==="date"&&!n(Q,j)||T==="month"&&!t(Q,j))&&F(Q,B),O==null||O(Q))},z=Q=>{$(Q),F(j,Q)},M=Q=>{U(Q),k==null||k(Q)},H=()=>{const{locale:Q}=i,ae=Object.assign(Object.assign({},Ru),Q);return ae.lang=Object.assign(Object.assign({},ae.lang),(Q||{}).lang),ae},W=E.useCallback((Q,ae)=>p?p(Q,ae):h?h(Q):E.createElement("div",{className:Ae(`${A}-cell-inner`,`${P}-date`,{[`${P}-date-today`]:r(q,Q)})},E.createElement("div",{className:`${P}-date-value`},String(e.getDate(Q)).padStart(2,"0")),E.createElement("div",{className:`${P}-date-content`},v?v(Q,ae):c&&c(Q))),[h,c,v,p]),V=E.useCallback((Q,ae)=>{if(p)return p(Q,ae);if(l)return l(Q);const ee=ae.locale.shortMonths||e.locale.getShortMonths(ae.locale.locale);return E.createElement("div",{className:Ae(`${A}-cell-inner`,`${P}-date`,{[`${P}-date-today`]:n(q,Q)})},E.createElement("div",{className:`${P}-date-value`},ee[e.getMonth(Q)]),E.createElement("div",{className:`${P}-date-content`},v?v(Q,ae):u&&u(Q)))},[l,u,v,p]),[G]=_u("Calendar",H),te=(Q,ae)=>{if(ae.type==="date")return W(Q,ae);if(ae.type==="month")return V(Q,Object.assign(Object.assign({},ae),{locale:G==null?void 0:G.lang}))};return _(E.createElement("div",{className:Ae(P,{[`${P}-full`]:N,[`${P}-mini`]:!N,[`${P}-rtl`]:S==="rtl"},s,d,L),style:f},m?m({value:j,type:B,onChange:M,onTypeChange:z}):E.createElement(yh,{prefixCls:P,value:j,generateConfig:e,mode:B,fullscreen:N,locale:G==null?void 0:G.lang,validRange:C,onChange:M,onModeChange:z}),E.createElement(fh,{value:j,prefixCls:A,locale:G==null?void 0:G.lang,generateConfig:e,cellRender:te,onSelect:M,mode:T,picker:T,disabledDate:R,hideHeader:!0})))}}const Oh=Eh(Of),Ih=Oh;function is(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function Dh(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,a=t.checkable;return!!(n||r)||a===!1}function Nh(e,t,n,r){for(var a=new Set(e),i=new Set,o=0;o<=n;o+=1){var s=t.get(o)||new Set;s.forEach(function(c){var l=c.key,u=c.node,v=c.children,p=v===void 0?[]:v;a.has(l)&&!r(u)&&p.filter(function(m){return!r(m.node)}).forEach(function(m){a.add(m.key)})})}for(var d=new Set,f=n;f>=0;f-=1){var h=t.get(f)||new Set;h.forEach(function(c){var l=c.parent,u=c.node;if(!(r(u)||!c.parent||d.has(c.parent.key))){if(r(c.parent.node)){d.add(l.key);return}var v=!0,p=!1;(l.children||[]).filter(function(m){return!r(m.node)}).forEach(function(m){var g=m.key,b=a.has(g);v&&!b&&(v=!1),!p&&(b||i.has(g))&&(p=!0)}),v&&a.add(l.key),p&&i.add(l.key),d.add(l.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(is(i,a))}}function kh(e,t,n,r,a){for(var i=new Set(e),o=new Set(t),s=0;s<=r;s+=1){var d=n.get(s)||new Set;d.forEach(function(l){var u=l.key,v=l.node,p=l.children,m=p===void 0?[]:p;!i.has(u)&&!o.has(u)&&!a(v)&&m.filter(function(g){return!a(g.node)}).forEach(function(g){i.delete(g.key)})})}o=new Set;for(var f=new Set,h=r;h>=0;h-=1){var c=n.get(h)||new Set;c.forEach(function(l){var u=l.parent,v=l.node;if(!(a(v)||!l.parent||f.has(l.parent.key))){if(a(l.parent.node)){f.add(u.key);return}var p=!0,m=!1;(u.children||[]).filter(function(g){return!a(g.node)}).forEach(function(g){var b=g.key,x=i.has(b);p&&!x&&(p=!1),!m&&(x||o.has(b))&&(m=!0)}),p||i.delete(u.key),m&&o.add(u.key),f.add(u.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(is(o,i))}}function Sa(e,t,n,r){var a=[],i;r?i=r:i=Dh;var o=new Set(e.filter(function(h){var c=!!n[h];return c||a.push(h),c})),s=new Map,d=0;Object.keys(n).forEach(function(h){var c=n[h],l=c.level,u=s.get(l);u||(u=new Set,s.set(l,u)),u.add(c),d=Math.max(d,l)}),kl(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(h){return"'".concat(h,"'")}).join(", ")));var f;return t===!0?f=Nh(o,s,d,i):f=kh(o,t.halfCheckedKeys,s,d,i),f}var rr=E.createContext(null),cn="__rc_cascader_search_mark__",Ah=function(t,n,r){var a=r.label;return n.some(function(i){return String(i[a]).toLowerCase().includes(t.toLowerCase())})},Ph=function(t,n,r,a){return n.map(function(i){return i[a.label]}).join(" / ")};const Th=function(e,t,n,r,a,i){var o=a.filter,s=o===void 0?Ah:o,d=a.render,f=d===void 0?Ph:d,h=a.limit,c=h===void 0?50:h,l=a.sort;return E.useMemo(function(){var u=[];if(!e)return[];function v(p,m){p.forEach(function(g){if(!(!l&&c>0&&u.length>=c)){var b=[].concat(lt(m),[g]),x=g[n.children];if((!x||x.length===0||i)&&s(e,b,{label:n.label})){var y;u.push(de(de({},g),{},(y={},ge(y,n.label,f(e,b,r,n)),ge(y,cn,b),ge(y,n.children,void 0),y)))}x&&v(g[n.children],b)}})}return v(t,[]),l&&u.sort(function(p,m){return l(p[cn],m[cn],e,n)}),c>0?u.slice(0,c):u},[e,t,n,r,f,i,s,l,c])};var gi="__RC_CASCADER_SPLIT__",os="SHOW_PARENT",ls="SHOW_CHILD";function Et(e){return e.join(gi)}function sn(e){return e.map(Et)}function _h(e){return e.split(gi)}function Rh(e){var t=e||{},n=t.label,r=t.value,a=t.children,i=r||"value";return{label:n||"label",value:i,key:i,children:a||"children"}}function zn(e,t){var n,r;return(n=e.isLeaf)!==null&&n!==void 0?n:!((r=e[t.children])!==null&&r!==void 0&&r.length)}function Mh(e){var t=e.parentElement;if(t){var n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}}function ss(e,t){return e.map(function(n){var r;return(r=n[cn])===null||r===void 0?void 0:r.map(function(a){return a[t.value]})})}function io(e,t,n){var r=new Set(e),a=t();return e.filter(function(i){var o=a[i],s=o?o.parent:null,d=o?o.children:null;return n===ls?!(d&&d.some(function(f){return f.key&&r.has(f.key)})):!(s&&!s.node.disabled&&r.has(s.key))})}function Kn(e,t,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=t,i=[],o=function(){var f,h,c,l=e[s],u=(f=a)===null||f===void 0?void 0:f.findIndex(function(p){var m=p[n.value];return r?String(m)===String(l):m===l}),v=u!==-1?(h=a)===null||h===void 0?void 0:h[u]:null;i.push({value:(c=v==null?void 0:v[n.value])!==null&&c!==void 0?c:l,index:u,option:v}),a=v==null?void 0:v[n.children]},s=0;s<e.length;s+=1)o();return i}const Lh=function(e,t,n,r,a){return E.useMemo(function(){var i=a||function(o){var s=r?o.slice(-1):o,d=" / ";return s.every(function(f){return["string","number"].includes($t(f))})?s.join(d):s.reduce(function(f,h,c){var l=E.isValidElement(h)?E.cloneElement(h,{key:c}):h;return c===0?[l]:[].concat(lt(f),[d,l])},[])};return e.map(function(o){var s,d,f=Kn(o,t,n),h=i(f.map(function(l){var u,v=l.option,p=l.value;return(u=v==null?void 0:v[n.label])!==null&&u!==void 0?u:p}),f.map(function(l){var u=l.option;return u})),c=Et(o);return{label:h,value:c,key:c,valueCells:o,disabled:(s=f[f.length-1])===null||s===void 0||(d=s.option)===null||d===void 0?void 0:d.disabled}})},[e,t,n,a,r])};function $h(e,t){return"".concat(e,"-").concat(t)}function cs(e,t){return e??t}function Bh(e){var t=e||{},n=t.title,r=t._title,a=t.key,i=t.children,o=n||"title";return{title:o,_title:r||[o],key:a||"key",children:i||"children"}}function Fh(e,t,n){var r={};$t(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var a=r,i=a.childrenPropName,o=a.externalGetKey,s=a.fieldNames,d=Bh(s),f=d.key,h=d.children,c=i||h,l;o?typeof o=="string"?l=function(p){return p[o]}:typeof o=="function"&&(l=function(p){return o(p)}):l=function(p,m){return cs(p[f],m)};function u(v,p,m,g){var b=v?v[c]:e,x=v?$h(m.pos,p):"0",y=v?[].concat(lt(g),[v]):[];if(v){var C=l(v,x),N={node:v,index:p,pos:x,key:C,parentPos:m.node?m.pos:null,level:m.level+1,nodes:y};t(N)}b&&b.forEach(function(O,I){u(O,I,{node:v,pos:x,level:m?m.level+1:-1},y)})}u(null)}function qh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,a=t.onProcessFinished,i=t.externalGetKey,o=t.childrenPropName,s=t.fieldNames,d=arguments.length>2?arguments[2]:void 0,f=i||d,h={},c={},l={posEntities:h,keyEntities:c};return n&&(l=n(l)||l),Fh(e,function(u){var v=u.node,p=u.index,m=u.pos,g=u.key,b=u.parentPos,x=u.level,y=u.nodes,C={node:v,nodes:y,index:p,key:g,pos:m,level:x},N=cs(g,m);h[m]=C,c[N]=C,C.parent=h[b],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),r&&r(C,l)},{externalGetKey:f,childrenPropName:o,fieldNames:s}),a&&a(l),l}const jh=function(e,t){var n=E.useRef({options:null,info:null}),r=E.useCallback(function(){return n.current.options!==e&&(n.current.options=e,n.current.info=qh(e,{fieldNames:t,initWrapper:function(i){return de(de({},i),{},{pathKeyEntities:{}})},processEntity:function(i,o){var s=i.nodes.map(function(d){return d[t.value]}).join(gi);o.pathKeyEntities[s]=i,i.key=s}})),n.current.info.pathKeyEntities},[t,e]);return r},Hh=function(e,t){return E.useCallback(function(n){var r=[],a=[];return n.forEach(function(i){var o=Kn(i,e,t);o.every(function(s){return s.option})?a.push(i):r.push(i)}),[a,r]},[e,t])};function oo(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}function zh(e){return E.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&$t(e)==="object"&&(t=de(de({},t),e)),t.limit<=0&&delete t.limit,[!0,t]},[e])}var Uh=E.memo(function(e){var t=e.children;return t},function(e,t){return!t.open});function Vh(e){var t,n=e.prefixCls,r=e.checked,a=e.halfChecked,i=e.disabled,o=e.onClick,s=E.useContext(rr),d=s.checkable,f=typeof d!="boolean"?d:null;return E.createElement("span",{className:Ae("".concat(n),(t={},ge(t,"".concat(n,"-checked"),r),ge(t,"".concat(n,"-indeterminate"),!r&&a),ge(t,"".concat(n,"-disabled"),i),t)),onClick:o},f)}var us="__cascader_fix_label__";function Wh(e){var t=e.prefixCls,n=e.multiple,r=e.options,a=e.activeValue,i=e.prevValuePath,o=e.onToggleOpen,s=e.onSelect,d=e.onActive,f=e.checkedSet,h=e.halfCheckedSet,c=e.loadingKeys,l=e.isSelectable,u=e.searchValue,v="".concat(t,"-menu"),p="".concat(t,"-menu-item"),m=E.useContext(rr),g=m.fieldNames,b=m.changeOnSelect,x=m.expandTrigger,y=m.expandIcon,C=m.loadingIcon,N=m.dropdownMenuColumnStyle,O=x==="hover",I=E.useMemo(function(){return r.map(function(k){var D,S=k.disabled,A=k[cn],P=(D=k[us])!==null&&D!==void 0?D:k[g.label],_=k[g.value],L=zn(k,g),q=A?A.map(function(T){return T[g.value]}):[].concat(lt(i),[_]),j=Et(q),Y=c.includes(j),B=f.has(j),$=h.has(j);return{disabled:S,label:P,value:_,isLeaf:L,isLoading:Y,checked:B,halfChecked:$,option:k,fullPath:q,fullPathKey:j}})},[r,f,g,h,c,i]);return E.createElement("ul",{className:v,role:"menu"},I.map(function(k){var D,S=k.disabled,A=k.label,P=k.value,_=k.isLeaf,L=k.isLoading,q=k.checked,j=k.halfChecked,Y=k.option,B=k.fullPath,$=k.fullPathKey,T=function(){if(!(S||u)){var z=lt(B);O&&_&&z.pop(),d(z)}},R=function(){l(Y)&&s(B,_)},F;return typeof Y.title=="string"?F=Y.title:typeof A=="string"&&(F=A),E.createElement("li",{key:$,className:Ae(p,(D={},ge(D,"".concat(p,"-expand"),!_),ge(D,"".concat(p,"-active"),a===P||a===$),ge(D,"".concat(p,"-disabled"),S),ge(D,"".concat(p,"-loading"),L),D)),style:N,role:"menuitemcheckbox",title:F,"aria-checked":q,"data-path-key":$,onClick:function(){T(),(!n||_)&&R()},onDoubleClick:function(){b&&o(!1)},onMouseEnter:function(){O&&T()},onMouseDown:function(z){z.preventDefault()}},n&&E.createElement(Vh,{prefixCls:"".concat(t,"-checkbox"),checked:q,halfChecked:j,disabled:S,onClick:function(z){z.stopPropagation(),R()}}),E.createElement("div",{className:"".concat(p,"-content")},A),!L&&y&&!_&&E.createElement("div",{className:"".concat(p,"-expand-icon")},y),L&&C&&E.createElement("div",{className:"".concat(p,"-loading-icon")},C))}))}const Gh=function(){var e=oi(),t=e.multiple,n=e.open,r=E.useContext(rr),a=r.values,i=E.useState([]),o=Pe(i,2),s=o[0],d=o[1];return E.useEffect(function(){if(n&&!t){var f=a[0];d(f||[])}},[n]),[s,d]},Yh=function(e,t,n,r,a,i){var o=oi(),s=o.direction,d=o.searchValue,f=o.toggleOpen,h=o.open,c=s==="rtl",l=E.useMemo(function(){for(var N=-1,O=t,I=[],k=[],D=r.length,S=ss(t,n),A=function(Y){var B=O.findIndex(function($,T){return(S[T]?Et(S[T]):$[n.value])===r[Y]});if(B===-1)return"break";N=B,I.push(N),k.push(r[Y]),O=O[N][n.children]},P=0;P<D&&O;P+=1){var _=A(P);if(_==="break")break}for(var L=t,q=0;q<I.length-1;q+=1)L=L[I[q]][n.children];return[k,N,L,S]},[r,n,t]),u=Pe(l,4),v=u[0],p=u[1],m=u[2],g=u[3],b=function(O){a(O)},x=function(O){var I=m.length,k=p;k===-1&&O<0&&(k=I);for(var D=0;D<I;D+=1){k=(k+O+I)%I;var S=m[k];if(S&&!S.disabled){var A=v.slice(0,-1).concat(g[k]?Et(g[k]):S[n.value]);b(A);return}}},y=function(){if(v.length>1){var O=v.slice(0,-1);b(O)}else f(!1)},C=function(){var O,I=((O=m[p])===null||O===void 0?void 0:O[n.children])||[],k=I.find(function(S){return!S.disabled});if(k){var D=[].concat(lt(v),[k[n.value]]);b(D)}};E.useImperativeHandle(e,function(){return{onKeyDown:function(O){var I=O.which;switch(I){case Ce.UP:case Ce.DOWN:{var k=0;I===Ce.UP?k=-1:I===Ce.DOWN&&(k=1),k!==0&&x(k);break}case Ce.LEFT:{c?C():y();break}case Ce.RIGHT:{c?y():C();break}case Ce.BACKSPACE:{d||y();break}case Ce.ENTER:{if(v.length){var D=m[p],S=(D==null?void 0:D[cn])||[];S.length?i(S.map(function(A){return A[n.value]}),S[S.length-1]):i(v,m[p])}break}case Ce.ESC:f(!1),h&&O.stopPropagation()}},onKeyUp:function(){}}})};var Kh=E.forwardRef(function(e,t){var n,r,a,i,o=oi(),s=o.prefixCls,d=o.multiple,f=o.searchValue,h=o.toggleOpen,c=o.notFoundContent,l=o.direction,u=o.open,v=E.useRef(),p=l==="rtl",m=E.useContext(rr),g=m.options,b=m.values,x=m.halfValues,y=m.fieldNames,C=m.changeOnSelect,N=m.onSelect,O=m.searchOptions,I=m.dropdownPrefixCls,k=m.loadData,D=m.expandTrigger,S=I||s,A=E.useState([]),P=Pe(A,2),_=P[0],L=P[1],q=function(re){if(!(!k||f)){var fe=Kn(re,g,y),he=fe.map(function(ne){var ie=ne.option;return ie}),K=he[he.length-1];if(K&&!zn(K,y)){var X=Et(re);L(function(ne){return[].concat(lt(ne),[X])}),k(he)}}};E.useEffect(function(){_.length&&_.forEach(function(ee){var re=_h(ee),fe=Kn(re,g,y,!0).map(function(K){var X=K.option;return X}),he=fe[fe.length-1];(!he||he[y.children]||zn(he,y))&&L(function(K){return K.filter(function(X){return X!==ee})})})},[g,_,y]);var j=E.useMemo(function(){return new Set(sn(b))},[b]),Y=E.useMemo(function(){return new Set(sn(x))},[x]),B=Gh(),$=Pe(B,2),T=$[0],R=$[1],F=function(re){R(re),q(re)},U=function(re){var fe=re.disabled,he=zn(re,y);return!fe&&(he||C||d)},z=function(re,fe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;N(re),!d&&(fe||C&&(D==="hover"||he))&&h(!1)},M=E.useMemo(function(){return f?O:g},[f,O,g]),H=E.useMemo(function(){for(var ee=[{options:M}],re=M,fe=ss(re,y),he=function(){var ie=T[K],J=re.find(function(le,ve){return(fe[ve]?Et(fe[ve]):le[y.value])===ie}),ue=J==null?void 0:J[y.children];if(!(ue!=null&&ue.length))return"break";re=ue,ee.push({options:ue})},K=0;K<T.length;K+=1){var X=he();if(X==="break")break}return ee},[M,T,y]),W=function(re,fe){U(fe)&&z(re,zn(fe,y),!0)};Yh(t,M,y,T,F,W),E.useEffect(function(){for(var ee=0;ee<T.length;ee+=1){var re,fe=T.slice(0,ee+1),he=Et(fe),K=(re=v.current)===null||re===void 0?void 0:re.querySelector('li[data-path-key="'.concat(he.replace(/\\{0,2}"/g,'\\"'),'"]'));K&&Mh(K)}},[T]);var V=!((n=H[0])!==null&&n!==void 0&&(r=n.options)!==null&&r!==void 0&&r.length),G=[(a={},ge(a,y.value,"__EMPTY__"),ge(a,us,c),ge(a,"disabled",!0),a)],te=de(de({},e),{},{multiple:!V&&d,onSelect:z,onActive:F,onToggleOpen:h,checkedSet:j,halfCheckedSet:Y,loadingKeys:_,isSelectable:U}),Q=V?[{options:G}]:H,ae=Q.map(function(ee,re){var fe=T.slice(0,re),he=T[re];return E.createElement(Wh,oe({key:re},te,{searchValue:f,prefixCls:S,options:ee.options,prevValuePath:fe,activeValue:he}))});return E.createElement(Uh,{open:u},E.createElement("div",{className:Ae("".concat(S,"-menus"),(i={},ge(i,"".concat(S,"-menu-empty"),V),ge(i,"".concat(S,"-rtl"),p),i)),ref:v},ae))}),Xh=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy"];function Zh(e){return Array.isArray(e)&&Array.isArray(e[0])}function lo(e){return e?Zh(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}var ea=E.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,a=r===void 0?"rc-cascader":r,i=e.fieldNames,o=e.defaultValue,s=e.value,d=e.changeOnSelect,f=e.onChange,h=e.displayRender,c=e.checkable,l=e.searchValue,u=e.onSearch,v=e.showSearch,p=e.expandTrigger,m=e.options,g=e.dropdownPrefixCls,b=e.loadData,x=e.popupVisible,y=e.open,C=e.popupClassName,N=e.dropdownClassName,O=e.dropdownMenuColumnStyle,I=e.popupPlacement,k=e.placement,D=e.onDropdownVisibleChange,S=e.onPopupVisibleChange,A=e.expandIcon,P=A===void 0?">":A,_=e.loadingIcon,L=e.children,q=e.dropdownMatchSelectWidth,j=q===void 0?!1:q,Y=e.showCheckedStrategy,B=Y===void 0?os:Y,$=Gn(e,Xh),T=Mu(n),R=!!c,F=kt(o,{value:s,postState:lo}),U=Pe(F,2),z=U[0],M=U[1],H=E.useMemo(function(){return Rh(i)},[JSON.stringify(i)]),W=E.useMemo(function(){return m||[]},[m]),V=jh(W,H),G=E.useCallback(function(Ve){var we=V();return Ve.map(function(We){var at=we[We].nodes;return at.map(function(ze){return ze[H.value]})})},[V,H]),te=kt("",{value:l,postState:function(we){return we||""}}),Q=Pe(te,2),ae=Q[0],ee=Q[1],re=function(we,We){ee(we),We.source!=="blur"&&u&&u(we)},fe=zh(v),he=Pe(fe,2),K=he[0],X=he[1],ne=Th(ae,W,H,g||a,X,d),ie=Hh(W,H),J=E.useMemo(function(){var Ve=ie(z),we=Pe(Ve,2),We=we[0],at=we[1];if(!R||!z.length)return[We,[],at];var ze=sn(We),Me=V(),ht=Sa(ze,!0,Me),Ye=ht.checkedKeys,Ct=ht.halfCheckedKeys;return[G(Ye),G(Ct),at]},[R,z,V,G,ie]),ue=Pe(J,3),le=ue[0],ve=ue[1],ke=ue[2],_e=E.useMemo(function(){var Ve=sn(le),we=io(Ve,V,B);return[].concat(lt(ke),lt(G(we)))},[le,V,G,ke,B]),Se=Lh(_e,W,H,R,h),Be=oo(function(Ve){if(M(Ve),f){var we=lo(Ve),We=we.map(function(Me){return Kn(Me,W,H).map(function(ht){return ht.option})}),at=R?we:we[0],ze=R?We:We[0];f(at,ze)}}),De=oo(function(Ve){if(ee(""),!R)Be(Ve);else{var we=Et(Ve),We=sn(le),at=sn(ve),ze=We.includes(we),Me=ke.some(function(_t){return Et(_t)===we}),ht=le,Ye=ke;if(Me&&!ze)Ye=ke.filter(function(_t){return Et(_t)!==we});else{var Ct=ze?We.filter(function(_t){return _t!==we}):[].concat(lt(We),[we]),on=V(),_n;if(ze){var Rn=Sa(Ct,{checked:!1,halfCheckedKeys:at},on);_n=Rn.checkedKeys}else{var yr=Sa(Ct,!0,on);_n=yr.checkedKeys}var br=io(_n,V,B);ht=G(br)}Be([].concat(lt(Ye),lt(ht)))}}),rt=function(we,We){if(We.type==="clear"){Be([]);return}var at=We.values[0],ze=at.valueCells;De(ze)},Ft=y!==void 0?y:x,Ue=N||C,ot=k||I,Yt=function(we){D==null||D(we),S==null||S(we)},Kt=E.useMemo(function(){return{options:W,fieldNames:H,values:le,halfValues:ve,changeOnSelect:d,onSelect:De,checkable:c,searchOptions:ne,dropdownPrefixCls:g,loadData:b,expandTrigger:p,expandIcon:P,loadingIcon:_,dropdownMenuColumnStyle:O}},[W,H,le,ve,d,De,c,ne,g,b,p,P,_,O]),an=!(ae?ne:W).length,Tn=ae&&X.matchInputWidth||an?{}:{minWidth:"auto"};return E.createElement(rr.Provider,{value:Kt},E.createElement(Lu,oe({},$,{ref:t,id:T,prefixCls:a,dropdownMatchSelectWidth:j,dropdownStyle:Tn,displayValues:Se,onDisplayValuesChange:rt,mode:R?"multiple":void 0,searchValue:ae,onSearch:re,showSearch:K,OptionList:Kh,emptyOptions:an,open:Ft,dropdownClassName:Ue,placement:ot,onDropdownVisibleChange:Yt,getRawInputElement:function(){return L}})))});ea.SHOW_PARENT=os;ea.SHOW_CHILD=ls;const Qh=e=>{const{prefixCls:t,componentCls:n,antCls:r}=e,a=`${n}-menu-item`,i=`
    &${a}-expand ${a}-expand-icon,
    ${a}-loading-icon
  `,o=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return[{[n]:{width:e.controlWidth}},{[`${n}-dropdown`]:[$u(`${t}-checkbox`,e),{[`&${r}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[a]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Al),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${o}px ${e.paddingSM}px`,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:e.colorTextDisabled}},[`&-active:not(${a}-disabled)`]:{["&, &:hover"]:{fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive}},"&-content":{flex:"auto"},[i]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},Bu(e)]},Jh=Zr("Cascader",e=>[Qh(e)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var ep=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const{SHOW_CHILD:tp,SHOW_PARENT:np}=ea;function rp(e,t,n){const r=e.toLowerCase().split(t).reduce((o,s,d)=>d===0?[s]:[].concat(lt(o),[t,s]),[]),a=[];let i=0;return r.forEach((o,s)=>{const d=i+o.length;let f=e.slice(i,d);i=d,s%2===1&&(f=E.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${s}`},f)),a.push(f)}),a}const ap=(e,t,n,r)=>{const a=[],i=e.toLowerCase();return t.forEach((o,s)=>{s!==0&&a.push(" / ");let d=o[r.label];const f=typeof d;(f==="string"||f==="number")&&(d=rp(String(d),i,n)),a.push(d)}),a},ar=E.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:a,className:i,rootClassName:o,multiple:s,bordered:d=!0,transitionName:f,choiceTransitionName:h="",popupClassName:c,dropdownClassName:l,expandIcon:u,placement:v,showSearch:p,allowClear:m=!0,notFoundContent:g,direction:b,getPopupContainer:x,status:y,showArrow:C,builtinPlacements:N}=e,O=ep(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements"]),I=Fu(O,["suffixIcon"]),{getPopupContainer:k,getPrefixCls:D,renderEmpty:S,direction:A}=E.useContext(mn),P=b||A,_=P==="rtl",{status:L,hasFeedback:q,isFormItemInput:j,feedbackIcon:Y}=E.useContext(ja),B=Ku(L,y),$=g||(S==null?void 0:S("Cascader"))||E.createElement(qu,{componentName:"Cascader"}),T=D(),R=D("select",n),F=D("cascader",n),[U,z]=ju(R),[M]=Jh(F),{compactSize:H,compactItemClassnames:W}=Hu(R,b),V=Ae(c||l,`${F}-dropdown`,{[`${F}-dropdown-rtl`]:P==="rtl"},o,z),G=E.useMemo(()=>{if(!p)return p;let ve={render:ap};return typeof p=="object"&&(ve=Object.assign(Object.assign({},ve),p)),ve},[p]),te=E.useContext(zu),Q=H||r||te,ae=E.useContext(Uu),ee=a??ae;let re=u;u||(re=_?E.createElement(dn,null):E.createElement(Pl,null));const fe=E.createElement("span",{className:`${R}-menu-item-loading-icon`},E.createElement(li,{spin:!0})),he=E.useMemo(()=>s?E.createElement("span",{className:`${F}-checkbox-inner`}):!1,[s]),K=Xu(C),{suffixIcon:X,removeIcon:ne,clearIcon:ie}=Vu(Object.assign(Object.assign({},e),{hasFeedback:q,feedbackIcon:Y,showArrow:K,multiple:s,prefixCls:R})),J=E.useMemo(()=>v!==void 0?v:_?"bottomRight":"bottomLeft",[v,_]),ue=Wu(N),le=E.createElement(ea,Object.assign({prefixCls:R,className:Ae(!n&&F,{[`${R}-lg`]:Q==="large",[`${R}-sm`]:Q==="small",[`${R}-rtl`]:_,[`${R}-borderless`]:!d,[`${R}-in-form-item`]:j},Gu(R,B,q),W,i,o,z),disabled:ee},I,{builtinPlacements:ue,direction:P,placement:J,notFoundContent:$,allowClear:m,showSearch:G,expandIcon:re,inputIcon:X,removeIcon:ne,clearIcon:ie,loadingIcon:fe,checkable:he,dropdownClassName:V,dropdownPrefixCls:n||F,choiceTransitionName:un(T,"",h),transitionName:un(T,Yu(v),f),getPopupContainer:x||k,ref:t,showArrow:q||K}));return M(U(le))}),ip=Zu(ar);ar.SHOW_PARENT=np;ar.SHOW_CHILD=tp;ar._InternalPanelDoNotUseOrYouWillBeFired=ip;const ds=ar;var op={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const lp=op;var fs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:lp}))};fs.displayName="ClockCircleOutlined";const hs=E.forwardRef(fs);function ps(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function sp(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var cp=["visible","onVisibleChange","getContainer","current","countRender","onChange"],mi=E.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),up=mi.Provider;function Ea(e,t){if(t!==void 0){var n=e.indexOf(t);if(n!==-1)return n}}var dp=function(t){var n=t.previewPrefixCls,r=n===void 0?"rc-image-preview":n,a=t.children,i=t.icons,o=i===void 0?{}:i,s=t.preview,d=$t(s)==="object"?s:{},f=d.visible,h=f===void 0?void 0:f,c=d.onVisibleChange,l=c===void 0?void 0:c,u=d.getContainer,v=u===void 0?void 0:u,p=d.current,m=p===void 0?0:p,g=d.countRender,b=g===void 0?void 0:g,x=d.onChange,y=x===void 0?void 0:x,C=Gn(d,cp),N=E.useState(new Map),O=Pe(N,2),I=O[0],k=O[1],D=Array.from(I.keys()),S=E.useRef(),A=kt(void 0,{onChange:function(G,te){S.current!==void 0&&(y==null||y(Ea(D,G),Ea(D,te))),S.current=te}}),P=Pe(A,2),_=P[0],L=P[1],q=kt(!!h,{value:h,onChange:function(G,te){l==null||l(G,te,Ea(D,_)),S.current=G?_:void 0}}),j=Pe(q,2),Y=j[0],B=j[1],$=E.useState(null),T=Pe($,2),R=T[0],F=T[1],U=h!==void 0,z=D[m],M=new Map(Array.from(I).filter(function(V){var G=Pe(V,2),te=G[1].canPreview;return!!te}).map(function(V){var G=Pe(V,2),te=G[0],Q=G[1].url;return[te,Q]})),H=function(G,te){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ae=function(){k(function(re){var fe=new Map(re),he=fe.delete(G);return he?fe:re})};return k(function(ee){return new Map(ee).set(G,{url:te,canPreview:Q})}),ae},W=function(G){G.stopPropagation(),B(!1),F(null)};return E.useEffect(function(){L(z)},[z]),E.useEffect(function(){!Y&&U&&L(z)},[z,U,Y]),E.createElement(up,{value:{isPreviewGroup:!0,previewUrls:M,setPreviewUrls:k,current:_,setCurrent:L,setShowPreview:B,setMousePosition:F,registerImage:H}},a,E.createElement(vs,oe({"aria-hidden":!Y,visible:Y,prefixCls:r,onClose:W,mousePosition:R,src:M.get(_),icons:o,getContainer:v,countRender:b},C)))},Pr=1,Tr=50,Ln=1,fp=1,hp=function(t){var n,r=t.visible,a=t.maskTransitionName,i=t.getContainer,o=t.prefixCls,s=t.rootClassName,d=t.icons,f=t.countRender,h=t.showSwitch,c=t.showProgress,l=t.current,u=t.count,v=t.scale,p=t.onSwitchLeft,m=t.onSwitchRight,g=t.onClose,b=t.onZoomIn,x=t.onZoomOut,y=t.onRotateRight,C=t.onRotateLeft,N=t.onFlipX,O=t.onFlipY,I=d.rotateLeft,k=d.rotateRight,D=d.zoomIn,S=d.zoomOut,A=d.close,P=d.left,_=d.right,L=d.flipX,q=d.flipY,j="".concat(o,"-operations-operation"),Y="".concat(o,"-operations-icon"),B=[{icon:A,onClick:g,type:"close"},{icon:D,onClick:b,type:"zoomIn",disabled:v===Tr},{icon:S,onClick:x,type:"zoomOut",disabled:v===Pr},{icon:k,onClick:y,type:"rotateRight"},{icon:I,onClick:C,type:"rotateLeft"},{icon:L,onClick:N,type:"flipX"},{icon:q,onClick:O,type:"flipY"}],$=E.createElement(E.Fragment,null,h&&E.createElement(E.Fragment,null,E.createElement("div",{className:Ae("".concat(o,"-switch-left"),ge({},"".concat(o,"-switch-left-disabled"),l===0)),onClick:p},P),E.createElement("div",{className:Ae("".concat(o,"-switch-right"),ge({},"".concat(o,"-switch-right-disabled"),l===u-1)),onClick:m},_)),E.createElement("ul",{className:"".concat(o,"-operations")},c&&E.createElement("li",{className:"".concat(o,"-operations-progress")},(n=f==null?void 0:f(l+1,u))!==null&&n!==void 0?n:"".concat(l+1," / ").concat(u)),B.map(function(T){var R,F=T.icon,U=T.onClick,z=T.type,M=T.disabled;return E.createElement("li",{className:Ae(j,(R={},ge(R,"".concat(o,"-operations-operation-").concat(z),!0),ge(R,"".concat(o,"-operations-operation-disabled"),!!M),R)),onClick:U,key:z},E.isValidElement(F)?E.cloneElement(F,{className:Y}):F)})));return E.createElement(Qu,{visible:r,motionName:a},function(T){var R=T.className,F=T.style;return E.createElement(Ju,{open:!0,getContainer:i??document.body},E.createElement("div",{className:Ae("".concat(o,"-operations-wrapper"),R,s),style:F},$))})},so={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function pp(e){var t=E.useRef(null),n=E.useRef([]),r=E.useState(so),a=Pe(r,2),i=a[0],o=a[1],s=function(){o(so)},d=function(c){t.current===null&&(n.current=[],t.current=qa(function(){o(function(l){var u=l;return n.current.forEach(function(v){u=de(de({},u),v)}),t.current=null,u})})),n.current.push(de(de({},i),c))},f=function(c,l,u){var v=e.current,p=v.width,m=v.height,g=v.offsetWidth,b=v.offsetHeight,x=v.offsetLeft,y=v.offsetTop,C=c,N=i.scale*c;N>Tr?(C=Tr/i.scale,N=Tr):N<Pr&&(C=Pr/i.scale,N=Pr);var O=l??innerWidth/2,I=u??innerHeight/2,k=C-1,D=k*p*.5,S=k*m*.5,A=k*(O-i.x-x),P=k*(I-i.y-y),_=i.x-(A-D),L=i.y-(P-S);if(c<1&&N===1){var q=g*N,j=b*N,Y=ps(),B=Y.width,$=Y.height;q<=B&&j<=$&&(_=0,L=0)}d({x:_,y:L,scale:N})};return{transform:i,resetTransform:s,updateTransform:d,dispatchZoomChange:f}}function co(e,t,n,r){var a=t+n,i=(n-r)/2;if(n>r){if(t>0)return ge({},e,i);if(t<0&&a<r)return ge({},e,-i)}else if(t<0||a>r)return ge({},e,t<0?i:-i);return{}}function vp(e,t,n,r){var a=ps(),i=a.width,o=a.height,s=null;return e<=i&&t<=o?s={x:0,y:0}:(e>i||t>o)&&(s=de(de({},co("x",n,e,i)),co("y",r,t,o))),s}var gp=["prefixCls","src","alt","onClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],vs=function(t){var n=t.prefixCls,r=t.src,a=t.alt,i=t.onClose,o=t.visible,s=t.icons,d=s===void 0?{}:s,f=t.rootClassName,h=t.getContainer,c=t.countRender,l=t.scaleStep,u=l===void 0?.5:l,v=t.transitionName,p=v===void 0?"zoom":v,m=t.maskTransitionName,g=m===void 0?"fade":m,b=Gn(t,gp),x=E.useRef(),y=E.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),C=E.useState(!1),N=Pe(C,2),O=N[0],I=N[1],k=E.useContext(mi),D=k.previewUrls,S=k.current,A=k.isPreviewGroup,P=k.setCurrent,_=D.size,L=Array.from(D.keys()),q=L.indexOf(S),j=A?D.get(S):r,Y=A&&_>1,B=A&&_>=1,$=pp(x),T=$.transform,R=$.resetTransform,F=$.updateTransform,U=$.dispatchZoomChange,z=T.rotate,M=T.scale,H=Ae(ge({},"".concat(n,"-moving"),O)),W=function(){R()},V=function(){U(Ln+u)},G=function(){U(Ln-u)},te=function(){F({rotate:z+90})},Q=function(){F({rotate:z-90})},ae=function(){F({flipX:!T.flipX})},ee=function(){F({flipY:!T.flipY})},re=function(le){le.preventDefault(),le.stopPropagation(),q>0&&P(L[q-1])},fe=function(le){le.preventDefault(),le.stopPropagation(),q<_-1&&P(L[q+1])},he=function(){if(o&&O){I(!1);var le=y.current,ve=le.transformX,ke=le.transformY,_e=T.x!==ve&&T.y!==ke;if(!_e)return;var Se=x.current.offsetWidth*M,Be=x.current.offsetHeight*M,De=x.current.getBoundingClientRect(),rt=De.left,Ft=De.top,Ue=z%180!==0,ot=vp(Ue?Be:Se,Ue?Se:Be,rt,Ft);ot&&F(de({},ot))}},K=function(le){le.button===0&&(le.preventDefault(),le.stopPropagation(),y.current={deltaX:le.pageX-T.x,deltaY:le.pageY-T.y,transformX:T.x,transformY:T.y},I(!0))},X=function(le){o&&O&&F({x:le.pageX-y.current.deltaX,y:le.pageY-y.current.deltaY})},ne=function(le){if(!(!o||le.deltaY==0)){var ve=Math.abs(le.deltaY/100),ke=Math.min(ve,fp),_e=Ln+ke*u;le.deltaY>0&&(_e=Ln/_e),U(_e,le.clientX,le.clientY)}},ie=E.useCallback(function(ue){!o||!Y||(ue.keyCode===Ce.LEFT?q>0&&P(L[q-1]):ue.keyCode===Ce.RIGHT&&q<_-1&&P(L[q+1]))},[q,_,L,P,Y,o]),J=function(le){o&&(M!==1?F({x:0,y:0,scale:1}):U(Ln+u,le.clientX,le.clientY))};return E.useEffect(function(){var ue,le,ve=Mn(window,"mouseup",he,!1),ke=Mn(window,"mousemove",X,!1),_e=Mn(window,"keydown",ie,!1);try{window.top!==window.self&&(ue=Mn(window.top,"mouseup",he,!1),le=Mn(window.top,"mousemove",X,!1))}catch{}return function(){var Se,Be;ve.remove(),ke.remove(),_e.remove(),(Se=ue)===null||Se===void 0||Se.remove(),(Be=le)===null||Be===void 0||Be.remove()}},[o,O,ie]),Oe.createElement(Oe.Fragment,null,Oe.createElement(ed,oe({transitionName:p,maskTransitionName:g,closable:!1,keyboard:!0,prefixCls:n,onClose:i,visible:o,wrapClassName:H,rootClassName:f,getContainer:h},b,{afterClose:W}),Oe.createElement("div",{className:"".concat(n,"-img-wrapper")},Oe.createElement("img",{width:t.width,height:t.height,onWheel:ne,onMouseDown:K,onDoubleClick:J,ref:x,className:"".concat(n,"-img"),src:j,alt:a,style:{transform:"translate3d(".concat(T.x,"px, ").concat(T.y,"px, 0) scale3d(").concat(T.flipX?"-":"").concat(M,", ").concat(T.flipY?"-":"").concat(M,", 1) rotate(").concat(z,"deg)")}}))),Oe.createElement(hp,{visible:o,maskTransitionName:g,getContainer:h,prefixCls:n,rootClassName:f,icons:d,countRender:c,showSwitch:Y,showProgress:B,current:q,count:_,scale:M,onSwitchLeft:re,onSwitchRight:fe,onZoomIn:V,onZoomOut:G,onRotateRight:te,onRotateLeft:Q,onFlipX:ae,onFlipY:ee,onClose:i}))},mp=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],yp=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],uo=0;function bp(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}var ta=function(t){var n,r=t.src,a=t.alt,i=t.onPreviewClose,o=t.prefixCls,s=o===void 0?"rc-image":o,d=t.previewPrefixCls,f=d===void 0?"".concat(s,"-preview"):d,h=t.placeholder,c=t.fallback,l=t.width,u=t.height,v=t.style,p=t.preview,m=p===void 0?!0:p,g=t.className,b=t.onClick,x=t.onError,y=t.wrapperClassName,C=t.wrapperStyle,N=t.rootClassName,O=t.crossOrigin,I=t.decoding,k=t.loading,D=t.referrerPolicy,S=t.sizes,A=t.srcSet,P=t.useMap,_=t.draggable,L=Gn(t,mp),q=h&&h!==!0,j=$t(m)==="object"?m:{},Y=j.src,B=j.visible,$=B===void 0?void 0:B,T=j.onVisibleChange,R=T===void 0?i:T,F=j.getContainer,U=F===void 0?void 0:F,z=j.mask,M=j.maskClassName,H=j.icons,W=j.scaleStep,V=Gn(j,yp),G=Y??r,te=$!==void 0,Q=kt(!!$,{value:$,onChange:R}),ae=Pe(Q,2),ee=ae[0],re=ae[1],fe=E.useState(q?"loading":"normal"),he=Pe(fe,2),K=he[0],X=he[1],ne=E.useState(null),ie=Pe(ne,2),J=ie[0],ue=ie[1],le=K==="error",ve=E.useContext(mi),ke=ve.isPreviewGroup,_e=ve.setCurrent,Se=ve.setShowPreview,Be=ve.setMousePosition,De=ve.registerImage,rt=E.useState(function(){return uo+=1,uo}),Ft=Pe(rt,1),Ue=Ft[0],ot=!!m,Yt=E.useRef(!1),Kt=function(){X("normal")},an=function(Me){if(!te){var ht=sp(Me.target),Ye=ht.left,Ct=ht.top;ke?(_e(Ue),Be({x:Ye,y:Ct})):ue({x:Ye,y:Ct})}ke?Se(!0):re(!0),b==null||b(Me)},Tn=function(Me){Me.stopPropagation(),re(!1),te||ue(null)},Ve=function(Me){Yt.current=!1,K==="loading"&&Me!=null&&Me.complete&&(Me.naturalWidth||Me.naturalHeight)&&(Yt.current=!0,Kt())};E.useEffect(function(){bp(G).then(function(ze){ze||X("error")})},[G]),E.useEffect(function(){var ze=De(Ue,G);return ze},[]),E.useEffect(function(){De(Ue,G,ot)},[G,ot]),E.useEffect(function(){le&&X("normal"),q&&!Yt.current&&X("loading")},[r]);var we=Ae(s,y,N,ge({},"".concat(s,"-error"),le)),We=le&&c?c:G,at={crossOrigin:O,decoding:I,draggable:_,loading:k,referrerPolicy:D,sizes:S,srcSet:A,useMap:P,onError:x,alt:a,className:Ae("".concat(s,"-img"),ge({},"".concat(s,"-img-placeholder"),h===!0),g),style:de({height:u},v)};return E.createElement(E.Fragment,null,E.createElement("div",oe({},L,{className:we,onClick:ot?an:b,style:de({width:l,height:u},C)}),E.createElement("img",oe({},at,{ref:Ve},le&&c?{src:c}:{onLoad:Kt,src:r},{width:l,height:u})),K==="loading"&&E.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},h),z&&ot&&E.createElement("div",{className:Ae("".concat(s,"-mask"),M),style:{display:((n=at.style)===null||n===void 0?void 0:n.display)==="none"?"none":void 0}},z)),!ke&&ot&&E.createElement(vs,oe({"aria-hidden":!ee,visible:ee,prefixCls:f,onClose:Tn,mousePosition:J,src:We,alt:a,getContainer:U,icons:H,scaleStep:W,rootClassName:N},V)))};ta.PreviewGroup=dp;ta.displayName="Image";var xp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Cp=xp;var gs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Cp}))};gs.displayName="RotateLeftOutlined";const wp=E.forwardRef(gs);var Sp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Ep=Sp;var ms=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Ep}))};ms.displayName="RotateRightOutlined";const Op=E.forwardRef(ms);var Ip={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Dp=Ip;var ys=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Dp}))};ys.displayName="SwapOutlined";const fo=E.forwardRef(ys);var Np={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const kp=Np;var bs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:kp}))};bs.displayName="ZoomInOutlined";const Ap=E.forwardRef(bs);var Pp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Tp=Pp;var xs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Tp}))};xs.displayName="ZoomOutOutlined";const _p=E.forwardRef(xs),Wa=e=>({position:e||"absolute",inset:0}),Rp=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:a,prefixCls:i}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new At("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Al),{padding:`0 ${r}px`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},Mp=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,imagePreviewOperationDisabledColor:a,motionDurationSlow:i}=e,o=new At(n).setAlpha(.1),s=o.clone().setAlpha(.2);return{[`${t}-operations`]:Object.assign(Object.assign({},ii(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:o.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${i}`,"&:hover":{background:s.toRgbString()},"&-disabled":{color:a,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}})}},Lp=e=>{const{modalMaskBg:t,iconCls:n,imagePreviewOperationDisabledColor:r,previewCls:a,zIndexPopup:i,motionDurationSlow:o}=e,s=new At(t).setAlpha(.1),d=s.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${o}`,pointerEvents:"auto","&:hover":{background:d.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.imagePreviewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},$p=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Wa()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},Wa()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[Mp(e),Lp(e)]}]},Bp=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Rp(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Wa())}}},Fp=e=>{const{previewCls:t}=e;return{[`${t}-root`]:nd(e,"zoom"),["&"]:rd(e,!0)}},Cs=Zr("Image",e=>{const t=new At(e.colorTextLightSolid),n=`${e.componentCls}-preview`,r=Rr(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new At(t).setAlpha(.25).toRgbString(),modalMaskBg:new At("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:e.fontSizeIcon*1.5,imagePreviewSwitchSize:e.controlHeightLG});return[Bp(r),$p(r),td(Rr(r,{componentCls:n})),Fp(r)]},e=>({zIndexPopup:e.zIndexPopupBase+80}));var qp=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ws={rotateLeft:E.createElement(wp,null),rotateRight:E.createElement(Op,null),zoomIn:E.createElement(Ap,null),zoomOut:E.createElement(_p,null),close:E.createElement(dt,null),left:E.createElement(dn,null),right:E.createElement(Pl,null),flipX:E.createElement(fo,null),flipY:E.createElement(fo,{rotate:90})},jp=e=>{var{previewPrefixCls:t,preview:n}=e,r=qp(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=E.useContext(mn),i=a("image",t),o=`${i}-preview`,s=a(),[d,f]=Cs(i),h=E.useMemo(()=>{var c;if(n===!1)return n;const l=typeof n=="object"?n:{},u=Ae(f,(c=l.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},l),{transitionName:un(s,"zoom",l.transitionName),maskTransitionName:un(s,"fade",l.maskTransitionName),rootClassName:u})},[n]);return d(E.createElement(ta.PreviewGroup,Object.assign({preview:h,previewPrefixCls:o,icons:ws},r)))},Hp=jp;var ho=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ss=e=>{var{prefixCls:t,preview:n,rootClassName:r}=e,a=ho(e,["prefixCls","preview","rootClassName"]);const{getPrefixCls:i,locale:o=Yi,getPopupContainer:s}=E.useContext(mn),d=i("image",t),f=i(),h=o.Image||Yi.Image,[c,l]=Cs(d),u=Ae(r,l),v=E.useMemo(()=>{if(n===!1)return n;const p=typeof n=="object"?n:{},{getContainer:m}=p,g=ho(p,["getContainer"]);return Object.assign(Object.assign({mask:E.createElement("div",{className:`${d}-mask-info`},E.createElement(Tl,null),h==null?void 0:h.preview),icons:ws},g),{getContainer:m||s,transitionName:un(f,"zoom",p.transitionName),maskTransitionName:un(f,"fade",p.maskTransitionName)})},[n,h]);return c(E.createElement(ta,Object.assign({prefixCls:`${d}`,preview:v,rootClassName:u},a)))};Ss.PreviewGroup=Hp;const zp=Ss;var Up={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"};const Vp=Up;var Es=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Vp}))};Es.displayName="AlignLeftOutlined";const Wp=E.forwardRef(Es);var Gp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const Yp=Gp;var Os=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Yp}))};Os.displayName="ArrowRightOutlined";const Kp=E.forwardRef(Os);var Xp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M433.1 657.7a31.8 31.8 0 0051.7 0l210.6-292c3.8-5.3 0-12.7-6.5-12.7H642c-10.2 0-19.9 4.9-25.9 13.3L459 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H315c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"check-square",theme:"outlined"};const Zp=Xp;var Is=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Zp}))};Is.displayName="CheckSquareOutlined";const yi=E.forwardRef(Is);var Qp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};const Jp=Qp;var Ds=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Jp}))};Ds.displayName="ContainerOutlined";const ev=E.forwardRef(Ds);var tv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const nv=tv;var Ns=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:nv}))};Ns.displayName="CopyOutlined";const ks=E.forwardRef(Ns);var rv={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const av=rv;var As=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:av}))};As.displayName="InboxOutlined";const Ps=E.forwardRef(As);var iv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const ov=iv;var Ts=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:ov}))};Ts.displayName="LogoutOutlined";const lv=E.forwardRef(Ts);var sv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"};const cv=sv;var _s=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:cv}))};_s.displayName="MessageOutlined";const uv=E.forwardRef(_s);var dv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const fv=dv;var Rs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:fv}))};Rs.displayName="MinusOutlined";const hv=E.forwardRef(Rs);var pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};const vv=pv;var Ms=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:vv}))};Ms.displayName="SendOutlined";const gv=E.forwardRef(Ms);var mv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const yv=mv;var Ls=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:yv}))};Ls.displayName="SettingOutlined";const bv=E.forwardRef(Ls);var xv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};const Cv=xv;var $s=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Cv}))};$s.displayName="ShareAltOutlined";const wv=E.forwardRef($s);var Sv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};const Ev=Sv;var Bs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Ev}))};Bs.displayName="TagOutlined";const Fs=E.forwardRef(Bs);var Ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const Iv=Ov;var qs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Iv}))};qs.displayName="UploadOutlined";const Dv=E.forwardRef(qs);var Nv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"};const kv=Nv;var js=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:kv}))};js.displayName="UsergroupAddOutlined";const Av=E.forwardRef(js);var Pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"};const Tv=Pv;var Hs=function(t,n){return E.createElement(je,de(de({},t),{},{ref:n,icon:Tv}))};Hs.displayName="WalletOutlined";const _v=E.forwardRef(Hs);function Rv(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Er=(e,t,n)=>{const r=Rv(n);return{[`${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},Mv=e=>ad(e,(t,n)=>{let{textColor:r,lightBorderColor:a,lightColor:i,darkColor:o}=n;return{[`${e.componentCls}-${t}`]:{color:r,background:i,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:o,borderColor:o},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Lv=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:a}=e,i=r-n,o=t-n;return{[a]:Object.assign(Object.assign({},ii(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${a}-close-icon`]:{marginInlineStart:o,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},zs=Zr("Tag",e=>{const{fontSize:t,lineHeight:n,lineWidth:r,fontSizeIcon:a}=e,i=Math.round(t*n),o=e.fontSizeSM,s=i-r*2,d=e.colorFillQuaternary,f=e.colorText,h=Rr(e,{tagFontSize:o,tagLineHeight:s,tagDefaultBg:d,tagDefaultColor:f,tagIconSize:a-2*r,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[Lv(h),Mv(h),Er(h,"success","Success"),Er(h,"processing","Info"),Er(h,"error","Error"),Er(h,"warning","Warning")]});var $v=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Bv=e=>{const{prefixCls:t,className:n,checked:r,onChange:a,onClick:i}=e,o=$v(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:s}=E.useContext(mn),d=u=>{a==null||a(!r),i==null||i(u)},f=s("tag",t),[h,c]=zs(f),l=Ae(f,{[`${f}-checkable`]:!0,[`${f}-checkable-checked`]:r},n,c);return h(E.createElement("span",Object.assign({},o,{className:l,onClick:d})))},Fv=Bv;var qv=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const jv=(e,t)=>{const{prefixCls:n,className:r,rootClassName:a,style:i,children:o,icon:s,color:d,onClose:f,closeIcon:h,closable:c=!1,bordered:l=!0}=e,u=qv(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:v,direction:p}=E.useContext(mn),[m,g]=E.useState(!0);E.useEffect(()=>{"visible"in u&&g(u.visible)},[u.visible]);const b=id(d)||od(d),x=Object.assign({backgroundColor:d&&!b?d:void 0},i),y=v("tag",n),[C,N]=zs(y),O=Ae(y,{[`${y}-${d}`]:b,[`${y}-has-color`]:d&&!b,[`${y}-hidden`]:!m,[`${y}-rtl`]:p==="rtl",[`${y}-borderless`]:!l},r,a,N),I=_=>{_.stopPropagation(),f==null||f(_),!_.defaultPrevented&&g(!1)},k=E.useMemo(()=>c?h?E.createElement("span",{className:`${y}-close-icon`,onClick:I},h):E.createElement(dt,{className:`${y}-close-icon`,onClick:I}):null,[c,h,y,I]),D=typeof u.onClick=="function"||o&&o.type==="a",S=s||null,A=S?E.createElement(E.Fragment,null,S,E.createElement("span",null,o)):o,P=E.createElement("span",Object.assign({},u,{ref:t,className:O,style:x}),A,k);return C(D?E.createElement(ld,null,P):P)},Us=E.forwardRef(jv);Us.CheckableTag=Fv;const Hv=Us;var Vs=(e=>(e.DATE="DATE",e.CHECKLIST="CHECKLIST",e.NONE="NONE",e))(Vs||{});const po={isShow:!1,type:"NONE",position:null},Ws=E.createContext(null),zv=({children:e})=>{const[t,n]=E.useState(null),[r,a]=E.useState(po),i=()=>{a(po)};return w(Ws.Provider,{value:{cardData:t,setCardData:n,openPopover:r,PopoverType:Vs,setOpenPopover:a,handleClosePopover:i},children:e})},ir=()=>Oe.useContext(Ws),He=()=>{const{cardId:e}=Qr();return Te(sd(e))},vo=be.div`
  font-size: 12px;
  font-weight: 600;
  line-height: 150%;
  margin-bottom: 8px;
`,Uv=be(Ih)`
  border: 1px solid #e9e9e9;
  margin-bottom: 24px;

  .ant-picker-calendar-mode-switch {
    display: none;
    margin-bottom: 16px;
  }

  .range-marker {
    height: calc(100% + 10px);
    width: calc(100% + 10px);
    background-color: #d6f3ff8c;
    border-radius: 4px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: -1;
  }
`,Vv=be.div`
  .dayPickerForm {
    display: flex;
    margin-bottom: 16px;
  }

  .dateDisplay {
    background-color: #e9e9e9;
    padding: 4px 8px;
    opacity: 0.5;
  }

  .isShow {
    display: block;
  }

  .isHidden {
    display: none;
  }
`,Wv=()=>{const e=He(),t=Ie(),{handleClosePopover:n}=ir(),{id:r="",date:a={}}=e??{},{startDate:i="",dueDate:o=""}=a??{},[s,d]=E.useState(i?()=>qe(i):null),[f,h]=E.useState(o?()=>qe(o):null),[c,l]=E.useState(""),[u,v]=E.useState(!1),[p,m]=E.useState(!0),g=E.useRef(null),b=E.useRef(null),x=()=>{if(c===""&&!s&&!f)return qe(new Date);switch(c){case"start":return s||void 0;case"end":return f||void 0;default:return}},y=k=>{if(c==="start"){if(f&&k.isAfter(f)){d(k),h(k.add(1,"day"));return}d(k)}else if(c==="end"){if(s&&k.isBefore(s)){h(k),d(k.subtract(1,"day"));return}h(k)}},C=(k,D)=>{switch(D){case"start":v(k.target.checked),k.target.checked?l("start"):d(null);break;case"end":m(k.target.checked),k.target.checked?l("end"):h(null);break}},N=async()=>{if(!u&&!p){O();return}try{await t(cd({cardId:r,startDate:(s==null?void 0:s.format())??"",dueDate:(f==null?void 0:f.format())??""})),n()}catch(k){console.error(k)}},O=async()=>{try{await t(ud(r)),l(""),d(null),h(null),m(!1),v(!1),n()}catch(k){console.error(k)}};E.useEffect(()=>{s&&v(!0),f&&m(!0)},[]),E.useEffect(()=>{var k,D,S;!s&&!f?((k=b==null?void 0:b.current)==null||k.focus(),h(qe(new Date))):s&&!f?(D=g==null?void 0:g.current)==null||D.focus():(S=b==null?void 0:b.current)==null||S.focus()},[]);const I=k=>!s||!f?null:(k==null?void 0:k.isBetween(s,f,"day","[]"))?w("div",{className:"range-marker"}):null;return Z(Le,{children:[w(Uv,{value:x(),fullscreen:!1,onChange:y,onSelect:y,cellRender:I}),Z(Vv,{children:[Z(Ze,{size:0,direction:"vertical",className:"dayPickerForm",children:[w(vo,{children:"起始日"}),Z(Ze,{size:4,children:[w(Yn,{checked:u,onChange:k=>C(k,"start")}),w(Qe,{type:"text",value:(s==null?void 0:s.format("YYYY年MM月DD日"))||"",onFocus:()=>l("start"),className:u?"isShow":"isHidden",placeholder:"年月日",ref:g}),!u&&w("span",{className:"dateDisplay",children:(s==null?void 0:s.format("YYYY年MM月DD日"))||"年月日"})]})]}),Z(Ze,{size:0,direction:"vertical",className:"dayPickerForm",children:[w(vo,{children:"截止日"}),Z(Ze,{size:4,children:[w(Yn,{checked:p,onChange:k=>C(k,"end")}),w(Qe,{type:"text",value:(f==null?void 0:f.format("YYYY年MM月DD日"))||"",onFocus:()=>l("end"),className:p?"isShow":"isHidden",placeholder:"年月日",ref:b}),!p&&w("span",{className:"dateDisplay",children:(f==null?void 0:f.format("YYYY年MM月DD日"))||"年月日"})]})]})]}),w(ce,{type:"primary",block:!0,onClick:N,style:{marginBlock:"8px"},children:"儲存"}),w(ce,{block:!0,onClick:O,children:"移除"})]})};function Gv(e,t){if("card"in t){const n=t,r=e.filter(({_id:a})=>a!==n._id);return n.closed||r.push(n),fn.cloneDeep(r)}if("listId"in t){const n=t;return e.forEach(r=>{r.card=r.card.filter(({_id:a})=>a!==n._id)}),e.filter(({_id:r})=>r===n.listId).forEach(r=>{n.closed||r.card.push(n)}),fn.cloneDeep(e)}return e}const go=65535,Nt=[{color:"#FBF8CC"},{color:"#FDE4CF"},{color:"#FFCFD2"},{color:"#F1C0E8"},{color:"#CFBAF0"},{color:"#A3C4F3"},{color:"#90DBF4"},{color:"#8EECF5"},{color:"#98F5E1"}];function Yv(e){return e===void 0}var Kv=Yv;const mo=Vt(Kv);function yt(e,t,n){const r=mo(n)?e:e.filter(s=>s._id!==n);if(mo(t)){const s=r[r.length-1];return(s?Number(s.position):0)+go}const a=r[t-1],i=r[t],o=a?Number(a.position):0;return i?o+(Number(i.position)-o)/2:o+go}function yo(e,t,n="Card"){if(!e.destination)throw new Error("DropResult 錯誤");if(n==="Card"){const r=t,{target:a,position:i,newList:o,newId:s}=bo(e,r,"card");return a.position=`${i}`,_l({listId:s,cardId:a._id,position:`${i}`}),o}else{const r=t,{target:a,position:i,newList:o,newId:s}=bo(e,r,"checkItem");a.position=`${i}`;const d=e.source.droppableId;return Rl({cardId:r.find(({_id:f})=>f===s).cardId,checkItemId:a._id,checklistIdOld:d,checklistId:s,position:`${i}`}),o}}function bo(e,t,n){if(!e.destination)throw new Error("DropResult 錯誤");const r=e.source.droppableId,a=e.source.index,i=e.destination.droppableId,o=e.destination.index,[s,d]=[r,i].map(l=>t.filter(({_id:u})=>u===l).flatMap(u=>u[n])),f=yt(d,o),h=s[a];s.splice(a,1),d.splice(o,0,h);const c=t.map(l=>l._id===r?{...l,[n]:s}:l._id===i?{...l,[n]:d}:l);return{target:h,position:f,newList:c,newId:i}}function Ga(e,t){if(!e.destination)throw new Error("DropResult 錯誤");const n=e.source.index,r=e.destination.index,a=r+(n<r?1:0),i=yt(t,a);return{target:t.find(({_id:s})=>s===e.draggableId),position:i}}function Xv(e,t){if(!e.destination)return t;const n=t.find(({_id:r})=>{var a;return r===((a=e.destination)==null?void 0:a.droppableId)});if(n&&"card"in n&&Array.isArray(n.card)){const{target:r,position:a}=Ga(e,n.card);r&&(r.position=`${a}`,_l({cardId:r._id,position:r.position}))}if(n&&"cardId"in n&&typeof n.cardId=="string"&&"checkItem"in n&&Array.isArray(n.checkItem)){const{target:r,position:a}=Ga(e,n.checkItem);r&&(r.position=`${a}`,Rl({cardId:n.cardId,checklistId:r.checklistId,checkItemId:r._id,position:r.position}))}return t}function Zv(e,t){if(!e.destination)throw new Error("DropResult 錯誤");const{target:n,position:r}=Ga(e,t);return n&&Qv(n,r),t}function Qv(e,t){e.position=`${t}`,"checkItem"in e&&"cardId"in e&&typeof e.cardId=="string"?dd({cardId:e.cardId,checklistId:e._id,position:e.position}):"card"in e&&fd({listId:e._id,position:e.position})}function Gs(e,t,n="Card"){if(!e.destination)return;const r=e.source.droppableId,a=e.source.index,i=e.destination.droppableId,o=e.destination.index;if(!(a===o&&r===i))return e.type==="COLUMN"?Zv(e,t):r===i?Xv(e,t):n==="CheckList"?yo(e,t,n):yo(e,t)}const Jv=be.div`
  box-shadow: 0px 4px 24px rgba(0, 0, 0, 0.1);
  position: absolute;
  top: ${e=>{var t;return(t=e==null?void 0:e.position)==null?void 0:t.top}}px;
  left: ${e=>{var t;return(t=e==null?void 0:e.position)!=null&&t.left?`${e.position.left}px`:"auto"}};
  right: ${e=>{var t;return(t=e==null?void 0:e.position)!=null&&t.right?`${e.position.right}px`:"auto"}};
  z-index: 1010;

  .ant-card-head-title {
    text-align: center;
  }

  .ant-card-extra {
    position: absolute;
    right: 0;
  }
`,eg=be.div`
  font-size: 12px;
  font-weight: 600;
  line-height: 150%;
  margin-bottom: 8px;
`,tg=()=>{const e=Ie(),t=He(),{handleClosePopover:n}=ir(),[r,a]=E.useState("待辦清單"),[i,o]=E.useState(!1),s=async()=>{if(!(r.trim()===""||!t)){o(!0);try{await e(hd({cardId:t._id,name:r,position:`${yt(t.checklist)}`})),n()}catch(d){console.log("error",d)}finally{o(!1)}}};return Z(Le,{children:[w(eg,{children:"標題"}),w(Fe,{children:w(xe,{span:24,children:w(Qe,{type:"text",placeholder:"待辦清單",value:r,onChange:d=>a(d.target.value),onPressEnter:()=>{s()},style:{width:"100%"}})})}),w(ce,{type:"primary",block:!0,onClick:s,style:{marginBlock:"8px"},loading:i,children:"新增"})]})},ng=()=>{const{openPopover:e,handleClosePopover:t,PopoverType:n}=ir(),{isShow:r,type:a,position:i=null}=e,o=()=>{switch(a){case n.DATE:return w(Wv,{});case n.CHECKLIST:return w(tg,{});default:return null}};return w(Le,{children:r&&w(Jv,{position:i,children:w(Ze,{direction:"vertical",size:16,children:w(Lt,{title:(()=>{switch(a){case n.DATE:return"日期";case n.CHECKLIST:return"新增待辦清單";default:return""}})(),extra:w(ce,{type:"link",icon:w(dt,{}),onClick:t}),size:"small",style:{width:326},children:o()})})})})},rg=be.div`
  padding: 0;
  margin: 0 0 16px;

  .coverImg {
    width: 100%;
    height: 160px;
    border-radius: 0;
    overflow: hidden;
  }
`,ag=be.div`
  border-bottom: 1px solid #d4d4d4;
  padding: 20px 20px 12px;
  margin-bottom: 8px;

  .col {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .icon {
    color: #0083ff;
    font-size: 16px;
  }

  p {
    color: #666666;
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
    cursor: pointer;
  }
`,ig=be.div`
  padding: 0 20px 0;

  .titleInput {
    width: 100%;
  }

  .titleTxt,
  .titleInput {
    font-size: 24px;
    font-weight: 600;
    line-height: 120%;
  }
`,og=()=>{const e=He(),t=Ie(),n=Te(pd(e==null?void 0:e._id)),r=Te(vd),a=e==null?void 0:e.member.find(({userId:i})=>i._id===r._id);return w(ag,{children:Z(Fe,{align:"middle",gutter:24,children:[Z(xe,{flex:"none",className:"col",children:[w(Ps,{className:"icon"}),Z("p",{children:["在「",n==null?void 0:n.name,"」列表中"]})]}),!a&&Z(xe,{flex:"none",className:"col",children:[w(Av,{className:"icon"}),w("p",{onClick:async()=>{e&&(await t(si({cardId:e==null?void 0:e._id,userIdList:[r._id]})),Pt({message:"加入成功"}))},children:"加入"})]}),Z(xe,{flex:"none",className:"col",children:[w(Tl,{className:"icon"}),w("p",{children:"追蹤"})]})]})})},lg=()=>{const e=He(),[t,n]=E.useState(!1),[r,a]=E.useState((e==null?void 0:e.name)||""),i=E.useRef(null),o=Ie(),s=()=>{e&&(r!==e.name&&o(Ml({cardId:e.id,name:r})),n(!1))};return E.useEffect(()=>{const d=({target:f})=>{var h,c;(c=(h=i==null?void 0:i.current)==null?void 0:h.resizableTextArea)!=null&&c.textArea.contains(f)||n(!1)};return document.addEventListener("pointerdown",d),()=>{document.removeEventListener("pointerdown",d)}},[]),w(ig,{children:w(Fe,{align:"middle",gutter:4,children:w(xe,{flex:"auto",children:t?w(Qe.TextArea,{ref:i,autoSize:!0,placeholder:"請輸入標題",value:r,onChange:d=>a(d.target.value),onFocus:()=>n(!0),onBlur:s,onPressEnter:()=>{s()},className:"titleInput"}):w("h2",{onClick:()=>n(!0),className:"titleTxt",children:r})})})})},sg=()=>{var n;const e=He(),t=(n=e==null?void 0:e.attachment.at(0))==null?void 0:n.dirname;return w(Le,{children:Z(rg,{children:[t&&w(zp,{src:t,width:"100%",className:"coverImg",style:{objectFit:"cover"}}),w(og,{}),w(lg,{})]})})},{Content:cg}=ci,ug={color:"var(--modal-color)",background:"white",padding:"16px 16px 0 0"},dg=be(cg)`
  .contentDescription {
    display: flex;
    align-items: center;
    font: 14px;
    line-height: 150%;
    margin: 8px;
  }
`,wn=be(Fe)`
  align-items: center;
  color: var(--modal-color);
  font-size: 14px;
  line-height: 150%;
  margin-bottom: 8px;

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none;
  }
`,Ys=be.div`
  margin-bottom: 16px;

  .descriptionDisplay {
    min-height: 100px;
  }

  .descriptionEmpty {
    width: 100%;
    height: 100px;
  }

  .descriptionDisplay,
  .descriptionEmpty {
    border: 1px solid #d4d4d4;
    border-radius: 8px;
    padding: 8px 12px;
  }
`,fg=be.div`
  display: flex;
  align-items: center;
  line-height: 1;

  .cardDate {
    min-height: 34px;
    background-color: #e9e9e980;
    border-radius: 4px;
    padding: 6px 12px;
    cursor: pointer;

    &:hover {
      background-color: #e9e9e9;
    }
  }

  .checkFinish {
    margin-left: 12px;
  }
`,hg=be.div`
  background-color: var(--comment-form-background);
  border-radius: 6px;
  padding: 16px;
  position: relative;
  .ant-form-item-label ::after {
    display: none;
  }
  .ant-form-item {
    margin-bottom: 0;
  }
  .ant-btn {
    position: absolute;
    right: 16px;
    bottom: 16px;
  }
`,pg=be.div`
  .userName {
    color: #232323;
    font-size: 14px;
    font-weight: 600;
    line-height: 150%;
  }

  .timeText {
    color: var(--gray9f);
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
  }

  .comment {
    color: #232323;
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
  }

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none !important;
  }
`;function vg(){this.__data__=[],this.size=0}var gg=vg;function mg(e,t){return e===t||e!==e&&t!==t}var Ks=mg,yg=Ks;function bg(e,t){for(var n=e.length;n--;)if(yg(e[n][0],t))return n;return-1}var na=bg,xg=na,Cg=Array.prototype,wg=Cg.splice;function Sg(e){var t=this.__data__,n=xg(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():wg.call(t,n,1),--this.size,!0}var Eg=Sg,Og=na;function Ig(e){var t=this.__data__,n=Og(t,e);return n<0?void 0:t[n][1]}var Dg=Ig,Ng=na;function kg(e){return Ng(this.__data__,e)>-1}var Ag=kg,Pg=na;function Tg(e,t){var n=this.__data__,r=Pg(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _g=Tg,Rg=gg,Mg=Eg,Lg=Dg,$g=Ag,Bg=_g;function Sn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sn.prototype.clear=Rg;Sn.prototype.delete=Mg;Sn.prototype.get=Lg;Sn.prototype.has=$g;Sn.prototype.set=Bg;var ra=Sn,Fg=ra;function qg(){this.__data__=new Fg,this.size=0}var jg=qg;function Hg(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var zg=Hg;function Ug(e){return this.__data__.get(e)}var Vg=Ug;function Wg(e){return this.__data__.has(e)}var Gg=Wg,Yg=typeof Xe=="object"&&Xe&&Xe.Object===Object&&Xe,Xs=Yg,Kg=Xs,Xg=typeof self=="object"&&self&&self.Object===Object&&self,Zg=Kg||Xg||Function("return this")(),Bt=Zg,Qg=Bt,Jg=Qg.Symbol,bi=Jg,xo=bi,Zs=Object.prototype,em=Zs.hasOwnProperty,tm=Zs.toString,$n=xo?xo.toStringTag:void 0;function nm(e){var t=em.call(e,$n),n=e[$n];try{e[$n]=void 0;var r=!0}catch{}var a=tm.call(e);return r&&(t?e[$n]=n:delete e[$n]),a}var rm=nm,am=Object.prototype,im=am.toString;function om(e){return im.call(e)}var lm=om,Co=bi,sm=rm,cm=lm,um="[object Null]",dm="[object Undefined]",wo=Co?Co.toStringTag:void 0;function fm(e){return e==null?e===void 0?dm:um:wo&&wo in Object(e)?sm(e):cm(e)}var aa=fm;function hm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qs=hm,pm=aa,vm=Qs,gm="[object AsyncFunction]",mm="[object Function]",ym="[object GeneratorFunction]",bm="[object Proxy]";function xm(e){if(!vm(e))return!1;var t=pm(e);return t==mm||t==ym||t==gm||t==bm}var Js=xm,Cm=Bt,wm=Cm["__core-js_shared__"],Sm=wm,Oa=Sm,So=function(){var e=/[^.]+$/.exec(Oa&&Oa.keys&&Oa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Em(e){return!!So&&So in e}var Om=Em,Im=Function.prototype,Dm=Im.toString;function Nm(e){if(e!=null){try{return Dm.call(e)}catch{}try{return e+""}catch{}}return""}var ec=Nm,km=Js,Am=Om,Pm=Qs,Tm=ec,_m=/[\\^$.*+?()[\]{}|]/g,Rm=/^\[object .+?Constructor\]$/,Mm=Function.prototype,Lm=Object.prototype,$m=Mm.toString,Bm=Lm.hasOwnProperty,Fm=RegExp("^"+$m.call(Bm).replace(_m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qm(e){if(!Pm(e)||Am(e))return!1;var t=km(e)?Fm:Rm;return t.test(Tm(e))}var jm=qm;function Hm(e,t){return e==null?void 0:e[t]}var zm=Hm,Um=jm,Vm=zm;function Wm(e,t){var n=Vm(e,t);return Um(n)?n:void 0}var En=Wm,Gm=En,Ym=Bt,Km=Gm(Ym,"Map"),xi=Km,Xm=En,Zm=Xm(Object,"create"),ia=Zm,Eo=ia;function Qm(){this.__data__=Eo?Eo(null):{},this.size=0}var Jm=Qm;function ey(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ty=ey,ny=ia,ry="__lodash_hash_undefined__",ay=Object.prototype,iy=ay.hasOwnProperty;function oy(e){var t=this.__data__;if(ny){var n=t[e];return n===ry?void 0:n}return iy.call(t,e)?t[e]:void 0}var ly=oy,sy=ia,cy=Object.prototype,uy=cy.hasOwnProperty;function dy(e){var t=this.__data__;return sy?t[e]!==void 0:uy.call(t,e)}var fy=dy,hy=ia,py="__lodash_hash_undefined__";function vy(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hy&&t===void 0?py:t,this}var gy=vy,my=Jm,yy=ty,by=ly,xy=fy,Cy=gy;function On(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}On.prototype.clear=my;On.prototype.delete=yy;On.prototype.get=by;On.prototype.has=xy;On.prototype.set=Cy;var wy=On,Oo=wy,Sy=ra,Ey=xi;function Oy(){this.size=0,this.__data__={hash:new Oo,map:new(Ey||Sy),string:new Oo}}var Iy=Oy;function Dy(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ny=Dy,ky=Ny;function Ay(e,t){var n=e.__data__;return ky(t)?n[typeof t=="string"?"string":"hash"]:n.map}var oa=Ay,Py=oa;function Ty(e){var t=Py(this,e).delete(e);return this.size-=t?1:0,t}var _y=Ty,Ry=oa;function My(e){return Ry(this,e).get(e)}var Ly=My,$y=oa;function By(e){return $y(this,e).has(e)}var Fy=By,qy=oa;function jy(e,t){var n=qy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Hy=jy,zy=Iy,Uy=_y,Vy=Ly,Wy=Fy,Gy=Hy;function In(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}In.prototype.clear=zy;In.prototype.delete=Uy;In.prototype.get=Vy;In.prototype.has=Wy;In.prototype.set=Gy;var tc=In,Yy=ra,Ky=xi,Xy=tc,Zy=200;function Qy(e,t){var n=this.__data__;if(n instanceof Yy){var r=n.__data__;if(!Ky||r.length<Zy-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xy(r)}return n.set(e,t),this.size=n.size,this}var Jy=Qy,eb=ra,tb=jg,nb=zg,rb=Vg,ab=Gg,ib=Jy;function Dn(e){var t=this.__data__=new eb(e);this.size=t.size}Dn.prototype.clear=tb;Dn.prototype.delete=nb;Dn.prototype.get=rb;Dn.prototype.has=ab;Dn.prototype.set=ib;var ob=Dn,lb="__lodash_hash_undefined__";function sb(e){return this.__data__.set(e,lb),this}var cb=sb;function ub(e){return this.__data__.has(e)}var db=ub,fb=tc,hb=cb,pb=db;function Fr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fb;++t<n;)this.add(e[t])}Fr.prototype.add=Fr.prototype.push=hb;Fr.prototype.has=pb;var vb=Fr;function gb(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mb=gb;function yb(e,t){return e.has(t)}var bb=yb,xb=vb,Cb=mb,wb=bb,Sb=1,Eb=2;function Ob(e,t,n,r,a,i){var o=n&Sb,s=e.length,d=t.length;if(s!=d&&!(o&&d>s))return!1;var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var c=-1,l=!0,u=n&Eb?new xb:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var v=e[c],p=t[c];if(r)var m=o?r(p,v,c,t,e,i):r(v,p,c,e,t,i);if(m!==void 0){if(m)continue;l=!1;break}if(u){if(!Cb(t,function(g,b){if(!wb(u,b)&&(v===g||a(v,g,n,r,i)))return u.push(b)})){l=!1;break}}else if(!(v===p||a(v,p,n,r,i))){l=!1;break}}return i.delete(e),i.delete(t),l}var nc=Ob,Ib=Bt,Db=Ib.Uint8Array,Nb=Db;function kb(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var Ab=kb;function Pb(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Tb=Pb,Io=bi,Do=Nb,_b=Ks,Rb=nc,Mb=Ab,Lb=Tb,$b=1,Bb=2,Fb="[object Boolean]",qb="[object Date]",jb="[object Error]",Hb="[object Map]",zb="[object Number]",Ub="[object RegExp]",Vb="[object Set]",Wb="[object String]",Gb="[object Symbol]",Yb="[object ArrayBuffer]",Kb="[object DataView]",No=Io?Io.prototype:void 0,Ia=No?No.valueOf:void 0;function Xb(e,t,n,r,a,i,o){switch(n){case Kb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Yb:return!(e.byteLength!=t.byteLength||!i(new Do(e),new Do(t)));case Fb:case qb:case zb:return _b(+e,+t);case jb:return e.name==t.name&&e.message==t.message;case Ub:case Wb:return e==t+"";case Hb:var s=Mb;case Vb:var d=r&$b;if(s||(s=Lb),e.size!=t.size&&!d)return!1;var f=o.get(e);if(f)return f==t;r|=Bb,o.set(e,t);var h=Rb(s(e),s(t),r,a,i,o);return o.delete(e),h;case Gb:if(Ia)return Ia.call(e)==Ia.call(t)}return!1}var Zb=Xb;function Qb(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Jb=Qb,e1=Array.isArray,Ci=e1,t1=Jb,n1=Ci;function r1(e,t,n){var r=t(e);return n1(e)?r:t1(r,n(e))}var a1=r1;function i1(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var o1=i1;function l1(){return[]}var s1=l1,c1=o1,u1=s1,d1=Object.prototype,f1=d1.propertyIsEnumerable,ko=Object.getOwnPropertySymbols,h1=ko?function(e){return e==null?[]:(e=Object(e),c1(ko(e),function(t){return f1.call(e,t)}))}:u1,p1=h1;function v1(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var g1=v1;function m1(e){return e!=null&&typeof e=="object"}var la=m1,y1=aa,b1=la,x1="[object Arguments]";function C1(e){return b1(e)&&y1(e)==x1}var w1=C1,Ao=w1,S1=la,rc=Object.prototype,E1=rc.hasOwnProperty,O1=rc.propertyIsEnumerable,I1=Ao(function(){return arguments}())?Ao:function(e){return S1(e)&&E1.call(e,"callee")&&!O1.call(e,"callee")},D1=I1,qr={exports:{}};function N1(){return!1}var k1=N1;qr.exports;(function(e,t){var n=Bt,r=k1,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,d=s?s.isBuffer:void 0,f=d||r;e.exports=f})(qr,qr.exports);var ac=qr.exports,A1=9007199254740991,P1=/^(?:0|[1-9]\d*)$/;function T1(e,t){var n=typeof e;return t=t??A1,!!t&&(n=="number"||n!="symbol"&&P1.test(e))&&e>-1&&e%1==0&&e<t}var _1=T1,R1=9007199254740991;function M1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=R1}var ic=M1,L1=aa,$1=ic,B1=la,F1="[object Arguments]",q1="[object Array]",j1="[object Boolean]",H1="[object Date]",z1="[object Error]",U1="[object Function]",V1="[object Map]",W1="[object Number]",G1="[object Object]",Y1="[object RegExp]",K1="[object Set]",X1="[object String]",Z1="[object WeakMap]",Q1="[object ArrayBuffer]",J1="[object DataView]",e0="[object Float32Array]",t0="[object Float64Array]",n0="[object Int8Array]",r0="[object Int16Array]",a0="[object Int32Array]",i0="[object Uint8Array]",o0="[object Uint8ClampedArray]",l0="[object Uint16Array]",s0="[object Uint32Array]",$e={};$e[e0]=$e[t0]=$e[n0]=$e[r0]=$e[a0]=$e[i0]=$e[o0]=$e[l0]=$e[s0]=!0;$e[F1]=$e[q1]=$e[Q1]=$e[j1]=$e[J1]=$e[H1]=$e[z1]=$e[U1]=$e[V1]=$e[W1]=$e[G1]=$e[Y1]=$e[K1]=$e[X1]=$e[Z1]=!1;function c0(e){return B1(e)&&$1(e.length)&&!!$e[L1(e)]}var u0=c0;function d0(e){return function(t){return e(t)}}var f0=d0,jr={exports:{}};jr.exports;(function(e,t){var n=Xs,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(jr,jr.exports);var h0=jr.exports,p0=u0,v0=f0,Po=h0,To=Po&&Po.isTypedArray,g0=To?v0(To):p0,oc=g0,m0=g1,y0=D1,b0=Ci,x0=ac,C0=_1,w0=oc,S0=Object.prototype,E0=S0.hasOwnProperty;function O0(e,t){var n=b0(e),r=!n&&y0(e),a=!n&&!r&&x0(e),i=!n&&!r&&!a&&w0(e),o=n||r||a||i,s=o?m0(e.length,String):[],d=s.length;for(var f in e)(t||E0.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||C0(f,d)))&&s.push(f);return s}var I0=O0,D0=Object.prototype;function N0(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||D0;return e===n}var k0=N0;function A0(e,t){return function(n){return e(t(n))}}var P0=A0,T0=P0,_0=T0(Object.keys,Object),R0=_0,M0=k0,L0=R0,$0=Object.prototype,B0=$0.hasOwnProperty;function F0(e){if(!M0(e))return L0(e);var t=[];for(var n in Object(e))B0.call(e,n)&&n!="constructor"&&t.push(n);return t}var q0=F0,j0=Js,H0=ic;function z0(e){return e!=null&&H0(e.length)&&!j0(e)}var U0=z0,V0=I0,W0=q0,G0=U0;function Y0(e){return G0(e)?V0(e):W0(e)}var K0=Y0,X0=a1,Z0=p1,Q0=K0;function J0(e){return X0(e,Q0,Z0)}var ex=J0,_o=ex,tx=1,nx=Object.prototype,rx=nx.hasOwnProperty;function ax(e,t,n,r,a,i){var o=n&tx,s=_o(e),d=s.length,f=_o(t),h=f.length;if(d!=h&&!o)return!1;for(var c=d;c--;){var l=s[c];if(!(o?l in t:rx.call(t,l)))return!1}var u=i.get(e),v=i.get(t);if(u&&v)return u==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=o;++c<d;){l=s[c];var g=e[l],b=t[l];if(r)var x=o?r(b,g,l,t,e,i):r(g,b,l,e,t,i);if(!(x===void 0?g===b||a(g,b,n,r,i):x)){p=!1;break}m||(m=l=="constructor")}if(p&&!m){var y=e.constructor,C=t.constructor;y!=C&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof C=="function"&&C instanceof C)&&(p=!1)}return i.delete(e),i.delete(t),p}var ix=ax,ox=En,lx=Bt,sx=ox(lx,"DataView"),cx=sx,ux=En,dx=Bt,fx=ux(dx,"Promise"),hx=fx,px=En,vx=Bt,gx=px(vx,"Set"),mx=gx,yx=En,bx=Bt,xx=yx(bx,"WeakMap"),Cx=xx,Ya=cx,Ka=xi,Xa=hx,Za=mx,Qa=Cx,lc=aa,Nn=ec,Ro="[object Map]",wx="[object Object]",Mo="[object Promise]",Lo="[object Set]",$o="[object WeakMap]",Bo="[object DataView]",Sx=Nn(Ya),Ex=Nn(Ka),Ox=Nn(Xa),Ix=Nn(Za),Dx=Nn(Qa),Qt=lc;(Ya&&Qt(new Ya(new ArrayBuffer(1)))!=Bo||Ka&&Qt(new Ka)!=Ro||Xa&&Qt(Xa.resolve())!=Mo||Za&&Qt(new Za)!=Lo||Qa&&Qt(new Qa)!=$o)&&(Qt=function(e){var t=lc(e),n=t==wx?e.constructor:void 0,r=n?Nn(n):"";if(r)switch(r){case Sx:return Bo;case Ex:return Ro;case Ox:return Mo;case Ix:return Lo;case Dx:return $o}return t});var Nx=Qt,Da=ob,kx=nc,Ax=Zb,Px=ix,Fo=Nx,qo=Ci,jo=ac,Tx=oc,_x=1,Ho="[object Arguments]",zo="[object Array]",Or="[object Object]",Rx=Object.prototype,Uo=Rx.hasOwnProperty;function Mx(e,t,n,r,a,i){var o=qo(e),s=qo(t),d=o?zo:Fo(e),f=s?zo:Fo(t);d=d==Ho?Or:d,f=f==Ho?Or:f;var h=d==Or,c=f==Or,l=d==f;if(l&&jo(e)){if(!jo(t))return!1;o=!0,h=!1}if(l&&!h)return i||(i=new Da),o||Tx(e)?kx(e,t,n,r,a,i):Ax(e,t,d,n,r,a,i);if(!(n&_x)){var u=h&&Uo.call(e,"__wrapped__"),v=c&&Uo.call(t,"__wrapped__");if(u||v){var p=u?e.value():e,m=v?t.value():t;return i||(i=new Da),a(p,m,n,r,i)}}return l?(i||(i=new Da),Px(e,t,n,r,a,i)):!1}var Lx=Mx,$x=Lx,Vo=la;function sc(e,t,n,r,a){return e===t?!0:e==null||t==null||!Vo(e)&&!Vo(t)?e!==e&&t!==t:$x(e,t,n,r,sc,a)}var Bx=sc,Fx=Bx;function qx(e,t){return Fx(e,t)}var jx=qx,cc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,a){e.exports=a()})(typeof self<"u"?self:Xe,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(17),o=a(18),s=a(19),d=a(45),f=a(46),h=a(47),c=a(48),l=a(49),u=a(12),v=a(32),p=a(33),m=a(31),g=a(1),b={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:o.default,Leaf:s.default,Embed:c.default,Scroll:d.default,Block:h.default,Inline:f.default,Text:l.default,Attributor:{Attribute:u.default,Class:v.default,Style:p.default,Store:m.default}};r.default=b},function(n,r,a){var i=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var x in b)b.hasOwnProperty(x)&&(g[x]=b[x])};return function(g,b){m(g,b);function x(){this.constructor=g}g.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(m){i(g,m);function g(b){var x=this;return b="[Parchment] "+b,x=m.call(this,b)||this,x.message=b,x.name=x.constructor.name,x}return g}(Error);r.ParchmentError=o;var s={},d={},f={},h={};r.DATA_KEY="__blot";var c;(function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function l(m,g){var b=v(m);if(b==null)throw new o("Unable to create "+m+" blot");var x=b,y=m instanceof Node||m.nodeType===Node.TEXT_NODE?m:x.create(g);return new x(y,g)}r.create=l;function u(m,g){return g===void 0&&(g=!1),m==null?null:m[r.DATA_KEY]!=null?m[r.DATA_KEY].blot:g?u(m.parentNode,g):null}r.find=u;function v(m,g){g===void 0&&(g=c.ANY);var b;if(typeof m=="string")b=h[m]||s[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)b=h.text;else if(typeof m=="number")m&c.LEVEL&c.BLOCK?b=h.block:m&c.LEVEL&c.INLINE&&(b=h.inline);else if(m instanceof HTMLElement){var x=(m.getAttribute("class")||"").split(/\s+/);for(var y in x)if(b=d[x[y]],b)break;b=b||f[m.tagName]}return b==null?null:g&c.LEVEL&b.scope&&g&c.TYPE&b.scope?b:null}r.query=v;function p(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];if(m.length>1)return m.map(function(y){return p(y)});var b=m[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new o("Invalid definition");if(b.blotName==="abstract")throw new o("Cannot register abstract class");if(h[b.blotName||b.attrName]=b,typeof b.keyName=="string")s[b.keyName]=b;else if(b.className!=null&&(d[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(y){return y.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var x=Array.isArray(b.tagName)?b.tagName:[b.tagName];x.forEach(function(y){(f[y]==null||b.className==null)&&(f[y]=b)})}return b}r.register=p},function(n,r,a){var i=a(51),o=a(11),s=a(3),d=a(20),f=String.fromCharCode(0),h=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};h.prototype.insert=function(c,l){var u={};return c.length===0?this:(u.insert=c,l!=null&&typeof l=="object"&&Object.keys(l).length>0&&(u.attributes=l),this.push(u))},h.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},h.prototype.retain=function(c,l){if(c<=0)return this;var u={retain:c};return l!=null&&typeof l=="object"&&Object.keys(l).length>0&&(u.attributes=l),this.push(u)},h.prototype.push=function(c){var l=this.ops.length,u=this.ops[l-1];if(c=s(!0,{},c),typeof u=="object"){if(typeof c.delete=="number"&&typeof u.delete=="number")return this.ops[l-1]={delete:u.delete+c.delete},this;if(typeof u.delete=="number"&&c.insert!=null&&(l-=1,u=this.ops[l-1],typeof u!="object"))return this.ops.unshift(c),this;if(o(c.attributes,u.attributes)){if(typeof c.insert=="string"&&typeof u.insert=="string")return this.ops[l-1]={insert:u.insert+c.insert},typeof c.attributes=="object"&&(this.ops[l-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof u.retain=="number")return this.ops[l-1]={retain:u.retain+c.retain},typeof c.attributes=="object"&&(this.ops[l-1].attributes=c.attributes),this}}return l===this.ops.length?this.ops.push(c):this.ops.splice(l,0,c),this},h.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},h.prototype.filter=function(c){return this.ops.filter(c)},h.prototype.forEach=function(c){this.ops.forEach(c)},h.prototype.map=function(c){return this.ops.map(c)},h.prototype.partition=function(c){var l=[],u=[];return this.forEach(function(v){var p=c(v)?l:u;p.push(v)}),[l,u]},h.prototype.reduce=function(c,l){return this.ops.reduce(c,l)},h.prototype.changeLength=function(){return this.reduce(function(c,l){return l.insert?c+d.length(l):l.delete?c-l.delete:c},0)},h.prototype.length=function(){return this.reduce(function(c,l){return c+d.length(l)},0)},h.prototype.slice=function(c,l){c=c||0,typeof l!="number"&&(l=1/0);for(var u=[],v=d.iterator(this.ops),p=0;p<l&&v.hasNext();){var m;p<c?m=v.next(c-p):(m=v.next(l-p),u.push(m)),p+=d.length(m)}return new h(u)},h.prototype.compose=function(c){var l=d.iterator(this.ops),u=d.iterator(c.ops),v=[],p=u.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var m=p.retain;l.peekType()==="insert"&&l.peekLength()<=m;)m-=l.peekLength(),v.push(l.next());p.retain-m>0&&u.next(p.retain-m)}for(var g=new h(v);l.hasNext()||u.hasNext();)if(u.peekType()==="insert")g.push(u.next());else if(l.peekType()==="delete")g.push(l.next());else{var b=Math.min(l.peekLength(),u.peekLength()),x=l.next(b),y=u.next(b);if(typeof y.retain=="number"){var C={};typeof x.retain=="number"?C.retain=b:C.insert=x.insert;var N=d.attributes.compose(x.attributes,y.attributes,typeof x.retain=="number");if(N&&(C.attributes=N),g.push(C),!u.hasNext()&&o(g.ops[g.ops.length-1],C)){var O=new h(l.rest());return g.concat(O).chop()}}else typeof y.delete=="number"&&typeof x.retain=="number"&&g.push(y)}return g.chop()},h.prototype.concat=function(c){var l=new h(this.ops.slice());return c.ops.length>0&&(l.push(c.ops[0]),l.ops=l.ops.concat(c.ops.slice(1))),l},h.prototype.diff=function(c,l){if(this.ops===c.ops)return new h;var u=[this,c].map(function(b){return b.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:f;var y=b===c?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),v=new h,p=i(u[0],u[1],l),m=d.iterator(this.ops),g=d.iterator(c.ops);return p.forEach(function(b){for(var x=b[1].length;x>0;){var y=0;switch(b[0]){case i.INSERT:y=Math.min(g.peekLength(),x),v.push(g.next(y));break;case i.DELETE:y=Math.min(x,m.peekLength()),m.next(y),v.delete(y);break;case i.EQUAL:y=Math.min(m.peekLength(),g.peekLength(),x);var C=m.next(y),N=g.next(y);o(C.insert,N.insert)?v.retain(y,d.attributes.diff(C.attributes,N.attributes)):v.push(N).delete(y);break}x-=y}}),v.chop()},h.prototype.eachLine=function(c,l){l=l||`
`;for(var u=d.iterator(this.ops),v=new h,p=0;u.hasNext();){if(u.peekType()!=="insert")return;var m=u.peek(),g=d.length(m)-u.peekLength(),b=typeof m.insert=="string"?m.insert.indexOf(l,g)-g:-1;if(b<0)v.push(u.next());else if(b>0)v.push(u.next(b));else{if(c(v,u.next(1).attributes||{},p)===!1)return;p+=1,v=new h}}v.length()>0&&c(v,{},p)},h.prototype.transform=function(c,l){if(l=!!l,typeof c=="number")return this.transformPosition(c,l);for(var u=d.iterator(this.ops),v=d.iterator(c.ops),p=new h;u.hasNext()||v.hasNext();)if(u.peekType()==="insert"&&(l||v.peekType()!=="insert"))p.retain(d.length(u.next()));else if(v.peekType()==="insert")p.push(v.next());else{var m=Math.min(u.peekLength(),v.peekLength()),g=u.next(m),b=v.next(m);if(g.delete)continue;b.delete?p.push(b):p.retain(m,d.attributes.transform(g.attributes,b.attributes,l))}return p.chop()},h.prototype.transformPosition=function(c,l){l=!!l;for(var u=d.iterator(this.ops),v=0;u.hasNext()&&v<=c;){var p=u.peekLength(),m=u.peekType();if(u.next(),m==="delete"){c-=Math.min(p,c-v);continue}else m==="insert"&&(v<c||!l)&&(c+=p);v+=p}return c},n.exports=h},function(n,r){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d=function(u){return typeof Array.isArray=="function"?Array.isArray(u):i.call(u)==="[object Array]"},f=function(u){if(!u||i.call(u)!=="[object Object]")return!1;var v=a.call(u,"constructor"),p=u.constructor&&u.constructor.prototype&&a.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!v&&!p)return!1;var m;for(m in u);return typeof m>"u"||a.call(u,m)},h=function(u,v){o&&v.name==="__proto__"?o(u,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):u[v.name]=v.newValue},c=function(u,v){if(v==="__proto__")if(a.call(u,v)){if(s)return s(u,v).value}else return;return u[v]};n.exports=function l(){var u,v,p,m,g,b,x=arguments[0],y=1,C=arguments.length,N=!1;for(typeof x=="boolean"&&(N=x,x=arguments[1]||{},y=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});y<C;++y)if(u=arguments[y],u!=null)for(v in u)p=c(x,v),m=c(u,v),x!==m&&(N&&m&&(f(m)||(g=d(m)))?(g?(g=!1,b=p&&d(p)?p:[]):b=p&&f(p)?p:{},h(x,{name:v,newValue:l(N,b,m)})):typeof m<"u"&&h(x,{name:v,newValue:m}));return x}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function S(A,P){for(var _=0;_<P.length;_++){var L=P[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,_){return P&&S(A.prototype,P),_&&S(A,_),A}}(),o=function S(A,P,_){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,P);if(L===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:S(q,P,_)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(_)}},s=a(3),d=x(s),f=a(2),h=x(f),c=a(0),l=x(c),u=a(16),v=x(u),p=a(6),m=x(p),g=a(7),b=x(g);function x(S){return S&&S.__esModule?S:{default:S}}function y(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function C(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function N(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var O=1,I=function(S){N(A,S);function A(){return y(this,A),C(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(_,L){var q=l.default.query(_,l.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,L)}},{key:"formatAt",value:function(_,L,q,j){this.format(q,j)}},{key:"insertAt",value:function(_,L,q){if(typeof L=="string"&&L.endsWith(`
`)){var j=l.default.create(k.blotName);this.parent.insertBefore(j,_===0?this:this.next),j.insertAt(0,L.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,_,L,q)}}]),A}(l.default.Embed);I.scope=l.default.Scope.BLOCK_BLOT;var k=function(S){N(A,S);function A(P){y(this,A);var _=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return _.cache={},_}return i(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(_,L){return L.length()===0?_:_.insert(L.value(),D(L))},new h.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(_,L){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,_,L),this.cache={}}},{key:"formatAt",value:function(_,L,q,j){L<=0||(l.default.query(q,l.default.Scope.BLOCK)?_+L===this.length()&&this.format(q,j):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,_,Math.min(L,this.length()-_-1),q,j),this.cache={})}},{key:"insertAt",value:function(_,L,q){if(q!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,_,L,q);if(L.length!==0){var j=L.split(`
`),Y=j.shift();Y.length>0&&(_<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(_,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var B=this;j.reduce(function($,T){return B=B.split($,!0),B.insertAt(0,T),T.length},_+Y.length)}}},{key:"insertBefore",value:function(_,L){var q=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,_,L),q instanceof v.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(_,L){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,_,L),this.cache={}}},{key:"optimize",value:function(_){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,_),this.cache={}}},{key:"path",value:function(_){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,_,!0)}},{key:"removeChild",value:function(_){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,_),this.cache={}}},{key:"split",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(_===0||_>=this.length()-O)){var q=this.clone();return _===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var j=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,_,L);return this.cache={},j}}}]),A}(l.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[m.default,l.default.Embed,b.default];function D(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(A=(0,d.default)(A,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?A:D(S.parent,A)}r.bubbleFormats=D,r.BlockEmbed=I,r.default=k},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B($,T){var R=[],F=!0,U=!1,z=void 0;try{for(var M=$[Symbol.iterator](),H;!(F=(H=M.next()).done)&&(R.push(H.value),!(T&&R.length===T));F=!0);}catch(W){U=!0,z=W}finally{try{!F&&M.return&&M.return()}finally{if(U)throw z}}return R}return function($,T){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return B($,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function B($,T){for(var R=0;R<T.length;R++){var F=T[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}return function($,T,R){return T&&B($.prototype,T),R&&B($,R),$}}();a(50);var d=a(2),f=D(d),h=a(14),c=D(h),l=a(8),u=D(l),v=a(9),p=D(v),m=a(0),g=D(m),b=a(15),x=D(b),y=a(3),C=D(y),N=a(10),O=D(N),I=a(34),k=D(I);function D(B){return B&&B.__esModule?B:{default:B}}function S(B,$,T){return $ in B?Object.defineProperty(B,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[$]=T,B}function A(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}var P=(0,O.default)("quill"),_=function(){s(B,null,[{key:"debug",value:function(T){T===!0&&(T="log"),O.default.level(T)}},{key:"find",value:function(T){return T.__quill||g.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&P.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var z=T.attrName||T.blotName;typeof z=="string"?this.register("formats/"+z,T,R):Object.keys(T).forEach(function(M){F.register(M,T[M],R)})}else this.imports[T]!=null&&!U&&P.warn("Overwriting "+T+" with",R),this.imports[T]=R,(T.startsWith("blots/")||T.startsWith("formats/"))&&R.blotName!=="abstract"?g.default.register(R):T.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function B($){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,B),this.options=L($,R),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",$);this.options.debug&&B.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(z){z===u.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(z,M){var H=T.selection.lastRange,W=H&&H.length===0?H.index:void 0;q.call(T,function(){return T.editor.update(null,M,W)},z)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(B,[{key:"addContainer",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var F=T;T=document.createElement("div"),T.classList.add(F)}return this.container.insertBefore(T,R),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,R,F){var U=this,z=j(T,R,F),M=o(z,4);return T=M[0],R=M[1],F=M[3],q.call(this,function(){return U.editor.deleteText(T,R)},F,T,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;return q.call(this,function(){var z=F.getSelection(!0),M=new f.default;if(z==null)return M;if(g.default.query(T,g.default.Scope.BLOCK))M=F.editor.formatLine(z.index,z.length,S({},T,R));else{if(z.length===0)return F.selection.format(T,R),M;M=F.editor.formatText(z.index,z.length,S({},T,R))}return F.setSelection(z,u.default.sources.SILENT),M},U)}},{key:"formatLine",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,R,F,U,z),V=o(W,4);return T=V[0],R=V[1],H=V[2],z=V[3],q.call(this,function(){return M.editor.formatLine(T,R,H)},z,T,0)}},{key:"formatText",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,R,F,U,z),V=o(W,4);return T=V[0],R=V[1],H=V[2],z=V[3],q.call(this,function(){return M.editor.formatText(T,R,H)},z,T,0)}},{key:"getBounds",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof T=="number"?F=this.selection.getBounds(T,R):F=this.selection.getBounds(T.index,T.length);var U=this.container.getBoundingClientRect();return{bottom:F.bottom-U.top,height:F.height,left:F.left-U.left,right:F.right-U.left,top:F.top-U.top,width:F.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,F=j(T,R),U=o(F,2);return T=U[0],R=U[1],this.editor.getContents(T,R)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,R):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,R)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,F=j(T,R),U=o(F,2);return T=U[0],R=U[1],this.editor.getText(T,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,R,F){var U=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return q.call(this,function(){return U.editor.insertEmbed(T,R,F)},z,T)}},{key:"insertText",value:function(T,R,F,U,z){var M=this,H=void 0,W=j(T,0,F,U,z),V=o(W,4);return T=V[0],H=V[2],z=V[3],q.call(this,function(){return M.editor.insertText(T,R,H)},z,T,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,R,F){this.clipboard.dangerouslyPasteHTML(T,R,F)}},{key:"removeFormat",value:function(T,R,F){var U=this,z=j(T,R,F),M=o(z,4);return T=M[0],R=M[1],F=M[3],q.call(this,function(){return U.editor.removeFormat(T,R)},F,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return q.call(this,function(){T=new f.default(T);var U=R.getLength(),z=R.editor.deleteText(0,U),M=R.editor.applyDelta(T),H=M.ops[M.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),M.delete(1));var W=z.compose(M);return W},F)}},{key:"setSelection",value:function(T,R,F){if(T==null)this.selection.setRange(null,R||B.sources.API);else{var U=j(T,R,F),z=o(U,4);T=z[0],R=z[1],F=z[3],this.selection.setRange(new b.Range(T,R),F),F!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API,F=new f.default().insert(T);return this.setContents(F,R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,R=this.scroll.update(T);return this.selection.update(T),R}},{key:"updateContents",value:function(T){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return q.call(this,function(){return T=new f.default(T),R.editor.applyDelta(T,F)},F,!0)}}]),B}();_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},_.events=u.default.events,_.sources=u.default.sources,_.version="1.3.7",_.imports={delta:f.default,parchment:g.default,"core/module":p.default,"core/theme":k.default};function L(B,$){if($=(0,C.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===_.DEFAULTS.theme)$.theme=k.default;else if($.theme=_.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var T=(0,C.default)(!0,{},$.theme.DEFAULTS);[T,$].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(z){U.modules[z]===!0&&(U.modules[z]={})})});var R=Object.keys(T.modules).concat(Object.keys($.modules)),F=R.reduce(function(U,z){var M=_.import("modules/"+z);return M==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):U[z]=M.DEFAULTS||{},U},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,C.default)(!0,{},_.DEFAULTS,{modules:F},T,$),["bounds","container","scrollingContainer"].forEach(function(U){typeof $[U]=="string"&&($[U]=document.querySelector($[U]))}),$.modules=Object.keys($.modules).reduce(function(U,z){return $.modules[z]&&(U[z]=$.modules[z]),U},{}),$}function q(B,$,T,R){if(this.options.strict&&!this.isEnabled()&&$===u.default.sources.USER)return new f.default;var F=T==null?null:this.getSelection(),U=this.editor.delta,z=B();if(F!=null&&(T===!0&&(T=F.index),R==null?F=Y(F,z,$):R!==0&&(F=Y(F,T,R,$)),this.setSelection(F,u.default.sources.SILENT)),z.length()>0){var M,H=[u.default.events.TEXT_CHANGE,z,U,$];if((M=this.emitter).emit.apply(M,[u.default.events.EDITOR_CHANGE].concat(H)),$!==u.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,H)}}return z}function j(B,$,T,R,F){var U={};return typeof B.index=="number"&&typeof B.length=="number"?typeof $!="number"?(F=R,R=T,T=$,$=B.length,B=B.index):($=B.length,B=B.index):typeof $!="number"&&(F=R,R=T,T=$,$=0),(typeof T>"u"?"undefined":i(T))==="object"?(U=T,F=R):typeof T=="string"&&(R!=null?U[T]=R:F=T),F=F||u.default.sources.API,[B,$,U,F]}function Y(B,$,T,R){if(B==null)return null;var F=void 0,U=void 0;if($ instanceof f.default){var z=[B.index,B.index+B.length].map(function(V){return $.transformPosition(V,R!==u.default.sources.USER)}),M=o(z,2);F=M[0],U=M[1]}else{var H=[B.index,B.index+B.length].map(function(V){return V<$||V===$&&R===u.default.sources.USER?V:T>=0?V+T:Math.max($,V+T)}),W=o(H,2);F=W[0],U=W[1]}return new b.Range(F,U-F)}r.expandConfig=L,r.overload=j,r.default=_},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=a(7),d=c(s),f=a(0),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function u(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function v(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=function(m){v(g,m);function g(){return l(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"formatAt",value:function(x,y,C,N){if(g.compare(this.statics.blotName,C)<0&&h.default.query(C,h.default.Scope.BLOT)){var O=this.isolate(x,y);N&&O.wrap(C,N)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,x,y,C,N)}},{key:"optimize",value:function(x){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,x),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(x,y){var C=g.order.indexOf(x),N=g.order.indexOf(y);return C>=0||N>=0?C-N:x===y?0:x<y?-1:1}}]),g}(h.default.Inline);p.allowedChildren=[p,h.default.Embed,d.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default.Text);r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(x,y){for(var C=0;C<y.length;C++){var N=y[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,C){return y&&b(x.prototype,y),C&&b(x,C),x}}(),o=function b(x,y,C){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,y);if(N===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:b(O,y,C)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(C)}},s=a(54),d=c(s),f=a(10),h=c(f);function c(b){return b&&b.__esModule?b:{default:b}}function l(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function u(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=(0,h.default)("quill:events"),m=["selectionchange","mousedown","mouseup","click"];m.forEach(function(b){document.addEventListener(b,function(){for(var x=arguments.length,y=Array(x),C=0;C<x;C++)y[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var O;(O=N.__quill.emitter).handleDOM.apply(O,y)}})})});var g=function(b){v(x,b);function x(){l(this,x);var y=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return y.listeners={},y.on("error",p.error),y}return i(x,[{key:"emit",value:function(){p.log.apply(p,arguments),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var N=arguments.length,O=Array(N>1?N-1:0),I=1;I<N;I++)O[I-1]=arguments[I];(this.listeners[C.type]||[]).forEach(function(k){var D=k.node,S=k.handler;(C.target===D||D.contains(C.target))&&S.apply(void 0,[C].concat(O))})}},{key:"listenDOM",value:function(C,N,O){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:N,handler:O})}}]),x}(d.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});function i(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function s(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,s),this.quill=d,this.options=f};o.DEFAULTS={},r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function s(f){if(i.indexOf(f)<=i.indexOf(o)){for(var h,c=arguments.length,l=Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];(h=console)[f].apply(h,l)}}function d(f){return i.reduce(function(h,c){return h[c]=s.bind(console,c,f),h},{})}s.level=d.level=function(f){o=f},r.default=d},function(n,r,a){var i=Array.prototype.slice,o=a(52),s=a(53),d=n.exports=function(l,u,v){return v||(v={}),l===u?!0:l instanceof Date&&u instanceof Date?l.getTime()===u.getTime():!l||!u||typeof l!="object"&&typeof u!="object"?v.strict?l===u:l==u:c(l,u,v)};function f(l){return l==null}function h(l){return!(!l||typeof l!="object"||typeof l.length!="number"||typeof l.copy!="function"||typeof l.slice!="function"||l.length>0&&typeof l[0]!="number")}function c(l,u,v){var p,m;if(f(l)||f(u)||l.prototype!==u.prototype)return!1;if(s(l))return s(u)?(l=i.call(l),u=i.call(u),d(l,u,v)):!1;if(h(l)){if(!h(u)||l.length!==u.length)return!1;for(p=0;p<l.length;p++)if(l[p]!==u[p])return!1;return!0}try{var g=o(l),b=o(u)}catch{return!1}if(g.length!=b.length)return!1;for(g.sort(),b.sort(),p=g.length-1;p>=0;p--)if(g[p]!=b[p])return!1;for(p=g.length-1;p>=0;p--)if(m=g[p],!d(l[m],u[m],v))return!1;return typeof l==typeof u}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function s(d,f,h){h===void 0&&(h={}),this.attrName=d,this.keyName=f;var c=i.Scope.TYPE&i.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&i.Scope.LEVEL|c:this.scope=i.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return s.keys=function(d){return[].map.call(d.attributes,function(f){return f.name})},s.prototype.add=function(d,f){return this.canAdd(d,f)?(d.setAttribute(this.keyName,f),!0):!1},s.prototype.canAdd=function(d,f){var h=i.query(d,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},s.prototype.remove=function(d){d.removeAttribute(this.keyName)},s.prototype.value=function(d){var f=d.getAttribute(this.keyName);return this.canAdd(d,f)&&f?f:""},s}();r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function I(k,D){var S=[],A=!0,P=!1,_=void 0;try{for(var L=k[Symbol.iterator](),q;!(A=(q=L.next()).done)&&(S.push(q.value),!(D&&S.length===D));A=!0);}catch(j){P=!0,_=j}finally{try{!A&&L.return&&L.return()}finally{if(P)throw _}}return S}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,D){for(var S=0;S<D.length;S++){var A=D[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}return function(k,D,S){return D&&I(k.prototype,D),S&&I(k,S),k}}(),s=function I(k,D,S){k===null&&(k=Function.prototype);var A=Object.getOwnPropertyDescriptor(k,D);if(A===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:I(P,D,S)}else{if("value"in A)return A.value;var _=A.get;return _===void 0?void 0:_.call(S)}},d=a(2),f=b(d),h=a(0),c=b(h),l=a(4),u=b(l),v=a(6),p=b(v),m=a(7),g=b(m);function b(I){return I&&I.__esModule?I:{default:I}}function x(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function y(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function C(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var N=function(I){C(k,I);function k(){return x(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default);N.blotName="code",N.tagName="CODE";var O=function(I){C(k,I);function k(){return x(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var S=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(P,_){return P.insert(_).insert(`
`,S.formats())},new f.default)}},{key:"format",value:function(S,A){if(!(S===this.statics.blotName&&A)){var P=this.descendant(g.default,this.length()-1),_=i(P,1),L=_[0];L!=null&&L.deleteAt(L.length()-1,1),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,A)}}},{key:"formatAt",value:function(S,A,P,_){if(A!==0&&!(c.default.query(P,c.default.Scope.BLOCK)==null||P===this.statics.blotName&&_===this.statics.formats(this.domNode))){var L=this.newlineIndex(S);if(!(L<0||L>=S+A)){var q=this.newlineIndex(S,!0)+1,j=L-q+1,Y=this.isolate(q,j),B=Y.next;Y.format(P,_),B instanceof k&&B.formatAt(0,S-q+A-j,P,_)}}}},{key:"insertAt",value:function(S,A,P){if(P==null){var _=this.descendant(g.default,S),L=i(_,2),q=L[0],j=L[1];q.insertAt(j,A)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var P=this.domNode.textContent.slice(S).indexOf(`
`);return P>-1?S+P:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(S),A.moveChildren(this),A.remove())}},{key:"replace",value:function(S){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var P=c.default.find(A);P==null?A.parentNode.removeChild(A):P instanceof c.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(S){var A=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,S);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),k}(u.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=N,r.default=O},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B($,T){var R=[],F=!0,U=!1,z=void 0;try{for(var M=$[Symbol.iterator](),H;!(F=(H=M.next()).done)&&(R.push(H.value),!(T&&R.length===T));F=!0);}catch(W){U=!0,z=W}finally{try{!F&&M.return&&M.return()}finally{if(U)throw z}}return R}return function($,T){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return B($,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function B($,T){for(var R=0;R<T.length;R++){var F=T[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}return function($,T,R){return T&&B($.prototype,T),R&&B($,R),$}}(),d=a(2),f=A(d),h=a(20),c=A(h),l=a(0),u=A(l),v=a(13),p=A(v),m=a(24),g=A(m),b=a(4),x=A(b),y=a(16),C=A(y),N=a(21),O=A(N),I=a(11),k=A(I),D=a(3),S=A(D);function A(B){return B&&B.__esModule?B:{default:B}}function P(B,$,T){return $ in B?Object.defineProperty(B,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[$]=T,B}function _(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,q=function(){function B($){_(this,B),this.scroll=$,this.delta=this.getDelta()}return s(B,[{key:"applyDelta",value:function(T){var R=this,F=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),T=Y(T),T.reduce(function(z,M){var H=M.retain||M.delete||M.insert.length||1,W=M.attributes||{};if(M.insert!=null){if(typeof M.insert=="string"){var V=M.insert;V.endsWith(`
`)&&F&&(F=!1,V=V.slice(0,-1)),z>=U&&!V.endsWith(`
`)&&(F=!0),R.scroll.insertAt(z,V);var G=R.scroll.line(z),te=o(G,2),Q=te[0],ae=te[1],ee=(0,S.default)({},(0,b.bubbleFormats)(Q));if(Q instanceof x.default){var re=Q.descendant(u.default.Leaf,ae),fe=o(re,1),he=fe[0];ee=(0,S.default)(ee,(0,b.bubbleFormats)(he))}W=c.default.attributes.diff(ee,W)||{}}else if(i(M.insert)==="object"){var K=Object.keys(M.insert)[0];if(K==null)return z;R.scroll.insertAt(z,K,M.insert[K])}U+=H}return Object.keys(W).forEach(function(X){R.scroll.formatAt(z,H,X,W[X])}),z+H},0),T.reduce(function(z,M){return typeof M.delete=="number"?(R.scroll.deleteAt(z,M.delete),z):z+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,R){return this.scroll.deleteAt(T,R),this.update(new f.default().retain(T).delete(R))}},{key:"formatLine",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(z){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[z])){var M=F.scroll.lines(T,Math.max(R,1)),H=R;M.forEach(function(W){var V=W.length();if(!(W instanceof p.default))W.format(z,U[z]);else{var G=T-W.offset(F.scroll),te=W.newlineIndex(G+H)-G+1;W.formatAt(G,te,z,U[z])}H-=V})}}),this.scroll.optimize(),this.update(new f.default().retain(T).retain(R,(0,O.default)(U)))}},{key:"formatText",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(z){F.scroll.formatAt(T,R,z,U[z])}),this.update(new f.default().retain(T).retain(R,(0,O.default)(U)))}},{key:"getContents",value:function(T,R){return this.delta.slice(T,T+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,R){return T.concat(R.delta())},new f.default)}},{key:"getFormat",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],U=[];R===0?this.scroll.path(T).forEach(function(M){var H=o(M,1),W=H[0];W instanceof x.default?F.push(W):W instanceof u.default.Leaf&&U.push(W)}):(F=this.scroll.lines(T,R),U=this.scroll.descendants(u.default.Leaf,T,R));var z=[F,U].map(function(M){if(M.length===0)return{};for(var H=(0,b.bubbleFormats)(M.shift());Object.keys(H).length>0;){var W=M.shift();if(W==null)return H;H=j((0,b.bubbleFormats)(W),H)}return H});return S.default.apply(S.default,z)}},{key:"getText",value:function(T,R){return this.getContents(T,R).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(T,R,F){return this.scroll.insertAt(T,R,F),this.update(new f.default().retain(T).insert(P({},R,F)))}},{key:"insertText",value:function(T,R){var F=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,R),Object.keys(U).forEach(function(z){F.scroll.formatAt(T,R.length,z,U[z])}),this.update(new f.default().retain(T).insert(R,(0,O.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==x.default.blotName||T.children.length>1?!1:T.children.head instanceof C.default}},{key:"removeFormat",value:function(T,R){var F=this.getText(T,R),U=this.scroll.line(T+R),z=o(U,2),M=z[0],H=z[1],W=0,V=new f.default;M!=null&&(M instanceof p.default?W=M.newlineIndex(H)-H+1:W=M.length()-H,V=M.delta().slice(H,H+W-1).insert(`
`));var G=this.getContents(T,R+W),te=G.diff(new f.default().insert(F).concat(V)),Q=new f.default().retain(T).concat(te);return this.applyDelta(Q)}},{key:"update",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(L)&&u.default.find(R[0].target)){var z=u.default.find(R[0].target),M=(0,b.bubbleFormats)(z),H=z.offset(this.scroll),W=R[0].oldValue.replace(g.default.CONTENTS,""),V=new f.default().insert(W),G=new f.default().insert(z.value()),te=new f.default().retain(H).concat(V.diff(G,F));T=te.reduce(function(Q,ae){return ae.insert?Q.insert(ae.insert,M):Q.push(ae)},new f.default),this.delta=U.compose(T)}else this.delta=this.getDelta(),(!T||!(0,k.default)(U.compose(T),this.delta))&&(T=U.diff(this.delta,F));return T}}]),B}();function j(B,$){return Object.keys($).reduce(function(T,R){return B[R]==null||($[R]===B[R]?T[R]=$[R]:Array.isArray($[R])?$[R].indexOf(B[R])<0&&(T[R]=$[R].concat([B[R]])):T[R]=[$[R],B[R]]),T},{})}function Y(B){return B.reduce(function($,T){if(T.insert===1){var R=(0,O.default)(T.attributes);return delete R.image,$.insert({image:T.attributes.image},R)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,O.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var F=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(F,T.attributes)}return $.push(T)},new f.default)}r.default=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function I(k,D){var S=[],A=!0,P=!1,_=void 0;try{for(var L=k[Symbol.iterator](),q;!(A=(q=L.next()).done)&&(S.push(q.value),!(D&&S.length===D));A=!0);}catch(j){P=!0,_=j}finally{try{!A&&L.return&&L.return()}finally{if(P)throw _}}return S}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,D){for(var S=0;S<D.length;S++){var A=D[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}return function(k,D,S){return D&&I(k.prototype,D),S&&I(k,S),k}}(),s=a(0),d=g(s),f=a(21),h=g(f),c=a(11),l=g(c),u=a(8),v=g(u),p=a(10),m=g(p);function g(I){return I&&I.__esModule?I:{default:I}}function b(I){if(Array.isArray(I)){for(var k=0,D=Array(I.length);k<I.length;k++)D[k]=I[k];return D}else return Array.from(I)}function x(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}var y=(0,m.default)("quill:selection"),C=function I(k){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,I),this.index=k,this.length=D},N=function(){function I(k,D){var S=this;x(this,I),this.emitter=D,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(A,P){A===v.default.events.TEXT_CHANGE&&P.length()>0&&S.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var A=S.getNativeRange();A!=null&&A.start.node!==S.cursor.textNode&&S.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(A,P){if(P.range){var _=P.range,L=_.startNode,q=_.startOffset,j=_.endNode,Y=_.endOffset;S.setNativeRange(L,q,j,Y)}}),this.update(v.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var S=D.cursor.restore();if(!S)return;setTimeout(function(){D.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||d.default.query(D,d.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var P=d.default.find(A.start.node,!1);if(P==null)return;if(P instanceof d.default.Leaf){var _=P.split(A.start.offset);P.parent.insertBefore(this.cursor,_)}else P.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(D,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();D=Math.min(D,A-1),S=Math.min(D+S,A-1)-D;var P=void 0,_=this.scroll.leaf(D),L=i(_,2),q=L[0],j=L[1];if(q==null)return null;var Y=q.position(j,!0),B=i(Y,2);P=B[0],j=B[1];var $=document.createRange();if(S>0){$.setStart(P,j);var T=this.scroll.leaf(D+S),R=i(T,2);if(q=R[0],j=R[1],q==null)return null;var F=q.position(j,!0),U=i(F,2);return P=U[0],j=U[1],$.setEnd(P,j),$.getBoundingClientRect()}else{var z="left",M=void 0;return P instanceof Text?(j<P.data.length?($.setStart(P,j),$.setEnd(P,j+1)):($.setStart(P,j-1),$.setEnd(P,j),z="right"),M=$.getBoundingClientRect()):(M=q.domNode.getBoundingClientRect(),j>0&&(z="right")),{bottom:M.top+M.height,height:M.height,left:M[z],right:M[z],top:M.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var S=D.getRangeAt(0);if(S==null)return null;var A=this.normalizeNative(S);return y.info("getNativeRange",A),A}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var S=this.normalizedToRange(D);return[S,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var S=this,A=[[D.start.node,D.start.offset]];D.native.collapsed||A.push([D.end.node,D.end.offset]);var P=A.map(function(q){var j=i(q,2),Y=j[0],B=j[1],$=d.default.find(Y,!0),T=$.offset(S.scroll);return B===0?T:$ instanceof d.default.Container?T+$.length():T+$.index(Y,B)}),_=Math.min(Math.max.apply(Math,b(P)),this.scroll.length()-1),L=Math.min.apply(Math,[_].concat(b(P)));return new C(L,_-L)}},{key:"normalizeNative",value:function(D){if(!O(this.root,D.startContainer)||!D.collapsed&&!O(this.root,D.endContainer))return null;var S={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[S.start,S.end].forEach(function(A){for(var P=A.node,_=A.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>_)P=P.childNodes[_],_=0;else if(P.childNodes.length===_)P=P.lastChild,_=P instanceof Text?P.data.length:P.childNodes.length+1;else break;A.node=P,A.offset=_}),S}},{key:"rangeToNative",value:function(D){var S=this,A=D.collapsed?[D.index]:[D.index,D.index+D.length],P=[],_=this.scroll.length();return A.forEach(function(L,q){L=Math.min(_-1,L);var j=void 0,Y=S.scroll.leaf(L),B=i(Y,2),$=B[0],T=B[1],R=$.position(T,q!==0),F=i(R,2);j=F[0],T=F[1],P.push(j,T)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(D){var S=this.lastRange;if(S!=null){var A=this.getBounds(S.index,S.length);if(A!=null){var P=this.scroll.length()-1,_=this.scroll.line(Math.min(S.index,P)),L=i(_,1),q=L[0],j=q;if(S.length>0){var Y=this.scroll.line(Math.min(S.index+S.length,P)),B=i(Y,1);j=B[0]}if(!(q==null||j==null)){var $=D.getBoundingClientRect();A.top<$.top?D.scrollTop-=$.top-A.top:A.bottom>$.bottom&&(D.scrollTop+=A.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(D,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",D,S,A,P),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||A.parentNode==null))){var L=document.getSelection();if(L!=null)if(D!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||_||D!==q.startContainer||S!==q.startOffset||A!==q.endContainer||P!==q.endOffset){D.tagName=="BR"&&(S=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),A.tagName=="BR"&&(P=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var j=document.createRange();j.setStart(D,S),j.setEnd(A,P),L.removeAllRanges(),L.addRange(j)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof S=="string"&&(A=S,S=!1),y.info("setRange",D),D!=null){var P=this.rangeToNative(D);this.setNativeRange.apply(this,b(P).concat([S]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,S=this.lastRange,A=this.getRange(),P=i(A,2),_=P[0],L=P[1];if(this.lastRange=_,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,l.default)(S,this.lastRange)){var q;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var j=[v.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(S),D];if((q=this.emitter).emit.apply(q,[v.default.events.EDITOR_CHANGE].concat(j)),D!==v.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,j)}}}}]),I}();function O(I,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),I.contains(k)}r.Range=C,r.default=N},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(p,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,m,g){return m&&v(p.prototype,m),g&&v(p,g),p}}(),o=function v(p,m,g){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,m);if(b===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(0),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(){return h(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"insertInto",value:function(g,b){g.children.length===0?o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertInto",this).call(this,g,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),p}(d.default.Embed);u.blotName="break",u.tagName="BR",r.default=u},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var v in u)u.hasOwnProperty(v)&&(l[v]=u[v])};return function(l,u){c(l,u);function v(){this.constructor=l}l.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(44),s=a(30),d=a(1),f=function(c){i(l,c);function l(u){var v=c.call(this,u)||this;return v.build(),v}return l.prototype.appendChild=function(u){this.insertBefore(u)},l.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(u){u.attach()})},l.prototype.build=function(){var u=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var p=h(v);u.insertBefore(p,u.children.head||void 0)}catch(m){if(m instanceof d.ParchmentError)return;throw m}})},l.prototype.deleteAt=function(u,v){if(u===0&&v===this.length())return this.remove();this.children.forEachAt(u,v,function(p,m,g){p.deleteAt(m,g)})},l.prototype.descendant=function(u,v){var p=this.children.find(v),m=p[0],g=p[1];return u.blotName==null&&u(m)||u.blotName!=null&&m instanceof u?[m,g]:m instanceof l?m.descendant(u,g):[null,-1]},l.prototype.descendants=function(u,v,p){v===void 0&&(v=0),p===void 0&&(p=Number.MAX_VALUE);var m=[],g=p;return this.children.forEachAt(v,p,function(b,x,y){(u.blotName==null&&u(b)||u.blotName!=null&&b instanceof u)&&m.push(b),b instanceof l&&(m=m.concat(b.descendants(u,x,g))),g-=y}),m},l.prototype.detach=function(){this.children.forEach(function(u){u.detach()}),c.prototype.detach.call(this)},l.prototype.formatAt=function(u,v,p,m){this.children.forEachAt(u,v,function(g,b,x){g.formatAt(b,x,p,m)})},l.prototype.insertAt=function(u,v,p){var m=this.children.find(u),g=m[0],b=m[1];if(g)g.insertAt(b,v,p);else{var x=p==null?d.create("text",v):d.create(v,p);this.appendChild(x)}},l.prototype.insertBefore=function(u,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(p){return u instanceof p}))throw new d.ParchmentError("Cannot insert "+u.statics.blotName+" into "+this.statics.blotName);u.insertInto(this,v)},l.prototype.length=function(){return this.children.reduce(function(u,v){return u+v.length()},0)},l.prototype.moveChildren=function(u,v){this.children.forEach(function(p){u.insertBefore(p,v)})},l.prototype.optimize=function(u){if(c.prototype.optimize.call(this,u),this.children.length===0)if(this.statics.defaultChild!=null){var v=d.create(this.statics.defaultChild);this.appendChild(v),v.optimize(u)}else this.remove()},l.prototype.path=function(u,v){v===void 0&&(v=!1);var p=this.children.find(u,v),m=p[0],g=p[1],b=[[this,u]];return m instanceof l?b.concat(m.path(g,v)):(m!=null&&b.push([m,g]),b)},l.prototype.removeChild=function(u){this.children.remove(u)},l.prototype.replace=function(u){u instanceof l&&u.moveChildren(this),c.prototype.replace.call(this,u)},l.prototype.split=function(u,v){if(v===void 0&&(v=!1),!v){if(u===0)return this;if(u===this.length())return this.next}var p=this.clone();return this.parent.insertBefore(p,this.next),this.children.forEachAt(u,this.length(),function(m,g,b){m=m.split(g,v),p.appendChild(m)}),p},l.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},l.prototype.update=function(u,v){var p=this,m=[],g=[];u.forEach(function(b){b.target===p.domNode&&b.type==="childList"&&(m.push.apply(m,b.addedNodes),g.push.apply(g,b.removedNodes))}),g.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=d.find(b);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===p.domNode)&&x.detach()}}),m.filter(function(b){return b.parentNode==p.domNode}).sort(function(b,x){return b===x?0:b.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var x=null;b.nextSibling!=null&&(x=d.find(b.nextSibling));var y=h(b);(y.next!=x||y.next==null)&&(y.parent!=null&&y.parent.removeChild(p),p.insertBefore(y,x||void 0))})},l}(s.default);function h(c){var l=d.find(c);if(l==null)try{l=d.create(c)}catch{l=d.create(d.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(v){l.domNode.appendChild(v)}),c.parentNode&&c.parentNode.replaceChild(l.domNode,c),l.attach()}return l}r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var v in u)u.hasOwnProperty(v)&&(l[v]=u[v])};return function(l,u){c(l,u);function v(){this.constructor=l}l.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12),s=a(31),d=a(17),f=a(1),h=function(c){i(l,c);function l(u){var v=c.call(this,u)||this;return v.attributes=new s.default(v.domNode),v}return l.formats=function(u){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return u.tagName.toLowerCase()},l.prototype.format=function(u,v){var p=f.query(u);p instanceof o.default?this.attributes.attribute(p,v):v&&p!=null&&(u!==this.statics.blotName||this.formats()[u]!==v)&&this.replaceWith(u,v)},l.prototype.formats=function(){var u=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(u[this.statics.blotName]=v),u},l.prototype.replaceWith=function(u,v){var p=c.prototype.replaceWith.call(this,u,v);return this.attributes.copy(p),p},l.prototype.update=function(u,v){var p=this;c.prototype.update.call(this,u,v),u.some(function(m){return m.target===p.domNode&&m.type==="attributes"})&&this.attributes.build()},l.prototype.wrap=function(u,v){var p=c.prototype.wrap.call(this,u,v);return p instanceof l&&p.statics.scope===this.statics.scope&&this.attributes.move(p),p},l}(d.default);r.default=h},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(30),s=a(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.value=function(c){return!0},h.prototype.index=function(c,l){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(l,1):-1},h.prototype.position=function(c,l){var u=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(u+=1),[this.parent.domNode,u]},h.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},h.scope=s.Scope.INLINE_BLOT,h}(o.default);r.default=d},function(n,r,a){var i=a(11),o=a(3),s={attributes:{compose:function(f,h,c){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var l=o(!0,{},h);c||(l=Object.keys(l).reduce(function(v,p){return l[p]!=null&&(v[p]=l[p]),v},{}));for(var u in f)f[u]!==void 0&&h[u]===void 0&&(l[u]=f[u]);return Object.keys(l).length>0?l:void 0},diff:function(f,h){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var c=Object.keys(f).concat(Object.keys(h)).reduce(function(l,u){return i(f[u],h[u])||(l[u]=h[u]===void 0?null:h[u]),l},{});return Object.keys(c).length>0?c:void 0},transform:function(f,h,c){if(typeof f!="object")return h;if(typeof h=="object"){if(!c)return h;var l=Object.keys(h).reduce(function(u,v){return f[v]===void 0&&(u[v]=h[v]),u},{});return Object.keys(l).length>0?l:void 0}}},iterator:function(f){return new d(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function d(f){this.ops=f,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(f){f||(f=1/0);var h=this.ops[this.index];if(h){var c=this.offset,l=s.length(h);if(f>=l-c?(f=l-c,this.index+=1,this.offset=0):this.offset+=f,typeof h.delete=="number")return{delete:f};var u={};return h.attributes&&(u.attributes=h.attributes),typeof h.retain=="number"?u.retain=f:typeof h.insert=="string"?u.insert=h.insert.substr(c,f):u.insert=h.insert,u}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,h=this.index,c=this.next(),l=this.ops.slice(this.index);return this.offset=f,this.index=h,[c].concat(l)}else return[]},n.exports=s},function(n,r){var a=function(){function i(p,m){return m!=null&&p instanceof m}var o;try{o=Map}catch{o=function(){}}var s;try{s=Set}catch{s=function(){}}var d;try{d=Promise}catch{d=function(){}}function f(p,m,g,b,x){typeof m=="object"&&(g=m.depth,b=m.prototype,x=m.includeNonEnumerable,m=m.circular);var y=[],C=[],N=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof g>"u"&&(g=1/0);function O(I,k){if(I===null)return null;if(k===0)return I;var D,S;if(typeof I!="object")return I;if(i(I,o))D=new o;else if(i(I,s))D=new s;else if(i(I,d))D=new d(function($,T){I.then(function(R){$(O(R,k-1))},function(R){T(O(R,k-1))})});else if(f.__isArray(I))D=[];else if(f.__isRegExp(I))D=new RegExp(I.source,v(I)),I.lastIndex&&(D.lastIndex=I.lastIndex);else if(f.__isDate(I))D=new Date(I.getTime());else{if(N&&Buffer.isBuffer(I))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(I.length):D=new Buffer(I.length),I.copy(D),D;i(I,Error)?D=Object.create(I):typeof b>"u"?(S=Object.getPrototypeOf(I),D=Object.create(S)):(D=Object.create(b),S=b)}if(m){var A=y.indexOf(I);if(A!=-1)return C[A];y.push(I),C.push(D)}i(I,o)&&I.forEach(function($,T){var R=O(T,k-1),F=O($,k-1);D.set(R,F)}),i(I,s)&&I.forEach(function($){var T=O($,k-1);D.add(T)});for(var P in I){var _;S&&(_=Object.getOwnPropertyDescriptor(S,P)),!(_&&_.set==null)&&(D[P]=O(I[P],k-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(I),P=0;P<L.length;P++){var q=L[P],j=Object.getOwnPropertyDescriptor(I,q);j&&!j.enumerable&&!x||(D[q]=O(I[q],k-1),j.enumerable||Object.defineProperty(D,q,{enumerable:!1}))}if(x)for(var Y=Object.getOwnPropertyNames(I),P=0;P<Y.length;P++){var B=Y[P],j=Object.getOwnPropertyDescriptor(I,B);j&&j.enumerable||(D[B]=O(I[B],k-1),Object.defineProperty(D,B,{enumerable:!1}))}return D}return O(p,g)}f.clonePrototype=function(m){if(m===null)return null;var g=function(){};return g.prototype=m,new g};function h(p){return Object.prototype.toString.call(p)}f.__objToStr=h;function c(p){return typeof p=="object"&&h(p)==="[object Date]"}f.__isDate=c;function l(p){return typeof p=="object"&&h(p)==="[object Array]"}f.__isArray=l;function u(p){return typeof p=="object"&&h(p)==="[object RegExp]"}f.__isRegExp=u;function v(p){var m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),m}return f.__getRegExpFlags=v,f}();typeof n=="object"&&n.exports&&(n.exports=a)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function D(S,A){var P=[],_=!0,L=!1,q=void 0;try{for(var j=S[Symbol.iterator](),Y;!(_=(Y=j.next()).done)&&(P.push(Y.value),!(A&&P.length===A));_=!0);}catch(B){L=!0,q=B}finally{try{!_&&j.return&&j.return()}finally{if(L)throw q}}return P}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return D(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function D(S,A){for(var P=0;P<A.length;P++){var _=A[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,A,P){return A&&D(S.prototype,A),P&&D(S,P),S}}(),s=function D(S,A,P){S===null&&(S=Function.prototype);var _=Object.getOwnPropertyDescriptor(S,A);if(_===void 0){var L=Object.getPrototypeOf(S);return L===null?void 0:D(L,A,P)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(P)}},d=a(0),f=y(d),h=a(8),c=y(h),l=a(4),u=y(l),v=a(16),p=y(v),m=a(13),g=y(m),b=a(25),x=y(b);function y(D){return D&&D.__esModule?D:{default:D}}function C(D,S){if(!(D instanceof S))throw new TypeError("Cannot call a class as a function")}function N(D,S){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:D}function O(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(D,S):D.__proto__=S)}function I(D){return D instanceof u.default||D instanceof l.BlockEmbed}var k=function(D){O(S,D);function S(A,P){C(this,S);var _=N(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return _.emitter=P.emitter,Array.isArray(P.whitelist)&&(_.whitelist=P.whitelist.reduce(function(L,q){return L[q]=!0,L},{})),_.domNode.addEventListener("DOMNodeInserted",function(){}),_.optimize(),_.enable(),_}return o(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,_){var L=this.line(P),q=i(L,2),j=q[0],Y=q[1],B=this.line(P+_),$=i(B,1),T=$[0];if(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,_),T!=null&&j!==T&&Y>0){if(j instanceof l.BlockEmbed||T instanceof l.BlockEmbed){this.optimize();return}if(j instanceof g.default){var R=j.newlineIndex(j.length(),!0);if(R>-1&&(j=j.split(R+1),j===T)){this.optimize();return}}else if(T instanceof g.default){var F=T.newlineIndex(0);F>-1&&T.split(F+1)}var U=T.children.head instanceof p.default?null:T.children.head;j.moveChildren(T,U),j.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,_,L,q){this.whitelist!=null&&!this.whitelist[L]||(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,_,L,q),this.optimize())}},{key:"insertAt",value:function(P,_,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[_])){if(P>=this.length())if(L==null||f.default.query(_,f.default.Scope.BLOCK)==null){var q=f.default.create(this.statics.defaultChild);this.appendChild(q),L==null&&_.endsWith(`
`)&&(_=_.slice(0,-1)),q.insertAt(0,_,L)}else{var j=f.default.create(_,L);this.appendChild(j)}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,_,L);this.optimize()}}},{key:"insertBefore",value:function(P,_){if(P.statics.scope===f.default.Scope.INLINE_BLOT){var L=f.default.create(this.statics.defaultChild);L.appendChild(P),P=L}s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,_)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(I,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function q(j,Y,B){var $=[],T=B;return j.children.forEachAt(Y,B,function(R,F,U){I(R)?$.push(R):R instanceof f.default.Container&&($=$.concat(q(R,F,T))),T-=U}),$};return L(this,P,_)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P,_),P.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,P,_))}},{key:"path",value:function(P){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var _=c.default.sources.USER;typeof P=="string"&&(_=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,_,P),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,_,P)}}}]),S}(f.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[u.default,l.BlockEmbed,x.default],r.default=k},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(H,W){var V=[],G=!0,te=!1,Q=void 0;try{for(var ae=H[Symbol.iterator](),ee;!(G=(ee=ae.next()).done)&&(V.push(ee.value),!(W&&V.length===W));G=!0);}catch(re){te=!0,Q=re}finally{try{!G&&ae.return&&ae.return()}finally{if(te)throw Q}}return V}return function(H,W){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return M(H,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(H,W){for(var V=0;V<W.length;V++){var G=W[V];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}return function(H,W,V){return W&&M(H.prototype,W),V&&M(H,V),H}}(),d=a(21),f=D(d),h=a(11),c=D(h),l=a(3),u=D(l),v=a(2),p=D(v),m=a(20),g=D(m),b=a(0),x=D(b),y=a(5),C=D(y),N=a(10),O=D(N),I=a(9),k=D(I);function D(M){return M&&M.__esModule?M:{default:M}}function S(M,H,W){return H in M?Object.defineProperty(M,H,{value:W,enumerable:!0,configurable:!0,writable:!0}):M[H]=W,M}function A(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}function P(M,H){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:M}function _(M,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(M,H):M.__proto__=H)}var L=(0,O.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",j=function(M){_(H,M),s(H,null,[{key:"match",value:function(V,G){return G=z(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!G[te]!==V[te]&&G[te]!==null})?!1:G.key===(V.which||V.keyCode)}}]);function H(W,V){A(this,H);var G=P(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,W,V));return G.bindings={},Object.keys(G.options.bindings).forEach(function(te){te==="list autofill"&&W.scroll.whitelist!=null&&!W.scroll.whitelist.list||G.options.bindings[te]&&G.addBinding(G.options.bindings[te])}),G.addBinding({key:H.keys.ENTER,shiftKey:null},R),G.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},B),G.addBinding({key:H.keys.DELETE},{collapsed:!0},$)):(G.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),G.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),G.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},T),G.addBinding({key:H.keys.DELETE},{collapsed:!1},T),G.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),G.listen(),G}return s(H,[{key:"addBinding",value:function(V){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=z(V);if(Q==null||Q.key==null)return L.warn("Attempted to add invalid keyboard binding",Q);typeof G=="function"&&(G={handler:G}),typeof te=="function"&&(te={handler:te}),Q=(0,u.default)(Q,G,te),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var te=G.which||G.keyCode,Q=(V.bindings[te]||[]).filter(function(De){return H.match(G,De)});if(Q.length!==0){var ae=V.quill.getSelection();if(!(ae==null||!V.quill.hasFocus())){var ee=V.quill.getLine(ae.index),re=o(ee,2),fe=re[0],he=re[1],K=V.quill.getLeaf(ae.index),X=o(K,2),ne=X[0],ie=X[1],J=ae.length===0?[ne,ie]:V.quill.getLeaf(ae.index+ae.length),ue=o(J,2),le=ue[0],ve=ue[1],ke=ne instanceof x.default.Text?ne.value().slice(0,ie):"",_e=le instanceof x.default.Text?le.value().slice(ve):"",Se={collapsed:ae.length===0,empty:ae.length===0&&fe.length()<=1,format:V.quill.getFormat(ae),offset:he,prefix:ke,suffix:_e},Be=Q.some(function(De){if(De.collapsed!=null&&De.collapsed!==Se.collapsed||De.empty!=null&&De.empty!==Se.empty||De.offset!=null&&De.offset!==Se.offset)return!1;if(Array.isArray(De.format)){if(De.format.every(function(rt){return Se.format[rt]==null}))return!1}else if(i(De.format)==="object"&&!Object.keys(De.format).every(function(rt){return De.format[rt]===!0?Se.format[rt]!=null:De.format[rt]===!1?Se.format[rt]==null:(0,c.default)(De.format[rt],Se.format[rt])}))return!1;return De.prefix!=null&&!De.prefix.test(Se.prefix)||De.suffix!=null&&!De.suffix.test(Se.suffix)?!1:De.handler.call(V,ae,Se)!==!0});Be&&G.preventDefault()}}}})}}]),H}(k.default);j.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},j.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:j.keys.TAB,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:j.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:j.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,W){W.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):W.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:j.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,C.default.sources.USER)}},tab:{key:j.keys.TAB,handler:function(H){this.quill.history.cutoff();var W=new p.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(W,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,C.default.sources.SILENT)}},"list empty enter":{key:j.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,W){this.quill.format("list",!1,C.default.sources.USER),W.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:j.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var W=this.quill.getLine(H.index),V=o(W,2),G=V[0],te=V[1],Q=(0,u.default)({},G.formats(),{list:"checked"}),ae=new p.default().retain(H.index).insert(`
`,Q).retain(G.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ae,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:j.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,W){var V=this.quill.getLine(H.index),G=o(V,2),te=G[0],Q=G[1],ae=new p.default().retain(H.index).insert(`
`,W.format).retain(te.length()-Q-1).retain(1,{header:null});this.quill.updateContents(ae,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,W){var V=W.prefix.length,G=this.quill.getLine(H.index),te=o(G,2),Q=te[0],ae=te[1];if(ae>V)return!0;var ee=void 0;switch(W.prefix.trim()){case"[]":case"[ ]":ee="unchecked";break;case"[x]":ee="checked";break;case"-":case"*":ee="bullet";break;default:ee="ordered"}this.quill.insertText(H.index," ",C.default.sources.USER),this.quill.history.cutoff();var re=new p.default().retain(H.index-ae).delete(V+1).retain(Q.length()-2-ae).retain(1,{list:ee});this.quill.updateContents(re,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-V,C.default.sources.SILENT)}},"code exit":{key:j.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var W=this.quill.getLine(H.index),V=o(W,2),G=V[0],te=V[1],Q=new p.default().retain(H.index+G.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,C.default.sources.USER)}},"embed left":Y(j.keys.LEFT,!1),"embed left shift":Y(j.keys.LEFT,!0),"embed right":Y(j.keys.RIGHT,!1),"embed right shift":Y(j.keys.RIGHT,!0)}};function Y(M,H){var W,V=M===j.keys.LEFT?"prefix":"suffix";return W={key:M,shiftKey:H,altKey:null},S(W,V,/^$/),S(W,"handler",function(te){var Q=te.index;M===j.keys.RIGHT&&(Q+=te.length+1);var ae=this.quill.getLeaf(Q),ee=o(ae,1),re=ee[0];return re instanceof x.default.Embed?(M===j.keys.LEFT?H?this.quill.setSelection(te.index-1,te.length+1,C.default.sources.USER):this.quill.setSelection(te.index-1,C.default.sources.USER):H?this.quill.setSelection(te.index,te.length+1,C.default.sources.USER):this.quill.setSelection(te.index+te.length+1,C.default.sources.USER),!1):!0}),W}function B(M,H){if(!(M.index===0||this.quill.getLength()<=1)){var W=this.quill.getLine(M.index),V=o(W,1),G=V[0],te={};if(H.offset===0){var Q=this.quill.getLine(M.index-1),ae=o(Q,1),ee=ae[0];if(ee!=null&&ee.length()>1){var re=G.formats(),fe=this.quill.getFormat(M.index-1,1);te=g.default.attributes.diff(re,fe)||{}}}var he=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(M.index-he,he,C.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(M.index-he,he,te,C.default.sources.USER),this.quill.focus()}}function $(M,H){var W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(M.index>=this.quill.getLength()-W)){var V={},G=0,te=this.quill.getLine(M.index),Q=o(te,1),ae=Q[0];if(H.offset>=ae.length()-1){var ee=this.quill.getLine(M.index+1),re=o(ee,1),fe=re[0];if(fe){var he=ae.formats(),K=this.quill.getFormat(M.index,1);V=g.default.attributes.diff(he,K)||{},G=fe.length()}}this.quill.deleteText(M.index,W,C.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(M.index+G-1,W,V,C.default.sources.USER)}}function T(M){var H=this.quill.getLines(M),W={};if(H.length>1){var V=H[0].formats(),G=H[H.length-1].formats();W=g.default.attributes.diff(G,V)||{}}this.quill.deleteText(M,C.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(M.index,1,W,C.default.sources.USER),this.quill.setSelection(M.index,C.default.sources.SILENT),this.quill.focus()}function R(M,H){var W=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var V=Object.keys(H.format).reduce(function(G,te){return x.default.query(te,x.default.Scope.BLOCK)&&!Array.isArray(H.format[te])&&(G[te]=H.format[te]),G},{});this.quill.insertText(M.index,`
`,V,C.default.sources.USER),this.quill.setSelection(M.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(G){V[G]==null&&(Array.isArray(H.format[G])||G!=="link"&&W.quill.format(G,H.format[G],C.default.sources.USER))})}function F(M){return{key:j.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(W){var V=x.default.query("code-block"),G=W.index,te=W.length,Q=this.quill.scroll.descendant(V,G),ae=o(Q,2),ee=ae[0],re=ae[1];if(ee!=null){var fe=this.quill.getIndex(ee),he=ee.newlineIndex(re,!0)+1,K=ee.newlineIndex(fe+re+te),X=ee.domNode.textContent.slice(he,K).split(`
`);re=0,X.forEach(function(ne,ie){M?(ee.insertAt(he+re,V.TAB),re+=V.TAB.length,ie===0?G+=V.TAB.length:te+=V.TAB.length):ne.startsWith(V.TAB)&&(ee.deleteAt(he+re,V.TAB.length),re-=V.TAB.length,ie===0?G-=V.TAB.length:te-=V.TAB.length),re+=ne.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(G,te,C.default.sources.SILENT)}}}}function U(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(W,V){this.quill.format(M,!V.format[M],C.default.sources.USER)}}}function z(M){if(typeof M=="string"||typeof M=="number")return z({key:M});if((typeof M>"u"?"undefined":i(M))==="object"&&(M=(0,f.default)(M,!1)),typeof M.key=="string")if(j.keys[M.key.toUpperCase()]!=null)M.key=j.keys[M.key.toUpperCase()];else if(M.key.length===1)M.key=M.key.toUpperCase().charCodeAt(0);else return null;return M.shortKey&&(M[q]=M.shortKey,delete M.shortKey),M}r.default=j,r.SHORTKEY=q},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function g(b,x){var y=[],C=!0,N=!1,O=void 0;try{for(var I=b[Symbol.iterator](),k;!(C=(k=I.next()).done)&&(y.push(k.value),!(x&&y.length===x));C=!0);}catch(D){N=!0,O=D}finally{try{!C&&I.return&&I.return()}finally{if(N)throw O}}return y}return function(b,x){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return g(b,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:g(N,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),d=a(0),f=l(d),h=a(7),c=l(h);function l(g){return g&&g.__esModule?g:{default:g}}function u(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function v(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=function(g){p(b,g),s(b,null,[{key:"value",value:function(){}}]);function b(x,y){u(this,b);var C=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return C.selection=y,C.textNode=document.createTextNode(b.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return s(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,C){if(this._length!==0)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,C);for(var N=this,O=0;N!=null&&N.statics.scope!==f.default.Scope.BLOCK_BLOT;)O+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=b.CONTENTS.length,N.optimize(),N.formatAt(O,b.CONTENTS.length,y,C),this._length=0)}},{key:"index",value:function(y,C){return y===this.textNode?0:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,C=this.selection.getNativeRange(),N=void 0,O=void 0,I=void 0;if(C!=null&&C.start.node===y&&C.end.node===y){var k=[y,C.start.offset,C.end.offset];N=k[0],O=k[1],I=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var D=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof c.default?(N=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=b.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var S=[O,I].map(function(P){return Math.max(0,Math.min(N.data.length,P-1))}),A=i(S,2);return O=A[0],I=A[1],{startNode:N,startOffset:O,endNode:N,endOffset:I}}}}},{key:"update",value:function(y,C){var N=this;if(y.some(function(I){return I.type==="characterData"&&I.target===N.textNode})){var O=this.restore();O&&(C.range=O)}}},{key:"value",value:function(){return""}}]),b}(f.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF",r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=f(i),s=a(4),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(){return h(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Container);u.allowedChildren=[d.default,s.BlockEmbed,u],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=a(0),d=f(s);function f(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function l(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var u=function(m){l(g,m);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"value",value:function(x){var y=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):y}}]),g}(d.default.Attributor.Style),v=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),p=new u("color","color",{scope:d.default.Scope.INLINE});r.ColorAttributor=u,r.ColorClass=v,r.ColorStyle=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function p(m,g){for(var b=0;b<g.length;b++){var x=g[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,b){return g&&p(m.prototype,g),b&&p(m,b),m}}(),o=function p(m,g,b){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:p(y,g,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},s=a(6),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function l(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var u=function(p){l(m,p);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(b,x){if(b!==this.statics.blotName||!x)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(b){var x=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,b);return b=this.sanitize(b),x.setAttribute("href",b),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return v(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),m}(d.default);u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(p,m){var g=document.createElement("a");g.href=p;var b=g.href.slice(0,g.href.indexOf(":"));return m.indexOf(b)>-1}r.default=u,r.sanitize=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),s=a(23),d=c(s),f=a(107),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}var u=0;function v(m,g){m.setAttribute(g,m.getAttribute(g)!=="true")}var p=function(){function m(g){var b=this;l(this,m),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case d.default.keys.ENTER:b.togglePicker();break;case d.default.keys.ESCAPE:b.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(m,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var x=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),b.hasAttribute("value")&&y.setAttribute("data-value",b.getAttribute("value")),b.textContent&&y.setAttribute("data-label",b.textContent),y.addEventListener("click",function(){x.selectItem(y,!0)}),y.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:x.selectItem(y,!0),C.preventDefault();break;case d.default.keys.ESCAPE:x.escape(),C.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=h.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(y){var C=b.buildItem(y);x.appendChild(C),y.selected===!0&&b.selectItem(C)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(x){b.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(b!==y&&(y!=null&&y.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var y=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),m}();r.default=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=L(i),s=a(5),d=L(s),f=a(4),h=L(f),c=a(16),l=L(c),u=a(25),v=L(u),p=a(24),m=L(p),g=a(35),b=L(g),x=a(6),y=L(x),C=a(22),N=L(C),O=a(7),I=L(O),k=a(55),D=L(k),S=a(42),A=L(S),P=a(23),_=L(P);function L(q){return q&&q.__esModule?q:{default:q}}d.default.register({"blots/block":h.default,"blots/block/embed":f.BlockEmbed,"blots/break":l.default,"blots/container":v.default,"blots/cursor":m.default,"blots/embed":b.default,"blots/inline":y.default,"blots/scroll":N.default,"blots/text":I.default,"modules/clipboard":D.default,"modules/history":A.default,"modules/keyboard":_.default}),o.default.register(h.default,l.default,m.default,y.default,N.default,I.default),r.default=d.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function s(d){this.domNode=d,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(d){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?f=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?f=document.createElement(d):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return i.create(d)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},s.prototype.deleteAt=function(d,f){var h=this.isolate(d,f);h.remove()},s.prototype.formatAt=function(d,f,h,c){var l=this.isolate(d,f);if(i.query(h,i.Scope.BLOT)!=null&&c)l.wrap(h,c);else if(i.query(h,i.Scope.ATTRIBUTE)!=null){var u=i.create(this.statics.scope);l.wrap(u),u.format(h,c)}},s.prototype.insertAt=function(d,f,h){var c=h==null?i.create("text",f):i.create(f,h),l=this.split(d);this.parent.insertBefore(c,l)},s.prototype.insertInto=function(d,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var h=null;d.children.insertBefore(this,f),f!=null&&(h=f.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=h)&&d.domNode.insertBefore(this.domNode,h),this.parent=d,this.attach()},s.prototype.isolate=function(d,f){var h=this.split(d);return h.split(f),h},s.prototype.length=function(){return 1},s.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},s.prototype.optimize=function(d){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},s.prototype.replaceWith=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return h.replace(this),h},s.prototype.split=function(d,f){return d===0?this:this.next},s.prototype.update=function(d,f){},s.prototype.wrap=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},s.blotName="abstract",s}();r.default=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),o=a(32),s=a(33),d=a(1),f=function(){function h(c){this.attributes={},this.domNode=c,this.build()}return h.prototype.attribute=function(c,l){l?c.add(this.domNode,l)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},h.prototype.build=function(){var c=this;this.attributes={};var l=i.default.keys(this.domNode),u=o.default.keys(this.domNode),v=s.default.keys(this.domNode);l.concat(u).concat(v).forEach(function(p){var m=d.query(p,d.Scope.ATTRIBUTE);m instanceof i.default&&(c.attributes[m.attrName]=m)})},h.prototype.copy=function(c){var l=this;Object.keys(this.attributes).forEach(function(u){var v=l.attributes[u].value(l.domNode);c.format(u,v)})},h.prototype.move=function(c){var l=this;this.copy(c),Object.keys(this.attributes).forEach(function(u){l.attributes[u].remove(l.domNode)}),this.attributes={}},h.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(l,u){return l[u]=c.attributes[u].value(c.domNode),l},{})},h}();r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function s(f,h){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(l){return l.indexOf(h+"-")===0})}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(l){return l.split("-").slice(0,-1).join("-")})},h.prototype.add=function(c,l){return this.canAdd(c,l)?(this.remove(c),c.classList.add(this.keyName+"-"+l),!0):!1},h.prototype.remove=function(c){var l=s(c,this.keyName);l.forEach(function(u){c.classList.remove(u)}),c.classList.length===0&&c.removeAttribute("class")},h.prototype.value=function(c){var l=s(c,this.keyName)[0]||"",u=l.slice(this.keyName.length+1);return this.canAdd(c,u)?u:""},h}(o.default);r.default=d},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function s(f){var h=f.split("-"),c=h.slice(1).map(function(l){return l[0].toUpperCase()+l.slice(1)}).join("");return h[0]+c}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(l){var u=l.split(":");return u[0].trim()})},h.prototype.add=function(c,l){return this.canAdd(c,l)?(c.style[s(this.keyName)]=l,!0):!1},h.prototype.remove=function(c){c.style[s(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},h.prototype.value=function(c){var l=c.style[s(this.keyName)];return this.canAdd(c,l)?l:""},h}(o.default);r.default=d},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function d(f,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}return function(f,h,c){return h&&d(f.prototype,h),c&&d(f,c),f}}();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function d(f,h){o(this,d),this.quill=f,this.options=h,this.modules={}}return i(d,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(c){h.modules[c]==null&&h.addModule(c)})}},{key:"addModule",value:function(h){var c=this.quill.constructor.import("modules/"+h);return this.modules[h]=new c(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),d}();s.DEFAULTS={modules:{}},s.themes={default:s},r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:g(N,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=a(0),d=c(s),f=a(7),h=c(f);function c(g){return g&&g.__esModule?g:{default:g}}function l(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function u(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function v(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var p="\uFEFF",m=function(g){v(b,g);function b(x){l(this,b);var y=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(C){y.contentNode.appendChild(C)}),y.leftGuard=document.createTextNode(p),y.rightGuard=document.createTextNode(p),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return i(b,[{key:"index",value:function(y,C){return y===this.leftGuard?0:y===this.rightGuard?1:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,C)}},{key:"restore",value:function(y){var C=void 0,N=void 0,O=y.data.split(p).join("");if(y===this.leftGuard)if(this.prev instanceof h.default){var I=this.prev.length();this.prev.insertAt(I,O),C={startNode:this.prev.domNode,startOffset:I+O.length}}else N=document.createTextNode(O),this.parent.insertBefore(d.default.create(N),this),C={startNode:N,startOffset:O.length};else y===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,O),C={startNode:this.next.domNode,startOffset:O.length}):(N=document.createTextNode(O),this.parent.insertBefore(d.default.create(N),this.next),C={startNode:N,startOffset:O.length}));return y.data=p,C}},{key:"update",value:function(y,C){var N=this;y.forEach(function(O){if(O.type==="characterData"&&(O.target===N.leftGuard||O.target===N.rightGuard)){var I=N.restore(O.target);I&&(C.range=I)}})}}]),b}(d.default.Embed);r.default=m},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",d),h=new o.default.Attributor.Class("align","ql-align",d),c=new o.default.Attributor.Style("align","text-align",d);r.AlignAttribute=f,r.AlignClass=h,r.AlignStyle=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=a(0),o=d(i),s=a(26);function d(c){return c&&c.__esModule?c:{default:c}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=a(0),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",d),h=new o.default.Attributor.Class("direction","ql-direction",d),c=new o.default.Attributor.Style("direction","direction",d);r.DirectionAttribute=f,r.DirectionClass=h,r.DirectionStyle=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function g(b,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,y){return x&&g(b.prototype,x),y&&g(b,y),b}}(),o=function g(b,x,y){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:g(N,x,y)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(y)}},s=a(0),d=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function c(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function l(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var u={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new d.default.Attributor.Class("font","ql-font",u),p=function(g){l(b,g);function b(){return h(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"value",value:function(y){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),b}(d.default.Attributor.Style),m=new p("font","font-family",u);r.FontStyle=m,r.FontClass=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=a(0),o=s(i);function s(h){return h&&h.__esModule?h:{default:h}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=d,r.SizeStyle=f},function(n,r,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function x(y,C){for(var N=0;N<C.length;N++){var O=C[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,C,N){return C&&x(y.prototype,C),N&&x(y,N),y}}(),o=a(0),s=l(o),d=a(5),f=l(d),h=a(9),c=l(h);function l(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function v(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function p(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var m=function(x){p(y,x);function y(C,N){u(this,y);var O=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,N));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(f.default.events.EDITOR_CHANGE,function(I,k,D,S){I!==f.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||S===f.default.sources.USER?O.record(k,D):O.transform(k))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return i(y,[{key:"change",value:function(N,O){if(this.stack[N].length!==0){var I=this.stack[N].pop();this.stack[O].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[N],f.default.sources.USER),this.ignoreChange=!1;var k=b(I[N]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,O){if(N.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(O),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var D=this.stack.undo.pop();I=I.compose(D.undo),N=D.redo.compose(N)}else this.lastRecorded=k;this.stack.undo.push({redo:N,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=N.transform(O.undo,!0),O.redo=N.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(c.default);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(x){var y=x.ops[x.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(C){return s.default.query(C,s.default.Scope.BLOCK)!=null}):!1}function b(x){var y=x.reduce(function(N,O){return N+=O.delete||0,N},0),C=x.length()-y;return g(x)&&(C-=1),C}r.default=m,r.getLastChangeIndex=b},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function R(F,U){for(var z=0;z<U.length;z++){var M=U[z];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(F,M.key,M)}}return function(F,U,z){return U&&R(F.prototype,U),z&&R(F,z),F}}(),o=function R(F,U,z){F===null&&(F=Function.prototype);var M=Object.getOwnPropertyDescriptor(F,U);if(M===void 0){var H=Object.getPrototypeOf(F);return H===null?void 0:R(H,U,z)}else{if("value"in M)return M.value;var W=M.get;return W===void 0?void 0:W.call(z)}},s=a(3),d=k(s),f=a(2),h=k(f),c=a(8),l=k(c),u=a(23),v=k(u),p=a(34),m=k(p),g=a(59),b=k(g),x=a(60),y=k(x),C=a(28),N=k(C),O=a(61),I=k(O);function k(R){return R&&R.__esModule?R:{default:R}}function D(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function S(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function A(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var P=[!1,"center","right","justify"],_=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],q=["1","2","3",!1],j=["small",!1,"large","huge"],Y=function(R){A(F,R);function F(U,z){D(this,F);var M=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,U,z)),H=function W(V){if(!document.body.contains(U.root))return document.body.removeEventListener("click",W);M.tooltip!=null&&!M.tooltip.root.contains(V.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),M.pickers!=null&&M.pickers.forEach(function(G){G.container.contains(V.target)||G.close()})};return U.emitter.listenDOM("click",document.body,H),M}return i(F,[{key:"addModule",value:function(z){var M=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(z,M){z.forEach(function(H){var W=H.getAttribute("class")||"";W.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),M[V]!=null))if(V==="direction")H.innerHTML=M[V][""]+M[V].rtl;else if(typeof M[V]=="string")H.innerHTML=M[V];else{var G=H.value||"";G!=null&&M[V][G]&&(H.innerHTML=M[V][G])}})})}},{key:"buildPickers",value:function(z,M){var H=this;this.pickers=z.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&T(V,P),new y.default(V,M.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var G=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&T(V,_,G==="background"?"#ffffff":"#000000"),new b.default(V,M[G])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?T(V,L):V.classList.contains("ql-header")?T(V,q):V.classList.contains("ql-size")&&T(V,j)),new N.default(V)});var W=function(){H.pickers.forEach(function(G){G.update()})};this.quill.on(l.default.events.EDITOR_CHANGE,W)}}]),F}(m.default);Y.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var z=new FileReader;z.onload=function(M){var H=F.quill.getSelection(!0);F.quill.updateContents(new h.default().retain(H.index).delete(H.length).insert({image:M.target.result}),l.default.sources.USER),F.quill.setSelection(H.index+1,l.default.sources.SILENT),U.value=""},z.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(R){A(F,R);function F(U,z){D(this,F);var M=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,U,z));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return i(F,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(M){v.default.match(M,"enter")?(z.save(),M.preventDefault()):v.default.match(M,"escape")&&(z.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,l.default.sources.USER)),this.quill.root.scrollTop=M;break}case"video":z=$(z);case"formula":{if(!z)break;var H=this.quill.getSelection(!0);if(H!=null){var W=H.index+H.length;this.quill.insertEmbed(W,this.root.getAttribute("data-mode"),z,l.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(W+1," ",l.default.sources.USER),this.quill.setSelection(W+2,l.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(I.default);function $(R){var F=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":R}function T(R,F){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(z){var M=document.createElement("option");z===U?M.setAttribute("selected","selected"):M.setAttribute("value",z),R.appendChild(M)})}r.BaseTooltip=B,r.default=Y},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var d,f=this.iterator();d=f();)if(d===s)return!0;return!1},o.prototype.insertBefore=function(s,d){s&&(s.next=d,d!=null?(s.prev=d.prev,d.prev!=null&&(d.prev.next=s),d.prev=s,d===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var d=0,f=this.head;f!=null;){if(f===s)return d;d+=f.length(),f=f.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var d=s;return s!=null&&(s=s.next),d}},o.prototype.find=function(s,d){d===void 0&&(d=!1);for(var f,h=this.iterator();f=h();){var c=f.length();if(s<c||d&&s===c&&(f.next==null||f.next.length()!==0))return[f,s];s-=c}return[null,0]},o.prototype.forEach=function(s){for(var d,f=this.iterator();d=f();)s(d)},o.prototype.forEachAt=function(s,d,f){if(!(d<=0))for(var h=this.find(s),c=h[0],l=h[1],u,v=s-l,p=this.iterator(c);(u=p())&&v<s+d;){var m=u.length();s>v?f(u,s-v,Math.min(d,v+m-s)):f(u,0,Math.min(m,s+d-v)),v+=m}},o.prototype.map=function(s){return this.reduce(function(d,f){return d.push(s(f)),d},[])},o.prototype.reduce=function(s,d){for(var f,h=this.iterator();f=h();)d=s(d,f);return d},o}();r.default=i},function(n,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var v in u)u.hasOwnProperty(v)&&(l[v]=u[v])};return function(l,u){c(l,u);function v(){this.constructor=l}l.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(17),s=a(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,h=function(c){i(l,c);function l(u){var v=c.call(this,u)||this;return v.scroll=v,v.observer=new MutationObserver(function(p){v.update(p)}),v.observer.observe(v.domNode,d),v.attach(),v}return l.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},l.prototype.deleteAt=function(u,v){this.update(),u===0&&v===this.length()?this.children.forEach(function(p){p.remove()}):c.prototype.deleteAt.call(this,u,v)},l.prototype.formatAt=function(u,v,p,m){this.update(),c.prototype.formatAt.call(this,u,v,p,m)},l.prototype.insertAt=function(u,v,p){this.update(),c.prototype.insertAt.call(this,u,v,p)},l.prototype.optimize=function(u,v){var p=this;u===void 0&&(u=[]),v===void 0&&(v={}),c.prototype.optimize.call(this,v);for(var m=[].slice.call(this.observer.takeRecords());m.length>0;)u.push(m.pop());for(var g=function(C,N){N===void 0&&(N=!0),!(C==null||C===p)&&C.domNode.parentNode!=null&&(C.domNode[s.DATA_KEY].mutations==null&&(C.domNode[s.DATA_KEY].mutations=[]),N&&g(C.parent))},b=function(C){C.domNode[s.DATA_KEY]==null||C.domNode[s.DATA_KEY].mutations==null||(C instanceof o.default&&C.children.forEach(b),C.optimize(v))},x=u,y=0;x.length>0;y+=1){if(y>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(C){var N=s.find(C.target,!0);N!=null&&(N.domNode===C.target&&(C.type==="childList"?(g(s.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(O){var I=s.find(O,!1);g(I,!1),I instanceof o.default&&I.children.forEach(function(k){g(k,!1)})})):C.type==="attributes"&&g(N.prev)),g(N))}),this.children.forEach(b),x=[].slice.call(this.observer.takeRecords()),m=x.slice();m.length>0;)u.push(m.pop())}},l.prototype.update=function(u,v){var p=this;v===void 0&&(v={}),u=u||this.observer.takeRecords(),u.map(function(m){var g=s.find(m.target,!0);return g==null?null:g.domNode[s.DATA_KEY].mutations==null?(g.domNode[s.DATA_KEY].mutations=[m],g):(g.domNode[s.DATA_KEY].mutations.push(m),null)}).forEach(function(m){m==null||m===p||m.domNode[s.DATA_KEY]==null||m.update(m.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(u,v)},l.blotName="scroll",l.defaultChild="block",l.scope=s.Scope.BLOCK_BLOT,l.tagName="DIV",l}(o.default);r.default=h},function(n,r,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)l.hasOwnProperty(u)&&(c[u]=l[u])};return function(c,l){h(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),s=a(1);function d(h,c){if(Object.keys(h).length!==Object.keys(c).length)return!1;for(var l in h)if(h[l]!==c[l])return!1;return!0}var f=function(h){i(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(l){if(l.tagName!==c.tagName)return h.formats.call(this,l)},c.prototype.format=function(l,u){var v=this;l===this.statics.blotName&&!u?(this.children.forEach(function(p){p instanceof o.default||(p=p.wrap(c.blotName,!0)),v.attributes.copy(p)}),this.unwrap()):h.prototype.format.call(this,l,u)},c.prototype.formatAt=function(l,u,v,p){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var m=this.isolate(l,u);m.format(v,p)}else h.prototype.formatAt.call(this,l,u,v,p)},c.prototype.optimize=function(l){h.prototype.optimize.call(this,l);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var v=this.next;v instanceof c&&v.prev===this&&d(u,v.formats())&&(v.moveChildren(this),v.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);r.default=f},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),s=a(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(c){var l=s.query(h.blotName).tagName;if(c.tagName!==l)return f.formats.call(this,c)},h.prototype.format=function(c,l){s.query(c,s.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!l?this.replaceWith(h.blotName):f.prototype.format.call(this,c,l))},h.prototype.formatAt=function(c,l,u,v){s.query(u,s.Scope.BLOCK)!=null?this.format(u,v):f.prototype.formatAt.call(this,c,l,u,v)},h.prototype.insertAt=function(c,l,u){if(u==null||s.query(l,s.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,l,u);else{var v=this.split(c),p=s.create(l,u);v.parent.insertBefore(p,v)}},h.prototype.update=function(c,l){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,l)},h.blotName="block",h.scope=s.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);r.default=d},function(n,r,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),s=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){},f.prototype.format=function(h,c){d.prototype.formatAt.call(this,0,this.length(),h,c)},f.prototype.formatAt=function(h,c,l,u){h===0&&c===this.length()?this.format(l,u):d.prototype.formatAt.call(this,h,c,l,u)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);r.default=s},function(n,r,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var l in c)c.hasOwnProperty(l)&&(h[l]=c[l])};return function(h,c){f(h,c);function l(){this.constructor=h}h.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),s=a(1),d=function(f){i(h,f);function h(c){var l=f.call(this,c)||this;return l.text=l.statics.value(l.domNode),l}return h.create=function(c){return document.createTextNode(c)},h.value=function(c){var l=c.data;return l.normalize&&(l=l.normalize()),l},h.prototype.deleteAt=function(c,l){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+l)},h.prototype.index=function(c,l){return this.domNode===c?l:-1},h.prototype.insertAt=function(c,l,u){u==null?(this.text=this.text.slice(0,c)+l+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,l,u)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(c,l){return[this.domNode,c]},h.prototype.split=function(c,l){if(l===void 0&&(l=!1),!l){if(c===0)return this;if(c===this.length())return this.next}var u=s.create(this.domNode.splitText(c));return this.parent.insertBefore(u,this.next),this.text=this.statics.value(this.domNode),u},h.prototype.update=function(c,l){var u=this;c.some(function(v){return v.type==="characterData"&&v.target===u.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=s.Scope.INLINE_BLOT,h}(o.default);r.default=d},function(n,r,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,d){return arguments.length>1&&!this.contains(s)==!d?d:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,d){return d=d||0,this.substr(d,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,d){var f=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>f.length)&&(d=f.length),d-=s.length;var h=f.indexOf(s,d);return h!==-1&&h===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),h=f.length>>>0,c=arguments[1],l,u=0;u<h;u++)if(l=f[u],d.call(c,l,u,f))return l}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var a=-1,i=1,o=0;function s(y,C,N){if(y==C)return y?[[o,y]]:[];(N<0||y.length<N)&&(N=null);var O=c(y,C),I=y.substring(0,O);y=y.substring(O),C=C.substring(O),O=l(y,C);var k=y.substring(y.length-O);y=y.substring(0,y.length-O),C=C.substring(0,C.length-O);var D=d(y,C);return I&&D.unshift([o,I]),k&&D.push([o,k]),v(D),N!=null&&(D=g(D,N)),D=b(D),D}function d(y,C){var N;if(!y)return[[i,C]];if(!C)return[[a,y]];var O=y.length>C.length?y:C,I=y.length>C.length?C:y,k=O.indexOf(I);if(k!=-1)return N=[[i,O.substring(0,k)],[o,I],[i,O.substring(k+I.length)]],y.length>C.length&&(N[0][0]=N[2][0]=a),N;if(I.length==1)return[[a,y],[i,C]];var D=u(y,C);if(D){var S=D[0],A=D[1],P=D[2],_=D[3],L=D[4],q=s(S,P),j=s(A,_);return q.concat([[o,L]],j)}return f(y,C)}function f(y,C){for(var N=y.length,O=C.length,I=Math.ceil((N+O)/2),k=I,D=2*I,S=new Array(D),A=new Array(D),P=0;P<D;P++)S[P]=-1,A[P]=-1;S[k+1]=0,A[k+1]=0;for(var _=N-O,L=_%2!=0,q=0,j=0,Y=0,B=0,$=0;$<I;$++){for(var T=-$+q;T<=$-j;T+=2){var R=k+T,F;T==-$||T!=$&&S[R-1]<S[R+1]?F=S[R+1]:F=S[R-1]+1;for(var U=F-T;F<N&&U<O&&y.charAt(F)==C.charAt(U);)F++,U++;if(S[R]=F,F>N)j+=2;else if(U>O)q+=2;else if(L){var z=k+_-T;if(z>=0&&z<D&&A[z]!=-1){var M=N-A[z];if(F>=M)return h(y,C,F,U)}}}for(var H=-$+Y;H<=$-B;H+=2){var z=k+H,M;H==-$||H!=$&&A[z-1]<A[z+1]?M=A[z+1]:M=A[z-1]+1;for(var W=M-H;M<N&&W<O&&y.charAt(N-M-1)==C.charAt(O-W-1);)M++,W++;if(A[z]=M,M>N)B+=2;else if(W>O)Y+=2;else if(!L){var R=k+_-H;if(R>=0&&R<D&&S[R]!=-1){var F=S[R],U=k+F-R;if(M=N-M,F>=M)return h(y,C,F,U)}}}}return[[a,y],[i,C]]}function h(y,C,N,O){var I=y.substring(0,N),k=C.substring(0,O),D=y.substring(N),S=C.substring(O),A=s(I,k),P=s(D,S);return A.concat(P)}function c(y,C){if(!y||!C||y.charAt(0)!=C.charAt(0))return 0;for(var N=0,O=Math.min(y.length,C.length),I=O,k=0;N<I;)y.substring(k,I)==C.substring(k,I)?(N=I,k=N):O=I,I=Math.floor((O-N)/2+N);return I}function l(y,C){if(!y||!C||y.charAt(y.length-1)!=C.charAt(C.length-1))return 0;for(var N=0,O=Math.min(y.length,C.length),I=O,k=0;N<I;)y.substring(y.length-I,y.length-k)==C.substring(C.length-I,C.length-k)?(N=I,k=N):O=I,I=Math.floor((O-N)/2+N);return I}function u(y,C){var N=y.length>C.length?y:C,O=y.length>C.length?C:y;if(N.length<4||O.length*2<N.length)return null;function I(j,Y,B){for(var $=j.substring(B,B+Math.floor(j.length/4)),T=-1,R="",F,U,z,M;(T=Y.indexOf($,T+1))!=-1;){var H=c(j.substring(B),Y.substring(T)),W=l(j.substring(0,B),Y.substring(0,T));R.length<W+H&&(R=Y.substring(T-W,T)+Y.substring(T,T+H),F=j.substring(0,B-W),U=j.substring(B+H),z=Y.substring(0,T-W),M=Y.substring(T+H))}return R.length*2>=j.length?[F,U,z,M,R]:null}var k=I(N,O,Math.ceil(N.length/4)),D=I(N,O,Math.ceil(N.length/2)),S;if(!k&&!D)return null;D?k?S=k[4].length>D[4].length?k:D:S=D:S=k;var A,P,_,L;y.length>C.length?(A=S[0],P=S[1],_=S[2],L=S[3]):(_=S[0],L=S[1],A=S[2],P=S[3]);var q=S[4];return[A,P,_,L,q]}function v(y){y.push([o,""]);for(var C=0,N=0,O=0,I="",k="",D;C<y.length;)switch(y[C][0]){case i:O++,k+=y[C][1],C++;break;case a:N++,I+=y[C][1],C++;break;case o:N+O>1?(N!==0&&O!==0&&(D=c(k,I),D!==0&&(C-N-O>0&&y[C-N-O-1][0]==o?y[C-N-O-1][1]+=k.substring(0,D):(y.splice(0,0,[o,k.substring(0,D)]),C++),k=k.substring(D),I=I.substring(D)),D=l(k,I),D!==0&&(y[C][1]=k.substring(k.length-D)+y[C][1],k=k.substring(0,k.length-D),I=I.substring(0,I.length-D))),N===0?y.splice(C-O,N+O,[i,k]):O===0?y.splice(C-N,N+O,[a,I]):y.splice(C-N-O,N+O,[a,I],[i,k]),C=C-N-O+(N?1:0)+(O?1:0)+1):C!==0&&y[C-1][0]==o?(y[C-1][1]+=y[C][1],y.splice(C,1)):C++,O=0,N=0,I="",k="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(C=1;C<y.length-1;)y[C-1][0]==o&&y[C+1][0]==o&&(y[C][1].substring(y[C][1].length-y[C-1][1].length)==y[C-1][1]?(y[C][1]=y[C-1][1]+y[C][1].substring(0,y[C][1].length-y[C-1][1].length),y[C+1][1]=y[C-1][1]+y[C+1][1],y.splice(C-1,1),S=!0):y[C][1].substring(0,y[C+1][1].length)==y[C+1][1]&&(y[C-1][1]+=y[C+1][1],y[C][1]=y[C][1].substring(y[C+1][1].length)+y[C+1][1],y.splice(C+1,1),S=!0)),C++;S&&v(y)}var p=s;p.INSERT=i,p.DELETE=a,p.EQUAL=o,n.exports=p;function m(y,C){if(C===0)return[o,y];for(var N=0,O=0;O<y.length;O++){var I=y[O];if(I[0]===a||I[0]===o){var k=N+I[1].length;if(C===k)return[O+1,y];if(C<k){y=y.slice();var D=C-N,S=[I[0],I[1].slice(0,D)],A=[I[0],I[1].slice(D)];return y.splice(O,1,S,A),[O+1,y]}else N=k}}throw new Error("cursor_pos is out of bounds!")}function g(y,C){var N=m(y,C),O=N[1],I=N[0],k=O[I],D=O[I+1];if(k==null)return y;if(k[0]!==o)return y;if(D!=null&&k[1]+D[1]===D[1]+k[1])return O.splice(I,2,D,k),x(O,I,2);if(D!=null&&D[1].indexOf(k[1])===0){O.splice(I,2,[D[0],k[1]],[0,k[1]]);var S=D[1].slice(k[1].length);return S.length>0&&O.splice(I+2,0,[D[0],S]),x(O,I,3)}else return y}function b(y){for(var C=!1,N=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},O=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},I=2;I<y.length;I+=1)y[I-2][0]===o&&O(y[I-2][1])&&y[I-1][0]===a&&N(y[I-1][1])&&y[I][0]===i&&N(y[I][1])&&(C=!0,y[I-1][1]=y[I-2][1].slice(-1)+y[I-1][1],y[I][1]=y[I-2][1].slice(-1)+y[I][1],y[I-2][1]=y[I-2][1].slice(0,-1));if(!C)return y;for(var k=[],I=0;I<y.length;I+=1)y[I][1].length>0&&k.push(y[I]);return k}function x(y,C,N){for(var O=C+N-1;O>=0&&O>=C-1;O--)if(O+1<y.length){var I=y[O],k=y[O+1];I[0]===k[1]&&y.splice(O,2,[I[0],I[1]+k[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(i){var o=[];for(var s in i)o.push(s);return o}},function(n,r){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=a?i:o,r.supported=i;function i(s){return Object.prototype.toString.call(s)=="[object Arguments]"}r.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(n,r){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function s(f,h,c){this.fn=f,this.context=h,this.once=c||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],c,l;if(this._eventsCount===0)return h;for(l in c=this._events)a.call(c,l)&&h.push(i?l.slice(1):l);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},d.prototype.listeners=function(h,c){var l=i?i+h:h,u=this._events[l];if(c)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var v=0,p=u.length,m=new Array(p);v<p;v++)m[v]=u[v].fn;return m},d.prototype.emit=function(h,c,l,u,v,p){var m=i?i+h:h;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,x,y;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,l),!0;case 4:return g.fn.call(g.context,c,l,u),!0;case 5:return g.fn.call(g.context,c,l,u,v),!0;case 6:return g.fn.call(g.context,c,l,u,v,p),!0}for(y=1,x=new Array(b-1);y<b;y++)x[y-1]=arguments[y];g.fn.apply(g.context,x)}else{var C=g.length,N;for(y=0;y<C;y++)switch(g[y].once&&this.removeListener(h,g[y].fn,void 0,!0),b){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,l);break;case 4:g[y].fn.call(g[y].context,c,l,u);break;default:if(!x)for(N=1,x=new Array(b-1);N<b;N++)x[N-1]=arguments[N];g[y].fn.apply(g[y].context,x)}}return!0},d.prototype.on=function(h,c,l){var u=new s(c,l||this),v=i?i+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],u]:this._events[v].push(u):(this._events[v]=u,this._eventsCount++),this},d.prototype.once=function(h,c,l){var u=new s(c,l||this,!0),v=i?i+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],u]:this._events[v].push(u):(this._events[v]=u,this._eventsCount++),this},d.prototype.removeListener=function(h,c,l,u){var v=i?i+h:h;if(!this._events[v])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var p=this._events[v];if(p.fn)p.fn===c&&(!u||p.once)&&(!l||p.context===l)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var m=0,g=[],b=p.length;m<b;m++)(p[m].fn!==c||u&&!p[m].once||l&&p[m].context!==l)&&g.push(p[m]);g.length?this._events[v]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},d.prototype.removeAllListeners=function(h){var c;return h?(c=i?i+h:h,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=i,d.EventEmitter=d,typeof n<"u"&&(n.exports=d)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){function K(X,ne){var ie=[],J=!0,ue=!1,le=void 0;try{for(var ve=X[Symbol.iterator](),ke;!(J=(ke=ve.next()).done)&&(ie.push(ke.value),!(ne&&ie.length===ne));J=!0);}catch(_e){ue=!0,le=_e}finally{try{!J&&ve.return&&ve.return()}finally{if(ue)throw le}}return ie}return function(X,ne){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return K(X,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function K(X,ne){for(var ie=0;ie<ne.length;ie++){var J=ne[ie];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(X,J.key,J)}}return function(X,ne,ie){return ne&&K(X.prototype,ne),ie&&K(X,ie),X}}(),d=a(3),f=A(d),h=a(2),c=A(h),l=a(0),u=A(l),v=a(5),p=A(v),m=a(10),g=A(m),b=a(9),x=A(b),y=a(36),C=a(37),N=a(13),O=A(N),I=a(26),k=a(38),D=a(39),S=a(40);function A(K){return K&&K.__esModule?K:{default:K}}function P(K,X,ne){return X in K?Object.defineProperty(K,X,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[X]=ne,K}function _(K,X){if(!(K instanceof X))throw new TypeError("Cannot call a class as a function")}function L(K,X){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:K}function q(K,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);K.prototype=Object.create(X&&X.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(K,X):K.__proto__=X)}var j=(0,g.default)("quill:clipboard"),Y="__ql-matcher",B=[[Node.TEXT_NODE,he],[Node.TEXT_NODE,ee],["br",te],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,fe],["li",ae],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",Q]],$=[y.AlignAttribute,k.DirectionAttribute].reduce(function(K,X){return K[X.keyName]=X,K},{}),T=[y.AlignStyle,C.BackgroundStyle,I.ColorStyle,k.DirectionStyle,D.FontStyle,S.SizeStyle].reduce(function(K,X){return K[X.keyName]=X,K},{}),R=function(K){q(X,K);function X(ne,ie){_(this,X);var J=L(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ne,ie));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],B.concat(J.options.matchers).forEach(function(ue){var le=o(ue,2),ve=le[0],ke=le[1];!ie.matchVisual&&ke===re||J.addMatcher(ve,ke)}),J}return s(X,[{key:"addMatcher",value:function(ie,J){this.matchers.push([ie,J])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[O.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",new c.default().insert(ue,P({},O.default.blotName,J[O.default.blotName]))}var le=this.prepareMatching(),ve=o(le,2),ke=ve[0],_e=ve[1],Se=H(this.container,ke,_e);return z(Se,`
`)&&Se.ops[Se.ops.length-1].attributes==null&&(Se=Se.compose(new c.default().retain(Se.length()-1).delete(1))),j.log("convert",this.container.innerHTML,Se),this.container.innerHTML="",Se}},{key:"dangerouslyPasteHTML",value:function(ie,J){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),J),this.quill.setSelection(0,p.default.sources.SILENT);else{var le=this.convert(J);this.quill.updateContents(new c.default().retain(ie).concat(le),ue),this.quill.setSelection(ie+le.length(),p.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var J=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var ue=this.quill.getSelection(),le=new c.default().retain(ue.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(p.default.sources.SILENT),setTimeout(function(){le=le.concat(J.convert()).delete(ue.length),J.quill.updateContents(le,p.default.sources.USER),J.quill.setSelection(le.length()-ue.length,p.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=ve,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,J=[],ue=[];return this.matchers.forEach(function(le){var ve=o(le,2),ke=ve[0],_e=ve[1];switch(ke){case Node.TEXT_NODE:ue.push(_e);break;case Node.ELEMENT_NODE:J.push(_e);break;default:[].forEach.call(ie.container.querySelectorAll(ke),function(Se){Se[Y]=Se[Y]||[],Se[Y].push(_e)});break}}),[J,ue]}}]),X}(x.default);R.DEFAULTS={matchers:[],matchVisual:!0};function F(K,X,ne){return(typeof X>"u"?"undefined":i(X))==="object"?Object.keys(X).reduce(function(ie,J){return F(ie,J,X[J])},K):K.reduce(function(ie,J){return J.attributes&&J.attributes[X]?ie.push(J):ie.insert(J.insert,(0,f.default)({},P({},X,ne),J.attributes))},new c.default)}function U(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var X="__ql-computed-style";return K[X]||(K[X]=window.getComputedStyle(K))}function z(K,X){for(var ne="",ie=K.ops.length-1;ie>=0&&ne.length<X.length;--ie){var J=K.ops[ie];if(typeof J.insert!="string")break;ne=J.insert+ne}return ne.slice(-1*X.length)===X}function M(K){if(K.childNodes.length===0)return!1;var X=U(K);return["block","list-item"].indexOf(X.display)>-1}function H(K,X,ne){return K.nodeType===K.TEXT_NODE?ne.reduce(function(ie,J){return J(K,ie)},new c.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(ie,J){var ue=H(J,X,ne);return J.nodeType===K.ELEMENT_NODE&&(ue=X.reduce(function(le,ve){return ve(J,le)},ue),ue=(J[Y]||[]).reduce(function(le,ve){return ve(J,le)},ue)),ie.concat(ue)},new c.default):new c.default}function W(K,X,ne){return F(ne,K,!0)}function V(K,X){var ne=u.default.Attributor.Attribute.keys(K),ie=u.default.Attributor.Class.keys(K),J=u.default.Attributor.Style.keys(K),ue={};return ne.concat(ie).concat(J).forEach(function(le){var ve=u.default.query(le,u.default.Scope.ATTRIBUTE);ve!=null&&(ue[ve.attrName]=ve.value(K),ue[ve.attrName])||(ve=$[le],ve!=null&&(ve.attrName===le||ve.keyName===le)&&(ue[ve.attrName]=ve.value(K)||void 0),ve=T[le],ve!=null&&(ve.attrName===le||ve.keyName===le)&&(ve=T[le],ue[ve.attrName]=ve.value(K)||void 0))}),Object.keys(ue).length>0&&(X=F(X,ue)),X}function G(K,X){var ne=u.default.query(K);if(ne==null)return X;if(ne.prototype instanceof u.default.Embed){var ie={},J=ne.value(K);J!=null&&(ie[ne.blotName]=J,X=new c.default().insert(ie,ne.formats(K)))}else typeof ne.formats=="function"&&(X=F(X,ne.blotName,ne.formats(K)));return X}function te(K,X){return z(X,`
`)||X.insert(`
`),X}function Q(){return new c.default}function ae(K,X){var ne=u.default.query(K);if(ne==null||ne.blotName!=="list-item"||!z(X,`
`))return X;for(var ie=-1,J=K.parentNode;!J.classList.contains("ql-clipboard");)(u.default.query(J)||{}).blotName==="list"&&(ie+=1),J=J.parentNode;return ie<=0?X:X.compose(new c.default().retain(X.length()-1).retain(1,{indent:ie}))}function ee(K,X){return z(X,`
`)||(M(K)||X.length()>0&&K.nextSibling&&M(K.nextSibling))&&X.insert(`
`),X}function re(K,X){if(M(K)&&K.nextElementSibling!=null&&!z(X,`

`)){var ne=K.offsetHeight+parseFloat(U(K).marginTop)+parseFloat(U(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+ne*1.5&&X.insert(`
`)}return X}function fe(K,X){var ne={},ie=K.style||{};return ie.fontStyle&&U(K).fontStyle==="italic"&&(ne.italic=!0),ie.fontWeight&&(U(K).fontWeight.startsWith("bold")||parseInt(U(K).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(X=F(X,ne)),parseFloat(ie.textIndent||0)>0&&(X=new c.default().insert("	").concat(X)),X}function he(K,X){var ne=K.data;if(K.parentNode.tagName==="O:P")return X.insert(ne.trim());if(ne.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return X;if(!U(K.parentNode).whiteSpace.startsWith("pre")){var ie=function(ue,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&ue?" ":le};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,ie.bind(ie,!0)),(K.previousSibling==null&&M(K.parentNode)||K.previousSibling!=null&&M(K.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(K.nextSibling==null&&M(K.parentNode)||K.nextSibling!=null&&M(K.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return X.insert(ne)}r.default=R,r.matchAttributor=V,r.matchBlot=G,r.matchNewline=ee,r.matchSpacing=re,r.matchText=he},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(p,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,m,g){return m&&v(p.prototype,m),g&&v(p,g),p}}(),o=function v(p,m,g){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,m);if(b===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(6),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(){return h(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"optimize",value:function(g){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),p}(d.default);u.blotName="bold",u.tagName=["STRONG","B"],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function S(A,P){var _=[],L=!0,q=!1,j=void 0;try{for(var Y=A[Symbol.iterator](),B;!(L=(B=Y.next()).done)&&(_.push(B.value),!(P&&_.length===P));L=!0);}catch($){q=!0,j=$}finally{try{!L&&Y.return&&Y.return()}finally{if(q)throw j}}return _}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return S(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(A,P){for(var _=0;_<P.length;_++){var L=P[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,_){return P&&S(A.prototype,P),_&&S(A,_),A}}(),s=a(2),d=g(s),f=a(0),h=g(f),c=a(5),l=g(c),u=a(10),v=g(u),p=a(9),m=g(p);function g(S){return S&&S.__esModule?S:{default:S}}function b(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}function x(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function y(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function C(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var N=(0,v.default)("quill:toolbar"),O=function(S){C(A,S);function A(P,_){x(this,A);var L=y(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,_));if(Array.isArray(L.options.container)){var q=document.createElement("div");k(q,L.options.container),P.container.parentNode.insertBefore(q,P.container),L.container=q}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var j;return j=N.error("Container required for toolbar",L.options),y(L,j)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(Y){L.addHandler(Y,L.options.handlers[Y])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(Y){L.attach(Y)}),L.quill.on(l.default.events.EDITOR_CHANGE,function(Y,B){Y===l.default.events.SELECTION_CHANGE&&L.update(B)}),L.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var Y=L.quill.selection.getRange(),B=i(Y,1),$=B[0];L.update($)}),L}return o(A,[{key:"addHandler",value:function(_,L){this.handlers[_]=L}},{key:"attach",value:function(_){var L=this,q=[].find.call(_.classList,function(Y){return Y.indexOf("ql-")===0});if(q){if(q=q.slice(3),_.tagName==="BUTTON"&&_.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){N.warn("ignoring attaching to disabled format",q,_);return}if(h.default.query(q)==null){N.warn("ignoring attaching to nonexistent format",q,_);return}}var j=_.tagName==="SELECT"?"change":"click";_.addEventListener(j,function(Y){var B=void 0;if(_.tagName==="SELECT"){if(_.selectedIndex<0)return;var $=_.options[_.selectedIndex];$.hasAttribute("selected")?B=!1:B=$.value||!1}else _.classList.contains("ql-active")?B=!1:B=_.value||!_.hasAttribute("value"),Y.preventDefault();L.quill.focus();var T=L.quill.selection.getRange(),R=i(T,1),F=R[0];if(L.handlers[q]!=null)L.handlers[q].call(L,B);else if(h.default.query(q).prototype instanceof h.default.Embed){if(B=prompt("Enter "+q),!B)return;L.quill.updateContents(new d.default().retain(F.index).delete(F.length).insert(b({},q,B)),l.default.sources.USER)}else L.quill.format(q,B,l.default.sources.USER);L.update(F)}),this.controls.push([q,_])}}},{key:"update",value:function(_){var L=_==null?{}:this.quill.getFormat(_);this.controls.forEach(function(q){var j=i(q,2),Y=j[0],B=j[1];if(B.tagName==="SELECT"){var $=void 0;if(_==null)$=null;else if(L[Y]==null)$=B.querySelector("option[selected]");else if(!Array.isArray(L[Y])){var T=L[Y];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),$=B.querySelector('option[value="'+T+'"]')}$==null?(B.value="",B.selectedIndex=-1):$.selected=!0}else if(_==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var R=L[Y]===B.getAttribute("value")||L[Y]!=null&&L[Y].toString()===B.getAttribute("value")||L[Y]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",R)}else B.classList.toggle("ql-active",L[Y]!=null)})}}]),A}(m.default);O.DEFAULTS={};function I(S,A,P){var _=document.createElement("button");_.setAttribute("type","button"),_.classList.add("ql-"+A),P!=null&&(_.value=P),S.appendChild(_)}function k(S,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(P){var _=document.createElement("span");_.classList.add("ql-formats"),P.forEach(function(L){if(typeof L=="string")I(_,L);else{var q=Object.keys(L)[0],j=L[q];Array.isArray(j)?D(_,q,j):I(_,q,j)}}),S.appendChild(_)})}function D(S,A,P){var _=document.createElement("select");_.classList.add("ql-"+A),P.forEach(function(L){var q=document.createElement("option");L!==!1?q.setAttribute("value",L):q.setAttribute("selected","selected"),_.appendChild(q)}),S.appendChild(_)}O.DEFAULTS={container:null,handlers:{clean:function(){var A=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var _=this.quill.getFormat();Object.keys(_).forEach(function(L){h.default.query(L,h.default.Scope.INLINE)!=null&&A.quill.format(L,!1)})}else this.quill.removeFormat(P,l.default.sources.USER)},direction:function(A){var P=this.quill.getFormat().align;A==="rtl"&&P==null?this.quill.format("align","right",l.default.sources.USER):!A&&P==="right"&&this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",A,l.default.sources.USER)},indent:function(A){var P=this.quill.getSelection(),_=this.quill.getFormat(P),L=parseInt(_.indent||0);if(A==="+1"||A==="-1"){var q=A==="+1"?1:-1;_.direction==="rtl"&&(q*=-1),this.quill.format("indent",L+q,l.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,l.default.sources.USER)},list:function(A){var P=this.quill.getSelection(),_=this.quill.getFormat(P);A==="check"?_.list==="checked"||_.list==="unchecked"?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",A,l.default.sources.USER)}}},r.default=O,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(p,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,m,g){return m&&v(p.prototype,m),g&&v(p,g),p}}(),o=function v(p,m,g){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,m);if(b===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(28),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(m,g){h(this,p);var b=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m));return b.label.innerHTML=g,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),b}return i(p,[{key:"buildItem",value:function(g){var b=o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildItem",this).call(this,g);return b.style.backgroundColor=g.getAttribute("value")||"",b}},{key:"selectItem",value:function(g,b){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,g,b);var x=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=y:x.style.fill=y)}}]),p}(d.default);r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(p,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,m,g){return m&&v(p.prototype,m),g&&v(p,g),p}}(),o=function v(p,m,g){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,m);if(b===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(28),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(m,g){h(this,p);var b=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=g[x.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return i(p,[{key:"selectItem",value:function(g,b){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,g,b),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),p}(d.default);r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function d(f,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}return function(f,h,c){return h&&d(f.prototype,h),c&&d(f,c),f}}();function o(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function d(f,h){var c=this;o(this,d),this.quill=f,this.boundsContainer=h||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return i(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var c=h.left+h.width/2-this.root.offsetWidth/2,l=h.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=l+"px",this.root.classList.remove("ql-flip");var u=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),p=0;if(v.right>u.right&&(p=u.right-v.right,this.root.style.left=c+p+"px"),v.left<u.left&&(p=u.left-v.left,this.root.style.left=c+p+"px"),v.bottom>u.bottom){var m=v.bottom-v.top,g=h.bottom-h.top+m;this.root.style.top=l-g+"px",this.root.classList.add("ql-flip")}return p}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();r.default=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function D(S,A){var P=[],_=!0,L=!1,q=void 0;try{for(var j=S[Symbol.iterator](),Y;!(_=(Y=j.next()).done)&&(P.push(Y.value),!(A&&P.length===A));_=!0);}catch(B){L=!0,q=B}finally{try{!_&&j.return&&j.return()}finally{if(L)throw q}}return P}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return D(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function D(S,A,P){S===null&&(S=Function.prototype);var _=Object.getOwnPropertyDescriptor(S,A);if(_===void 0){var L=Object.getPrototypeOf(S);return L===null?void 0:D(L,A,P)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(P)}},s=function(){function D(S,A){for(var P=0;P<A.length;P++){var _=A[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,A,P){return A&&D(S.prototype,A),P&&D(S,P),S}}(),d=a(3),f=x(d),h=a(8),c=x(h),l=a(43),u=x(l),v=a(27),p=x(v),m=a(15),g=a(41),b=x(g);function x(D){return D&&D.__esModule?D:{default:D}}function y(D,S){if(!(D instanceof S))throw new TypeError("Cannot call a class as a function")}function C(D,S){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:D}function N(D,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);D.prototype=Object.create(S&&S.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(D,S):D.__proto__=S)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(D){N(S,D);function S(A,P){y(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=O);var _=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,P));return _.quill.container.classList.add("ql-snow"),_}return s(S,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),b.default),this.tooltip=new k(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(_,L){P.handlers.link.call(P,!L.format.link)})}}]),S}(u.default);I.DEFAULTS=(0,f.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var A=this.quill.getSelection();if(A==null||A.length==0)return;var P=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var _=this.quill.theme.tooltip;_.edit("link",P)}else this.quill.format("link",!1)}}}}});var k=function(D){N(S,D);function S(A,P){y(this,S);var _=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,P));return _.preview=_.root.querySelector("a.ql-preview"),_}return s(S,[{key:"listen",value:function(){var P=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(_){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),_.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(_){if(P.linkRange!=null){var L=P.linkRange;P.restoreFocus(),P.quill.formatText(L,"link",!1,c.default.sources.USER),delete P.linkRange}_.preventDefault(),P.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(_,L,q){if(_!=null){if(_.length===0&&q===c.default.sources.USER){var j=P.quill.scroll.descendant(p.default,_.index),Y=i(j,2),B=Y[0],$=Y[1];if(B!=null){P.linkRange=new m.Range(_.index-$,B.length());var T=p.default.formats(B.domNode);P.preview.textContent=T,P.preview.setAttribute("href",T),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(l.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(29),o=J(i),s=a(36),d=a(38),f=a(64),h=a(65),c=J(h),l=a(66),u=J(l),v=a(67),p=J(v),m=a(37),g=a(26),b=a(39),x=a(40),y=a(56),C=J(y),N=a(68),O=J(N),I=a(27),k=J(I),D=a(69),S=J(D),A=a(70),P=J(A),_=a(71),L=J(_),q=a(72),j=J(q),Y=a(73),B=J(Y),$=a(13),T=J($),R=a(74),F=J(R),U=a(75),z=J(U),M=a(57),H=J(M),W=a(41),V=J(W),G=a(28),te=J(G),Q=a(59),ae=J(Q),ee=a(60),re=J(ee),fe=a(61),he=J(fe),K=a(108),X=J(K),ne=a(62),ie=J(ne);function J(ue){return ue&&ue.__esModule?ue:{default:ue}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":x.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":f.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":b.FontClass,"formats/size":x.SizeClass,"formats/blockquote":c.default,"formats/code-block":T.default,"formats/header":u.default,"formats/list":p.default,"formats/bold":C.default,"formats/code":$.Code,"formats/italic":O.default,"formats/link":k.default,"formats/script":S.default,"formats/strike":P.default,"formats/underline":L.default,"formats/image":j.default,"formats/video":B.default,"formats/list/item":v.ListItem,"modules/formula":F.default,"modules/syntax":z.default,"modules/toolbar":H.default,"themes/bubble":X.default,"themes/snow":ie.default,"ui/icons":V.default,"ui/picker":te.default,"ui/icon-picker":re.default,"ui/color-picker":ae.default,"ui/tooltip":he.default},!0),r.default=o.default},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function p(m,g){for(var b=0;b<g.length;b++){var x=g[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,g,b){return g&&p(m.prototype,g),b&&p(m,b),m}}(),o=function p(m,g,b){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,g);if(x===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:p(y,g,b)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(b)}},s=a(0),d=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function l(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var u=function(p){l(m,p);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"add",value:function(b,x){if(x==="+1"||x==="-1"){var y=this.value(b)||0;x=x==="+1"?y+1:y-1}return x===0?(this.remove(b),!0):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"add",this).call(this,b,x)}},{key:"canAdd",value:function(b,x){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,b,x)||o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,b,parseInt(x))}},{key:"value",value:function(b){return parseInt(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b))||void 0}}]),m}(d.default.Attributor.Class),v=new u("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(4),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(v,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,p,m){return p&&u(v.prototype,p),m&&u(v,m),v}}(),o=a(4),s=d(o);function d(u){return u&&u.__esModule?u:{default:u}}function f(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}function h(u,v){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:u}function c(u,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);u.prototype=Object.create(v&&v.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(u,v):u.__proto__=v)}var l=function(u){c(v,u);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"formats",value:function(m){return this.tagName.indexOf(m.tagName)+1}}]),v}(s.default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],r.default=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function y(C,N){for(var O=0;O<N.length;O++){var I=N[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,N,O){return N&&y(C.prototype,N),O&&y(C,O),C}}(),o=function y(C,N,O){C===null&&(C=Function.prototype);var I=Object.getOwnPropertyDescriptor(C,N);if(I===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:y(k,N,O)}else{if("value"in I)return I.value;var D=I.get;return D===void 0?void 0:D.call(O)}},s=a(0),d=u(s),f=a(4),h=u(f),c=a(25),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function v(y,C,N){return C in y?Object.defineProperty(y,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):y[C]=N,y}function p(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function m(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:y}function g(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}var b=function(y){g(C,y);function C(){return p(this,C),m(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"format",value:function(O,I){O===x.blotName&&!I?this.replaceWith(d.default.create(this.statics.scope)):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,O,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,I){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,I),this):(this.parent.unwrap(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,O,I))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:o(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,O)}}]),C}(h.default);b.blotName="list-item",b.tagName="LI";var x=function(y){g(C,y),i(C,null,[{key:"create",value:function(O){var I=O==="ordered"?"OL":"UL",k=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,I);return(O==="checked"||O==="unchecked")&&k.setAttribute("data-checked",O==="checked"),k}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(N){p(this,C);var O=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,N)),I=function(D){if(D.target.parentNode===N){var S=O.statics.formats(N),A=d.default.find(D.target);S==="checked"?A.format("list","unchecked"):S==="unchecked"&&A.format("list","checked")}};return N.addEventListener("touchstart",I),N.addEventListener("mousedown",I),O}return i(C,[{key:"format",value:function(O,I){this.children.length>0&&this.children.tail.format(O,I)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,I){if(O instanceof b)o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,O,I);else{var k=I==null?this.length():I.offset(this),D=this.split(k);D.parent.insertBefore(O,D)}}},{key:"optimize",value:function(O){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var I=d.default.create(this.statics.defaultChild);O.moveChildren(I),this.appendChild(I)}o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,O)}}]),C}(l.default);x.blotName="list",x.scope=d.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[b],r.ListItem=b,r.default=x},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(56),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(p,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,m,g){return m&&v(p.prototype,m),g&&v(p,g),p}}(),o=function v(p,m,g){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,m);if(b===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:v(x,m,g)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(g)}},s=a(6),d=f(s);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var u=function(v){l(p,v);function p(){return h(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),p}(d.default);u.blotName="script",u.tagName=["SUB","SUP"],r.default=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function f(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function h(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var c=function(l){h(u,l);function u(){return d(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=a(0),d=h(s),f=a(27);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function u(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var v=["alt","height","width"],p=function(m){u(g,m);function g(){return c(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(x,y){v.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return v.reduce(function(y,C){return x.hasAttribute(C)&&(y[C]=x.getAttribute(C)),y},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,f.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(d.default.Embed);p.blotName="image",p.tagName="IMG",r.default=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,b){for(var x=0;x<b.length;x++){var y=b[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,b,x){return b&&m(g.prototype,b),x&&m(g,x),g}}(),o=function m(g,b,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,b);if(y===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,b,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=a(4),d=a(27),f=h(d);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function u(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var v=["height","width"],p=function(m){u(g,m);function g(){return c(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(x,y){v.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return v.reduce(function(y,C){return x.hasAttribute(C)&&(y[C]=x.getAttribute(C)),y},{})}},{key:"sanitize",value:function(x){return f.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(s.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",r.default=p},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function x(y,C){for(var N=0;N<C.length;N++){var O=C[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,C,N){return C&&x(y.prototype,C),N&&x(y,N),y}}(),o=function x(y,C,N){y===null&&(y=Function.prototype);var O=Object.getOwnPropertyDescriptor(y,C);if(O===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:x(I,C,N)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(N)}},s=a(35),d=u(s),f=a(5),h=u(f),c=a(9),l=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function v(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function p(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var g=function(x){m(y,x);function y(){return v(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(N){var O=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",N)),O}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),y}(d.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var b=function(x){m(y,x),i(y,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function y(){v(this,y);var C=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return y}(l.default);r.FormulaBlot=g,r.default=b},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function N(O,I){for(var k=0;k<I.length;k++){var D=I[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}return function(O,I,k){return I&&N(O.prototype,I),k&&N(O,k),O}}(),o=function N(O,I,k){O===null&&(O=Function.prototype);var D=Object.getOwnPropertyDescriptor(O,I);if(D===void 0){var S=Object.getPrototypeOf(O);return S===null?void 0:N(S,I,k)}else{if("value"in D)return D.value;var A=D.get;return A===void 0?void 0:A.call(k)}},s=a(0),d=p(s),f=a(5),h=p(f),c=a(9),l=p(c),u=a(13),v=p(u);function p(N){return N&&N.__esModule?N:{default:N}}function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function g(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function b(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var x=function(N){b(O,N);function O(){return m(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),O}(v.default);x.className="ql-syntax";var y=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),C=function(N){b(O,N),i(O,null,[{key:"register",value:function(){h.default.register(y,!0),h.default.register(x,!0)}}]);function O(I,k){m(this,O);var D=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return D.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){D.highlight(),S=null},D.options.interval)}),D.highlight(),D}return i(O,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(S){S.highlight(k.options.highlight)}),this.quill.update(h.default.sources.SILENT),D!=null&&this.quill.setSelection(D,h.default.sources.SILENT)}}}]),O}(l.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var O=window.hljs.highlightAuto(N);return O.value}}(),interval:1e3},r.CodeBlock=x,r.CodeToken=y,r.default=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function O(I,k,D){I===null&&(I=Function.prototype);var S=Object.getOwnPropertyDescriptor(I,k);if(S===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:O(A,k,D)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(D)}},o=function(){function O(I,k){for(var D=0;D<k.length;D++){var S=k[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,k,D){return k&&O(I.prototype,k),D&&O(I,D),I}}(),s=a(3),d=m(s),f=a(8),h=m(f),c=a(43),l=m(c),u=a(15),v=a(41),p=m(v);function m(O){return O&&O.__esModule?O:{default:O}}function g(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function b(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function x(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(O){x(I,O);function I(k,D){g(this,I),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=y);var S=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,D));return S.quill.container.classList.add("ql-bubble"),S}return o(I,[{key:"extendToolbar",value:function(D){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),p.default)}}]),I}(l.default);C.DEFAULTS=(0,d.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(O){x(I,O);function I(k,D){g(this,I);var S=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,D));return S.quill.on(h.default.events.EDITOR_CHANGE,function(A,P,_,L){if(A===h.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&L===h.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var q=S.quill.getLines(P.index,P.length);if(q.length===1)S.position(S.quill.getBounds(P));else{var j=q[q.length-1],Y=S.quill.getIndex(j),B=Math.min(j.length()-1,P.index+P.length-Y),$=S.quill.getBounds(new u.Range(Y,B));S.position($)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return o(I,[{key:"listen",value:function(){var D=this;i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var S=D.quill.getSelection();S!=null&&D.position(D.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var S=i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,D),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",S===0)return S;A.style.marginLeft=-1*S-A.offsetWidth/2+"px"}}]),I}(c.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=C},function(n,r,a){n.exports=a(63)}]).default})})(cc);var Hx=cc.exports,zx=Xe&&Xe.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=Xe&&Xe.__assign||function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Hr.apply(this,arguments)},Ux=Xe&&Xe.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},sa=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Dt=sa(E),Vx=sa(Ll),Bn=sa(jx),Wo=sa(Hx),Wx=function(e){zx(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,o,s,d){var f,h,c,l;i==="text-change"?(h=(f=r).onEditorChangeText)===null||h===void 0||h.call(f,r.editor.root.innerHTML,o,d,r.unprivilegedEditor):i==="selection-change"&&((l=(c=r).onEditorChangeSelection)===null||l===void 0||l.call(c,o,d,r.unprivilegedEditor))};var a=r.isControlled()?n.value:n.defaultValue;return r.value=a??"",r}return t.prototype.validateProps=function(n){var r;if(Dt.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Dt.default.Children.count(n.children)){var a=Dt.default.Children.only(n.children);if(((r=a)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var a=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),s=(i=n.value,i??"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),Ux(this.cleanProps,this.dirtyProps).some(function(d){return!Bn.default(n[d],a.props[d])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(a){return!Bn.default(n[a],r.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var a=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var s=this.regenerationSnapshot,i=s.delta,d=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(i),Go(function(){return a.setEditorSelection(f,d)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var a=new Wo.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(a,r.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Bn.default(n.ops,r.ops):Bn.default(n,r)},t.prototype.setEditorContents=function(n,r){var a=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Go(function(){return a.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var a=n.getLength();r.index=Math.max(0,Math.min(r.index,a-1)),r.length=Math.max(0,Math.min(r.length,a-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var a,i;!((i=(a=n)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Vx.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,a=r.children,i=r.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(d){n.editingArea=d}};return Dt.default.Children.count(a)?Dt.default.cloneElement(Dt.default.Children.only(a),s):i?Dt.default.createElement("pre",Hr({},s)):Dt.default.createElement("div",Hr({},s))},t.prototype.render=function(){var n;return Dt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,a,i){var o,s;if(this.editor){var d=this.isDelta(this.value)?i.getContents():i.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=d,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,n,r,a,i))}},t.prototype.onEditorChangeSelection=function(n,r,a){var i,o,s,d,f,h;if(this.editor){var c=this.getEditorSelection(),l=!c&&n,u=c&&!n;Bn.default(n,c)||(this.selection=n,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,n,r,a),l?(d=(s=this.props).onFocus)===null||d===void 0||d.call(s,n,r,a):u&&((h=(f=this.props).onBlur)===null||h===void 0||h.call(f,c,r,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Wo.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Dt.default.Component);function Go(e){Promise.resolve().then(e)}var Gx=Wx;const Yx=Vt(Gx);const Kx=e=>w("div",{className:"react-quill-container",children:w(Yx,{...e,theme:"snow",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code"],["clean"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","code"]})}),Xx=()=>{const e=Ie(),t=He(),[n,r]=E.useState(!1),[a,i]=E.useState((t==null?void 0:t.description)??""),[o,s]=E.useState(a),[d]=ye.useForm(),f=async c=>{if(t){d.resetFields();try{await e(Ml({cardId:t._id,description:c})),s(c)}catch(l){console.error(l)}r(!1)}};return Z(Le,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"描述"})})}),w(Ys,{children:n?Z(ye,{layout:"vertical",form:d,onFinish:()=>f(a),name:"control-textEditor",children:[w(ye.Item,{children:w(Kx,{value:a,placeholder:"請輸入內容",onChange:i})}),w(ye.Item,{children:Z(Ze,{children:[w(ce,{htmlType:"submit",type:"primary",children:"儲存"}),w(ce,{onClick:()=>{r(!1),i(o)},children:"取消"})]})})]}):(()=>{const c=/(<([^>]+)>)/gi;return o.replace(c,"")===""})()?w("div",{onClick:()=>r(!0),className:"descriptionEmpty",children:"新增更詳細的描述..."}):w("div",{dangerouslySetInnerHTML:{__html:a},onClick:()=>r(!0),className:"descriptionDisplay"})})]})},{Sider:Zx}=ci,Qx={color:"var(--modal-color)",backgroundColor:"#ffffff"},Jx=be(Zx)`
  .button-link {
    background-color: var(--modal-button-neutral);
    border-radius: 3px;
    color: inherit;
    cursor: pointer;
    display: block;
    height: 32px;
    margin-top: 8px;
    max-width: 300px;
    overflow: hidden;
    padding: 6px 12px;
    border: 0;
    text-align: left;
    width: 100%;
  }
  .mid {
    margin-top: 8px;
  }
`,eC=be.div`
  position: absolute;
  z-index: 1000;
  width: 300px;
  .ant-close {
    position: absolute;
    right: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-space {
    width: 300px;
  }
  .ant-card-head-title {
    text-align: center;
    font-size: 12px;
  }
  .board-member-list {
    font-size: 8px;
    line-height: 22px;
    margin: 12px 0 0;
    color: var(--gray66);
  }

  .ant-list-split {
    .ant-list-item {
      border: 0;
      padding: 6px 0;
    }
    .search-list-item {
      cursor: pointer;
      padding: 8px 4px;
    }
    .search-list-item:hover {
      background-color: var(--link-background);
    }
  }
`,tC=be.div`
  position: absolute;
  z-index: 1000;
  width: 250px;
  .ant-close {
    position: absolute;
    right: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-back {
    position: absolute;
    left: 4px;
    top: 2px;
    border: 0;
    box-shadow: none;
  }
  .ant-card-head-title {
    text-align: center;
    font-size: 12px;
  }
  .labelBtn {
    color: "white";
    border-radius: "4px";
    width: "100%";
    height: "34px";
    padding: "0 12px";
    flex-grow: 1;
    box-shadow: none;
  }
  .label-card-header {
    position: relative;
    width: 100%;
    height: 101px;
    background-color: var(--ds-surface-sunken, #f4f5f7);
    margin-bottom: 8px;
    .label-card-label {
      position: absolute;
      width: 80%;
      height: 40%;
      left: 10%;
      top: 30%;
      text-align: center;
      line-height: 40px;
      font-size: 16px;
      border-radius: 4px;
    }
  }
  .colored-label-list {
    .ant-form-item-control-input-content {
      gap: 4px;
      display: flex;
      flex-wrap: wrap;
    }
    .colored-label {
      border: 1px solid white;
      border-radius: 4px;
      width: 31%;
      height: 36px;
      &:hover {
        opacity: 0.8;
      }
    }
  }
`,uc=({setIsOpenAddMember:e,style:t})=>{const n=Ie(),r=He(),[a,i]=E.useState(null),[o,s]=E.useState(!1),d=fn.debounce(async h=>{s(!0),h.target.value.length>1&&await gd({query:h.target.value}).then(c=>{i(c.result)}),s(!1)},800),f=async h=>{const c=r==null?void 0:r._id;c&&(await n(si({cardId:c,userIdList:[h._id]})),Pt({message:"加入成功"})),e(!1)};return w(eC,{style:{...t},children:Z(Lt,{title:"成員",extra:w(ce,{className:"ant-close",icon:w(dt,{style:{fontSize:"12px"}}),onClick:()=>e(!1)}),size:"small",style:{width:"auto"},children:[w(Qe,{placeholder:"搜尋成員",onChange:h=>d(h),prefix:w(md,{})}),a&&w(Rt,{className:"search-list-items",itemLayout:"horizontal",dataSource:a,loading:o,locale:{emptyText:"這個人似乎尚未註冊 Lunar。"},renderItem:h=>w(Rt.Item,{className:"search-list-item",onClick:()=>f(h),children:w(Rt.Item.Meta,{avatar:w(ft,{src:h.avatar}),title:h.name,description:h.email})},h._id)}),Z(xe,{className:"board-member-list",children:[w("p",{children:"卡片成員"}),w(Rt,{itemLayout:"horizontal",dataSource:r==null?void 0:r.member,locale:{emptyText:"尚無成員"},renderItem:h=>w(Rt.Item,{children:w(Rt.Item.Meta,{style:{alignItems:"center"},avatar:w(ft,{src:h.userId.avatar}),title:h.userId.name})},h.userId._id)})]})]})})},nC=()=>{const e=He(),[t,n]=E.useState(!1),r=e==null?void 0:e.member.map(({userId:{_id:a,name:i,avatar:o}})=>w($l,{title:i,placement:"top",children:w(ft,{src:o})},a));return Z(xe,{span:12,children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"成員"})})}),Z(ft.Group,{children:[r,w(ce,{shape:"circle",icon:w(nn,{}),onClick:()=>n(!0)}),t&&w(uc,{setIsOpenAddMember:n,style:{top:"64px",left:0}})]})]})},rC=()=>{var o;const e=Ie(),t=(o=He())==null?void 0:o._id,n=Te(s=>s.user.user),[r]=ye.useForm(),[a,i]=E.useState(!1);return w(hg,{children:Z(ye,{form:r,onFinish:async({comment:s})=>{if(t&&s){i(!0);try{await e(yd({cardId:t,comment:s}))}finally{i(!1),r.resetFields()}}},children:[w(ye.Item,{name:"comment",label:w("img",{src:n.avatar,style:{height:32,width:32,marginRight:"16px"}}),children:w(Qe.TextArea,{placeholder:"填寫評論",rows:2})}),w(ce,{icon:w(gv,{style:{color:"#0083FF"}}),htmlType:"submit",type:"text",loading:a})]})})},aC=e=>{const t=(Date.now()-new Date(e).getTime())/1e3,[n,r,a]=[t/60/60/24,t/60/60%24,t/60%60].map(i=>`${~~i}`);return`${n} 天 ${r} 時 ${a} 分 前`},iC=({commentData:e})=>{const t=Ie(),[n,r]=E.useState(!1),[a,i]=E.useState(!1);return w(Wt,{overlayStyle:{width:"300px"},trigger:"click",open:n,title:w(Fe,{justify:"center",gutter:0,children:w(xe,{flex:"none",children:Z(Ze,{size:8,children:[w(Bl,{style:{color:"red"}}),"刪除評論"]})})}),content:Z(Fe,{gutter:0,children:[Z(xe,{span:24,children:["刪除評論是永久性的，無法復原",w("br",{}),w("br",{})]}),w(xe,{span:24,children:w(ce,{block:!0,danger:!0,onClick:async()=>{i(!0);try{await t(Cd({cardId:e.cardId,commentId:e._id})),Pt({message:"評論刪除成功"})}catch(s){console.error(s)}finally{i(!1),r(!1)}},loading:a,children:"刪除"})}),w(xe,{span:24,children:w(ce,{block:!0,type:"text",onClick:()=>r(!1),children:"取消"})})]}),children:w(ce,{type:"text",onClick:()=>r(!0),children:"刪除"})})},oC=({itemData:e})=>{const t=Ie(),[n,r]=E.useState(!1),[a,i]=E.useState(e.comment),[o,s]=E.useState(!1),d=async()=>{s(!0);try{await t(xd({cardId:e.cardId,commentId:e._id,comment:a})),Pt({message:"評論更新成功"})}catch(f){console.error(f)}finally{s(!1),r(!1)}};return w(Le,{children:w(Rt.Item,{actions:n?[]:[w("a",{onClick:()=>{r(!0)},children:"編輯"},"list-loadmore-edit"),w(iC,{commentData:e})],children:w(Rt.Item.Meta,{avatar:w(ft,{src:e.userId.avatar}),title:Z(Ze,{size:12,children:[w("span",{className:"userName",children:e.userId.name}),w("span",{className:"timeText",children:aC(e.updatedAt)})]}),description:n?w(Fe,{className:n?"isShow":"isHidden",children:w(xe,{span:24,children:Z(Fe,{gutter:[16,4],children:[w(xe,{span:24,children:w(bd,{value:a,onChange:f=>i(f.target.value),onPressEnter:f=>{f.preventDefault(),d()},placeholder:"填寫待辦項目"})}),w(xe,{span:24,children:Z(Ze,{children:[w(ce,{type:"primary",size:"small",onClick:d,loading:o,children:"儲存"}),w(ce,{size:"small",onClick:()=>r(!1),children:"取消"})]})})]})})}):w("div",{className:"comment",children:e.comment})})})})},lC=()=>{const e=He();return Z(Le,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"評論"})})}),w(pg,{children:w(Rt,{itemLayout:"horizontal",dataSource:e==null?void 0:e.comment,locale:{emptyText:" "},renderItem:t=>w(oC,{itemData:t})})}),w(rC,{})]})},sC=async e=>{const t=new FileReader;return t.readAsDataURL(e),await new Promise(n=>t.onload=n),`${t.result}`},wi=e=>{const t=i=>{var o;return(o=i.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(s,d,f,h)=>"#"+d+d+f+f+h+h).substring(1).match(/.{2}/g))==null?void 0:o.map(s=>parseInt(s,16))},n=i=>(i[0]*299+i[1]*587+i[2]*114)/1e3,r=t(e);return n(r||[])<128},dc=({style:e,setIsOpenLabel:t})=>{const{boardId:n}=Qr(),r=He(),a=Ie(),i=Te(bt).label,o=r==null?void 0:r.label.map(B=>B._id),[s,d]=E.useState(Nt[0].color),[f,h]=E.useState(""),[c,l]=E.useState(!1),[u,v]=E.useState(!1),[p,m]=E.useState(!1),[g,b]=E.useState(),[x,y]=E.useState(!1),[C,N]=E.useState(!1),[O,I]=E.useState(i);E.useEffect(()=>{I(i)},[i]);const k=B=>{if(B.target.value){const $=i.filter(T=>T.name.includes(B.target.value));I($)}else I(i)},D=async B=>{await a(wd({cardId:r==null?void 0:r._id,labelId:B}))},S=async B=>{await a(Sd({cardId:r==null?void 0:r._id,labelId:B}))},A=async B=>{B.target.checked?D(B.target.value):S(B.target.value)},P=async()=>{if(l(!0),n)try{await a(Fl({name:f,color:s,boardId:n}))}catch{}finally{l(!1),m(!1)}},_=B=>{b(i.find($=>$._id===B)),y(!0)},L=async()=>{if(v(!0),n&&g)try{await a(ql({name:g.name,color:g.color,boardId:n,labelId:g==null?void 0:g._id}))}finally{v(!1),y(!1)}},q=async()=>{if(N(!0),n&&g)try{await a(jl({boardId:n,labelId:g._id}))}finally{N(!1),y(!1)}},j=B=>{if(g){const $={...g};$.name=B.target.value,b($)}},Y=B=>{if(g){const $={...g};$.color=B,g?b($):d(B)}};return Z(tC,{style:{...e},children:[p&&Z(Lt,{title:"標籤",extra:w(ce,{className:"ant-back",icon:w(dn,{style:{fontSize:"12px"}}),onClick:()=>m(!1)}),size:"small",style:{position:"absolute",zIndex:20},children:[w("div",{className:"label-card-header",children:w("div",{className:"label-card-label",style:{backgroundColor:`${s}`},children:f})}),Z(ye,{layout:"vertical",children:[w(ye.Item,{label:"標題",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(Qe,{placeholder:"輸入標籤名稱",onChange:B=>h(B.target.value)})}),w(ye.Item,{label:"選一個顏色",className:"colored-label-list",children:Nt==null?void 0:Nt.map(B=>w(ce,{className:"colored-label",type:"text",style:{backgroundColor:B.color},onClick:()=>d(B.color)},B.color))}),w(ce,{type:"primary",block:!0,loading:c,onClick:P,children:"建立"})]})]}),x&&Z(Lt,{title:"標籤",extra:w(ce,{className:"ant-back",icon:w(dn,{style:{fontSize:"12px"}}),onClick:()=>{y(!1),b(void 0)}}),size:"small",style:{position:"absolute",zIndex:20},children:[w("div",{className:"label-card-header",children:w("div",{className:"label-card-label",style:{backgroundColor:`${g==null?void 0:g.color}`},children:g==null?void 0:g.name})}),Z(ye,{layout:"vertical",children:[w(ye.Item,{label:"標題",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(Qe,{placeholder:"輸入標籤名稱",onChange:B=>j(B),defaultValue:g==null?void 0:g.name})}),w(ye.Item,{label:"選一個顏色",className:"colored-label-list",children:Nt==null?void 0:Nt.map(B=>w(ce,{className:"colored-label",type:"text",style:{backgroundColor:B.color},onClick:()=>Y(B.color)},B.color))}),w(ce,{type:"primary",loading:u,block:!0,onClick:L,children:"儲存"}),w(ce,{type:"link",loading:C,block:!0,style:{color:"red"},onClick:q,children:"刪除"})]})]}),Z(Lt,{title:"標籤",extra:w(ce,{className:"ant-close",icon:w(dt,{style:{fontSize:"12px"}}),onClick:()=>t(!1)}),size:"small",style:{width:"auto"},children:[i.length!==0&&w(Qe,{placeholder:"搜尋標籤",onChange:k,style:{margin:"16px 0"}}),w(xe,{children:O.map(B=>Z(Fe,{align:"middle",style:{gap:"8px",margin:"4px 0"},children:[w(Yn,{checked:o==null?void 0:o.includes(B._id),onChange:A,value:B._id}),w(ce,{className:"labelBtn",type:"primary",style:{backgroundColor:B.color,color:wi(B.color)?"white":"black"},children:B.name}),w(ce,{type:"text",icon:w(ui,{}),style:{width:"32px",height:"32px",color:"var(--gray66)"},onClick:()=>_(B._id)})]},B._id))}),w(ce,{block:!0,type:"primary",style:{boxShadow:"none",marginTop:"16px"},onClick:()=>m(!0),children:"建立新標籤"})]})]})},cC=()=>{const e=He(),[t,n]=E.useState(!1),r=e==null?void 0:e.label.map(({name:a,color:i,_id:o})=>w(ft,{shape:"square",style:{backgroundColor:i,color:wi(i)?"white":"black"},children:a},o));return Z(xe,{span:12,children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"標籤"})})}),Z(ft.Group,{children:[r,w(ce,{shape:"circle",icon:w(nn,{}),onClick:()=>n(!0)}),t&&w(dc,{setIsOpenLabel:n,style:{top:"64px"}})]})]})},uC=()=>{const e=Ie(),t=He(),{setOpenPopover:n,PopoverType:r}=ir(),{startDate:a,dueDate:i,dueComplete:o}=(t==null?void 0:t.date)??{},[s,d]=E.useState(o),[f,h]=E.useState(!1),c=async({target:l})=>{if(t)try{await e(Ed({cardId:t.id,dueComplete:l.checked})),d(l.checked)}catch(u){console.log(u)}};return E.useEffect(()=>{if(i&&!s){const l=qe().subtract(1,"day"),u=qe(i);h(u.isBefore(l))}else h(!1)},[i,s]),!t||!(t!=null&&t.date)?null:Z(Le,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"到期日"})})}),w(Ys,{children:(t==null?void 0:t.date)&&Z(fg,{children:[Z(Ze,{className:"cardDate",onClick:()=>{n({isShow:!0,type:r.DATE,position:{top:100,left:100}})},children:[a?qe(a).format("MM月DD日"):null,a&&i?" - ":null,i?qe(i).format("MM月DD日"):null,f&&w(Hv,{color:"red",children:"逾期"}),w(ui,{})]}),w(Ze,{size:8,className:"checkFinish",children:w(Yn,{checked:s,onChange:l=>c(l),children:"已完成"})})]})})]})},dC=()=>{const e=He(),[t,n]=E.useState(!1),[r,a]=E.useState(""),[i,o]=E.useState([]);E.useEffect(()=>{var f;const d=(f=e==null?void 0:e.attachment)==null?void 0:f.map(({_id:h,filename:c,dirname:l})=>({uid:h,name:c,url:l}));o(d||[])},[e]);const s=Ie();return Z(Le,{children:[w(wn,{align:"middle",gutter:8,children:w(xe,{flex:"none",children:w("h3",{children:"附件"})})}),w(Hl,{listType:"picture-card",fileList:i,onPreview:async({url:d,preview:f,originFileObj:h})=>{!d&&!f&&h&&(f=await sC(h)),a(d||`${f}`),n(!0)},onChange:({file:d,fileList:f})=>{d.status==="done"&&Pt({message:`${d.name} 上傳成功`}),d.status==="error"&&Pt({message:`${d.name} 上傳失敗`,success:!1}),o(f)},customRequest:async d=>{var f,h;if(typeof d.file=="string"||!e){(f=d.onError)==null||f.call(d,new Error("上傳錯誤"));return}await s(zl({file:d.file,filename:`${d.filename}`,cardId:e._id})),(h=d.onSuccess)==null||h.call(d,"")},onRemove:async d=>{if(!e)return!1;await s(Od({cardId:e==null?void 0:e._id,attachmentId:d.uid}))},children:i&&i.length<=8&&w(nn,{})}),w(Ul,{open:t,footer:null,onCancel:()=>n(!1),children:w("img",{style:{width:"100%"},src:r})})]})};function fc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Id(e,t)}var hc=Oe.createContext(null);function fC(e){e()}var pc=fC,hC=function(t){return pc=t},pC=function(){return pc};function vC(){var e=pC(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=n={callback:a,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Yo={notify:function(){},get:function(){return[]}};function vc(e,t){var n,r=Yo;function a(c){return d(),r.subscribe(c)}function i(){r.notify()}function o(){h.onStateChange&&h.onStateChange()}function s(){return!!n}function d(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=vC())}function f(){n&&(n(),n=void 0,r.clear(),r=Yo)}var h={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:s,trySubscribe:d,tryUnsubscribe:f,getListeners:function(){return r}};return h}var gc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function gC(e){var t=e.store,n=e.context,r=e.children,a=E.useMemo(function(){var s=vc(t);return{store:t,subscription:s}},[t]),i=E.useMemo(function(){return t.getState()},[t]);gc(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=n||hc;return Oe.createElement(o.Provider,{value:a},r)}var mc={exports:{}},Re={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=60103,ua=60106,or=60107,lr=60108,sr=60114,cr=60109,ur=60110,dr=60112,fr=60113,Si=60120,hr=60115,pr=60116,yc=60121,bc=60122,xc=60117,Cc=60129,wc=60131;if(typeof Symbol=="function"&&Symbol.for){var tt=Symbol.for;ca=tt("react.element"),ua=tt("react.portal"),or=tt("react.fragment"),lr=tt("react.strict_mode"),sr=tt("react.profiler"),cr=tt("react.provider"),ur=tt("react.context"),dr=tt("react.forward_ref"),fr=tt("react.suspense"),Si=tt("react.suspense_list"),hr=tt("react.memo"),pr=tt("react.lazy"),yc=tt("react.block"),bc=tt("react.server.block"),xc=tt("react.fundamental"),Cc=tt("react.debug_trace_mode"),wc=tt("react.legacy_hidden")}function It(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ca:switch(e=e.type,e){case or:case sr:case lr:case fr:case Si:return e;default:switch(e=e&&e.$$typeof,e){case ur:case dr:case pr:case hr:case cr:return e;default:return t}}case ua:return t}}}var mC=cr,yC=ca,bC=dr,xC=or,CC=pr,wC=hr,SC=ua,EC=sr,OC=lr,IC=fr;Re.ContextConsumer=ur;Re.ContextProvider=mC;Re.Element=yC;Re.ForwardRef=bC;Re.Fragment=xC;Re.Lazy=CC;Re.Memo=wC;Re.Portal=SC;Re.Profiler=EC;Re.StrictMode=OC;Re.Suspense=IC;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(e){return It(e)===ur};Re.isContextProvider=function(e){return It(e)===cr};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca};Re.isForwardRef=function(e){return It(e)===dr};Re.isFragment=function(e){return It(e)===or};Re.isLazy=function(e){return It(e)===pr};Re.isMemo=function(e){return It(e)===hr};Re.isPortal=function(e){return It(e)===ua};Re.isProfiler=function(e){return It(e)===sr};Re.isStrictMode=function(e){return It(e)===lr};Re.isSuspense=function(e){return It(e)===fr};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===or||e===sr||e===Cc||e===lr||e===fr||e===Si||e===wc||typeof e=="object"&&e!==null&&(e.$$typeof===pr||e.$$typeof===hr||e.$$typeof===cr||e.$$typeof===ur||e.$$typeof===dr||e.$$typeof===xc||e.$$typeof===yc||e[0]===bc)};Re.typeOf=It;mc.exports=Re;var DC=mc.exports,NC=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],kC=["reactReduxForwardedRef"],AC=[],PC=[null,null];function TC(e,t){var n=e[1];return[t.payload,n+1]}function Ko(e,t,n){gc(function(){return e.apply(void 0,t)},n)}function _C(e,t,n,r,a,i,o){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function RC(e,t,n,r,a,i,o,s,d,f){if(e){var h=!1,c=null,l=function(){if(!h){var p=t.getState(),m,g;try{m=r(p,a.current)}catch(b){g=b,c=b}g||(c=null),m===i.current?o.current||d():(i.current=m,s.current=m,o.current=!0,f({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=l,n.trySubscribe(),l();var u=function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,c)throw c};return u}}var MC=function(){return[null,0]};function LC(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,a=r===void 0?function(x){return"ConnectAdvanced("+x+")"}:r,i=n.methodName,o=i===void 0?"connectAdvanced":i,s=n.renderCountProp,d=s===void 0?void 0:s,f=n.shouldHandleStateChanges,h=f===void 0?!0:f,c=n.storeKey,l=c===void 0?"store":c;n.withRef;var u=n.forwardRef,v=u===void 0?!1:u,p=n.context,m=p===void 0?hc:p,g=Mr(n,NC),b=m;return function(y){var C=y.displayName||y.name||"Component",N=a(C),O=oe({},g,{getDisplayName:a,methodName:o,renderCountProp:d,shouldHandleStateChanges:h,storeKey:l,displayName:N,wrappedComponentName:C,WrappedComponent:y}),I=g.pure;function k(_){return e(_.dispatch,O)}var D=I?E.useMemo:function(_){return _()};function S(_){var L=E.useMemo(function(){var X=_.reactReduxForwardedRef,ne=Mr(_,kC);return[_.context,X,ne]},[_]),q=L[0],j=L[1],Y=L[2],B=E.useMemo(function(){return q&&q.Consumer&&DC.isContextConsumer(Oe.createElement(q.Consumer,null))?q:b},[q,b]),$=E.useContext(B),T=!!_.store&&!!_.store.getState&&!!_.store.dispatch;$&&$.store;var R=T?_.store:$.store,F=E.useMemo(function(){return k(R)},[R]),U=E.useMemo(function(){if(!h)return PC;var X=vc(R,T?null:$.subscription),ne=X.notifyNestedSubs.bind(X);return[X,ne]},[R,T,$]),z=U[0],M=U[1],H=E.useMemo(function(){return T?$:oe({},$,{subscription:z})},[T,$,z]),W=E.useReducer(TC,AC,MC),V=W[0],G=V[0],te=W[1];if(G&&G.error)throw G.error;var Q=E.useRef(),ae=E.useRef(Y),ee=E.useRef(),re=E.useRef(!1),fe=D(function(){return ee.current&&Y===ae.current?ee.current:F(R.getState(),Y)},[R,G,Y]);Ko(_C,[ae,Q,re,Y,fe,ee,M]),Ko(RC,[h,R,z,F,ae,Q,re,ee,M,te],[R,z,F]);var he=E.useMemo(function(){return Oe.createElement(y,oe({},fe,{ref:j}))},[j,y,fe]),K=E.useMemo(function(){return h?Oe.createElement(B.Provider,{value:H},he):he},[B,he,H]);return K}var A=I?Oe.memo(S):S;if(A.WrappedComponent=y,A.displayName=S.displayName=N,v){var P=Oe.forwardRef(function(L,q){return Oe.createElement(A,oe({},L,{reactReduxForwardedRef:q}))});return P.displayName=N,P.WrappedComponent=y,Ki(P,y)}return Ki(A,y)}}function Xo(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Na(e,t){if(Xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Xo(e[n[a]],t[n[a]]))return!1;return!0}function $C(e,t){var n={},r=function(o){var s=e[o];typeof s=="function"&&(n[o]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)r(a);return n}function Ei(e){return function(n,r){var a=e(n,r);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Zo(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Sc(e,t){return function(r,a){a.displayName;var i=function(s,d){return i.dependsOnOwnProps?i.mapToProps(s,d):i.mapToProps(s)};return i.dependsOnOwnProps=!0,i.mapToProps=function(s,d){i.mapToProps=e,i.dependsOnOwnProps=Zo(e);var f=i(s,d);return typeof f=="function"&&(i.mapToProps=f,i.dependsOnOwnProps=Zo(f),f=i(s,d)),f},i}}function BC(e){return typeof e=="function"?Sc(e):void 0}function FC(e){return e?void 0:Ei(function(t){return{dispatch:t}})}function qC(e){return e&&typeof e=="object"?Ei(function(t){return $C(e,t)}):void 0}const jC=[BC,FC,qC];function HC(e){return typeof e=="function"?Sc(e):void 0}function zC(e){return e?void 0:Ei(function(){return{}})}const UC=[HC,zC];function VC(e,t,n){return oe({},n,e,t)}function WC(e){return function(n,r){r.displayName;var a=r.pure,i=r.areMergedPropsEqual,o=!1,s;return function(f,h,c){var l=e(f,h,c);return o?(!a||!i(l,s))&&(s=l):(o=!0,s=l),s}}}function GC(e){return typeof e=="function"?WC(e):void 0}function YC(e){return e?void 0:function(){return VC}}const KC=[GC,YC];var XC=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ZC(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function QC(e,t,n,r,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,d=!1,f,h,c,l,u;function v(x,y){return f=x,h=y,c=e(f,h),l=t(r,h),u=n(c,l,h),d=!0,u}function p(){return c=e(f,h),t.dependsOnOwnProps&&(l=t(r,h)),u=n(c,l,h),u}function m(){return e.dependsOnOwnProps&&(c=e(f,h)),t.dependsOnOwnProps&&(l=t(r,h)),u=n(c,l,h),u}function g(){var x=e(f,h),y=!s(x,c);return c=x,y&&(u=n(c,l,h)),u}function b(x,y){var C=!o(y,h),N=!i(x,f,y,h);return f=x,h=y,C&&N?p():C?m():N?g():u}return function(y,C){return d?b(y,C):v(y,C)}}function JC(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=Mr(t,XC),o=n(e,i),s=r(e,i),d=a(e,i),f=i.pure?QC:ZC;return f(o,s,d,e,i)}var ew=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ka(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function tw(e,t){return e===t}function nw(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?LC:n,a=t.mapStateToPropsFactories,i=a===void 0?UC:a,o=t.mapDispatchToPropsFactories,s=o===void 0?jC:o,d=t.mergePropsFactories,f=d===void 0?KC:d,h=t.selectorFactory,c=h===void 0?JC:h;return function(u,v,p,m){m===void 0&&(m={});var g=m,b=g.pure,x=b===void 0?!0:b,y=g.areStatesEqual,C=y===void 0?tw:y,N=g.areOwnPropsEqual,O=N===void 0?Na:N,I=g.areStatePropsEqual,k=I===void 0?Na:I,D=g.areMergedPropsEqual,S=D===void 0?Na:D,A=Mr(g,ew),P=ka(u,i,"mapStateToProps"),_=ka(v,s,"mapDispatchToProps"),L=ka(p,f,"mergeProps");return r(c,oe({methodName:"connect",getDisplayName:function(j){return"Connect("+j+")"},shouldHandleStateChanges:!!u,initMapStateToProps:P,initMapDispatchToProps:_,initMergeProps:L,pure:x,areStatesEqual:C,areOwnPropsEqual:O,areStatePropsEqual:k,areMergedPropsEqual:S},A))}}const Ec=nw();hC(Ll.unstable_batchedUpdates);function rw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Oc(e,t){var n=E.useState(function(){return{inputs:t,result:e()}})[0],r=E.useRef(!0),a=E.useRef(n),i=r.current||!!(t&&a.current.inputs&&rw(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return E.useEffect(function(){r.current=!1,a.current=o},[o]),o.result}function aw(e,t){return Oc(function(){return e},t)}var Ne=Oc,me=aw,iw=!0,Aa="Invariant failed";function ow(e,t){if(!e){if(iw)throw new Error(Aa);var n=typeof t=="function"?t():t,r=n?"".concat(Aa,": ").concat(n):Aa;throw new Error(r)}}var St=function(t){var n=t.top,r=t.right,a=t.bottom,i=t.left,o=r-i,s=a-n,d={top:n,right:r,bottom:a,left:i,width:o,height:s,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return d},Oi=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Qo=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},lw=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Pa={top:0,right:0,bottom:0,left:0},Ii=function(t){var n=t.borderBox,r=t.margin,a=r===void 0?Pa:r,i=t.border,o=i===void 0?Pa:i,s=t.padding,d=s===void 0?Pa:s,f=St(Oi(n,a)),h=St(Qo(n,o)),c=St(Qo(h,d));return{marginBox:f,borderBox:St(n),paddingBox:h,contentBox:c,margin:a,border:o,padding:d}},pt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&ow(!1),a},sw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zr=function(t,n){var r=t.borderBox,a=t.border,i=t.margin,o=t.padding,s=lw(r,n);return Ii({borderBox:s,border:a,margin:i,padding:o})},Ur=function(t,n){return n===void 0&&(n=sw()),zr(t,n)},Ic=function(t,n){var r={top:pt(n.marginTop),right:pt(n.marginRight),bottom:pt(n.marginBottom),left:pt(n.marginLeft)},a={top:pt(n.paddingTop),right:pt(n.paddingRight),bottom:pt(n.paddingBottom),left:pt(n.paddingLeft)},i={top:pt(n.borderTopWidth),right:pt(n.borderRightWidth),bottom:pt(n.borderBottomWidth),left:pt(n.borderLeftWidth)};return Ii({borderBox:t,margin:r,padding:a,border:i})},Dc=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Ic(n,r)},Jo=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function cw(e,t){return!!(e===t||Jo(e)&&Jo(t))}function uw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!cw(e[n],t[n]))return!1;return!0}function Je(e,t){t===void 0&&(t=uw);var n,r=[],a,i=!1;function o(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return i&&n===this&&t(s,r)||(a=e.apply(this,s),i=!0,n=this,r=s),a}return o}var dw=function(t){var n=[],r=null,a=function(){for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];n=s,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};const Xn=dw;function Nc(e,t){}Nc.bind(null,"warn");Nc.bind(null,"error");function jt(){}function fw(e,t){return oe({},e,{},t)}function vt(e,t,n){var r=t.map(function(a){var i=fw(n,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(function(i){i()})}}var hw="Invariant failed";function Vr(e){this.message=e}Vr.prototype.toString=function(){return this.message};function se(e,t){if(!e)throw new Vr(hw)}var pw=function(e){fc(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.callbacks=null,r.unbind=jt,r.onWindowError=function(s){var d=r.getCallbacks();d.isDragging()&&d.tryAbort();var f=s.error;f instanceof Vr&&s.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(s){r.callbacks=s},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=vt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof Vr){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Oe.Component),vw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Wr=function(t){return t+1},gw=function(t){return`
  You have lifted an item in position `+Wr(t.source.index)+`
`},kc=function(t,n){var r=t.droppableId===n.droppableId,a=Wr(t.index),i=Wr(n.index);return r?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},Ac=function(t,n,r){var a=n.droppableId===r.droppableId;return a?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},mw=function(t){var n=t.destination;if(n)return kc(t.source,n);var r=t.combine;return r?Ac(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},el=function(t){return`
  The item has returned to its starting position
  of `+Wr(t.index)+`
`},yw=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+el(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+kc(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+Ac(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+el(t.source)+`
  `},_r={dragHandleUsageInstructions:vw,onDragStart:gw,onDragUpdate:mw,onDragEnd:yw},et={x:0,y:0},nt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},st=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Ht=function(t,n){return t.x===n.x&&t.y===n.y},kn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},tn=function(t,n,r){var a;return r===void 0&&(r=0),a={},a[t]=n,a[t==="x"?"y":"x"]=r,a},Zn=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},tl=function(t,n){return Math.min.apply(Math,n.map(function(r){return Zn(t,r)}))},Pc=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},bw=function(e,t){var n=St({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},vr=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},nl=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},xw={top:0,right:0,bottom:0,left:0},Cw=function(t,n){return n?vr(t,n.scroll.diff.displacement):t},ww=function(t,n,r){if(r&&r.increasedBy){var a;return oe({},t,(a={},a[n.end]=t[n.end]+r.increasedBy[n.line],a))}return t},Sw=function(t,n){return n&&n.shouldClipSubject?bw(n.pageMarginBox,t):St(t)},hn=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=Cw(t.marginBox,a),o=ww(i,r,n),s=Sw(o,a);return{page:t,withPlaceholder:n,active:s}},Di=function(e,t){e.frame||se(!1);var n=e.frame,r=st(t,n.scroll.initial),a=kn(r),i=oe({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),o=hn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),s=oe({},e,{frame:i,subject:o});return s};function Gr(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Ni(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Gt(e,t){if(e.find)return e.find(t);var n=Ni(e,t);if(n!==-1)return e[n]}function Tc(e){return Array.prototype.slice.call(e)}var _c=Je(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Rc=Je(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),da=Je(function(e){return Gr(e)}),Ew=Je(function(e){return Gr(e)}),An=Je(function(e,t){var n=Ew(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,a){return r.descriptor.index-a.descriptor.index});return n});function ki(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function fa(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ha=Je(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),Ow=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;var o=ki(i);if(!o)return null;function s(p){var m={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return oe({},i,{at:m})}var d=i.displaced.all,f=d.length?d[0]:null;if(t)return f?s(f):null;var h=ha(n,a);if(!f){if(!h.length)return null;var c=h[h.length-1];return s(c.descriptor.id)}var l=Ni(h,function(p){return p.descriptor.id===f});l===-1&&se(!1);var u=l-1;if(u<0)return null;var v=h[u];return s(v.descriptor.id)},Pn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Mc={point:et,value:0},Qn={invisible:{},visible:{},all:[]},Iw={displaced:Qn,displacedBy:Mc,at:null},gt=function(e,t){return function(n){return e<=n&&n<=t}},Lc=function(e){var t=gt(e.top,e.bottom),n=gt(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(a)return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right),s=i&&o;if(s)return!0;var d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right,h=d&&f;if(h)return!0;var c=d&&o||f&&i;return c}},Dw=function(e){var t=gt(e.top,e.bottom),n=gt(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return a}},Ai={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$c={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Nw=function(e){return function(t){var n=gt(t.top,t.bottom),r=gt(t.left,t.right);return function(a){return e===Ai?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)}}},kw=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:et;return vr(t,r)},Aw=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},Pw=function(t,n,r){return r(n)(t)},Pi=function(t){var n=t.target,r=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=i?kw(n,r):n;return Aw(s,r,o)&&Pw(s,a,o)},Tw=function(t){return Pi(oe({},t,{isVisibleThroughFrameFn:Lc}))},Bc=function(t){return Pi(oe({},t,{isVisibleThroughFrameFn:Dw}))},_w=function(t){return Pi(oe({},t,{isVisibleThroughFrameFn:Nw(t.destination.axis)}))},Rw=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function Mw(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return St(Oi(n,r))}function Jn(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(d,f){var h=Mw(f,r),c=f.descriptor.id;d.all.push(c);var l=Tw({target:h,destination:n,viewport:a,withDroppableDisplacement:!0});if(!l)return d.invisible[f.descriptor.id]=!0,d;var u=Rw(c,o,i),v={draggableId:c,shouldAnimate:u};return d.visible[c]=v,d},{all:[],visible:{},invisible:{}})}function Lw(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function rl(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=Lw(t,{inHomeList:n});return{displaced:Qn,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Yr(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,d=e.forceShouldAnimate,f=Pn(t,r);if(s==null)return rl({insideDestination:n,inHomeList:f,displacedBy:i,destination:r});var h=Gt(n,function(p){return p.descriptor.index===s});if(!h)return rl({insideDestination:n,inHomeList:f,displacedBy:i,destination:r});var c=ha(t,n),l=n.indexOf(h),u=c.slice(l),v=Jn({afterDragging:u,destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:d});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Ut(e,t){return!!t.effected[e]}var $w=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,s=r[o],d=s.descriptor.index,f=Ut(o,i);return f?t?d:d-1:t?d+1:d},Bw=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,o=t?i+1:i-1,s=r[0].descriptor.index,d=r[r.length-1].descriptor.index,f=n?d:d+1;return o<s||o>f?null:o},Fw=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,d=e.viewport,f=e.afterCritical,h=s.at;if(h||se(!1),h.type==="REORDER"){var c=Bw({isMovingForward:t,isInHomeList:n,location:h.destination,insideDestination:o});return c==null?null:Yr({draggable:r,insideDestination:o,destination:i,viewport:d,last:s.displaced,displacedBy:s.displacedBy,index:c})}var l=$w({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:h.combine,afterCritical:f});return l==null?null:Yr({draggable:r,insideDestination:o,destination:i,viewport:d,last:s.displaced,displacedBy:s.displacedBy,index:l})},qw=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=!!(t.visible[r]||t.invisible[r]);return Ut(r,n)?i?et:kn(a.point):i?a.point:et},jw=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=fa(n);a||se(!1);var i=a.draggableId,o=r[i].page.borderBox.center,s=qw({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return nt(o,s)},Fc=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Hw=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},Ti=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},al=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return tn(n.line,r.marginBox[n.end]+Fc(n,a),Ti(n,r.marginBox,a))},il=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return tn(n.line,r.marginBox[n.start]-Hw(n,a),Ti(n,r.marginBox,a))},zw=function(t){var n=t.axis,r=t.moveInto,a=t.isMoving;return tn(n.line,r.contentBox[n.start]+Fc(n,a),Ti(n,r.contentBox,a))},Uw=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,o=An(a.descriptor.id,r),s=n.page,d=a.axis;if(!o.length)return zw({axis:d,moveInto:a.page,isMoving:s});var f=t.displaced,h=t.displacedBy,c=f.all[0];if(c){var l=r[c];if(Ut(c,i))return il({axis:d,moveRelativeTo:l.page,isMoving:s});var u=zr(l.page,h.point);return il({axis:d,moveRelativeTo:u,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Ut(v.descriptor.id,i)){var p=zr(v.page,kn(i.displacedBy.point));return al({axis:d,moveRelativeTo:p,isMoving:s})}return al({axis:d,moveRelativeTo:v.page,isMoving:s})},Ja=function(e,t){var n=e.frame;return n?nt(t,n.scroll.diff.displacement):t},Vw=function(t){var n=t.impact,r=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,s=r.page.borderBox.center,d=n.at;return!a||!d?s:d.type==="REORDER"?Uw({impact:n,draggable:r,draggables:i,droppable:a,afterCritical:o}):jw({impact:n,draggables:i,afterCritical:o})},pa=function(e){var t=Vw(e),n=e.droppable,r=n?Ja(n,t):t;return r},qc=function(e,t){var n=st(t,e.scroll.initial),r=kn(n),a=St({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return i};function ol(e,t){return e.map(function(n){return t[n]})}function Ww(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var Gw=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=qc(n,nt(n.scroll.current,i)),s=r.frame?Di(r,nt(r.frame.scroll.current,i)):r,d=t.displaced,f=Jn({afterDragging:ol(d.all,a),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:d,forceShouldAnimate:!1}),h=Jn({afterDragging:ol(d.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),c={},l={},u=[d,f,h];d.all.forEach(function(p){var m=Ww(p,u);if(m){l[p]=m;return}c[p]=!0});var v=oe({},t,{displaced:{all:d.all,invisible:c,visible:l}});return v},Yw=function(e,t){return nt(e.scroll.diff.displacement,t)},_i=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,a=Yw(r,t),i=st(a,n.page.borderBox.center);return nt(n.client.borderBox.center,i)},jc=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,d=st(r,t.page.borderBox.center),f=vr(t.page.borderBox,d),h={target:f,destination:n,withDroppableDisplacement:i,viewport:a};return s?_w(h):Bc(h)},Kw=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,d=e.previousClientSelection,f=e.afterCritical;if(!r.isEnabled)return null;var h=An(r.descriptor.id,a),c=Pn(n,r),l=Ow({isMovingForward:t,draggable:n,destination:r,insideDestination:h,previousImpact:i})||Fw({isMovingForward:t,isInHomeList:c,draggable:n,draggables:a,destination:r,insideDestination:h,previousImpact:i,viewport:o,afterCritical:f});if(!l)return null;var u=pa({impact:l,draggable:n,droppable:r,draggables:a,afterCritical:f}),v=jc({draggable:n,destination:r,newPageBorderBoxCenter:u,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var p=_i({pageBorderBoxCenter:u,draggable:n,viewport:o});return{clientSelection:p,impact:l,scrollJumpRequest:null}}var m=st(u,s),g=Gw({impact:l,viewport:o,destination:r,draggables:a,maxScrollChange:m});return{clientSelection:d,impact:g,scrollJumpRequest:m}},it=function(t){var n=t.subject.active;return n||se(!1),n},Xw=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,d=gt(o[s.start],o[s.end]),f=da(a).filter(function(c){return c!==r}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return Lc(i.frame)(it(c))}).filter(function(c){var l=it(c);return t?o[s.crossAxisEnd]<l[s.crossAxisEnd]:l[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(c){var l=it(c),u=gt(l[s.start],l[s.end]);return d(l[s.start])||d(l[s.end])||u(o[s.start])||u(o[s.end])}).sort(function(c,l){var u=it(c)[s.crossAxisStart],v=it(l)[s.crossAxisStart];return t?u-v:v-u}).filter(function(c,l,u){return it(c)[s.crossAxisStart]===it(u[0])[s.crossAxisStart]});if(!f.length)return null;if(f.length===1)return f[0];var h=f.filter(function(c){var l=gt(it(c)[s.start],it(c)[s.end]);return l(n[s.line])});return h.length===1?h[0]:h.length>1?h.sort(function(c,l){return it(c)[s.start]-it(l)[s.start]})[0]:f.sort(function(c,l){var u=tl(n,nl(it(c))),v=tl(n,nl(it(l)));return u!==v?u-v:it(c)[s.start]-it(l)[s.start]})[0]},ll=function(t,n){var r=t.page.borderBox.center;return Ut(t.descriptor.id,n)?st(r,n.displacedBy.point):r},Zw=function(t,n){var r=t.page.borderBox;return Ut(t.descriptor.id,n)?vr(r,kn(n.displacedBy.point)):r},Qw=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(s){return Bc({target:Zw(s,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(s,d){var f=Zn(t,Ja(r,ll(s,i))),h=Zn(t,Ja(r,ll(d,i)));return f<h?-1:h<f?1:s.descriptor.index-d.descriptor.index});return o[0]||null},gr=Je(function(t,n){var r=n[t.line];return{value:r,point:tn(t.line,r)}}),Jw=function(t,n,r){var a=t.axis;if(t.descriptor.mode==="virtual")return tn(a.line,n[a.line]);var i=t.subject.page.contentBox[a.size],o=An(t.descriptor.id,r),s=o.reduce(function(h,c){return h+c.client.marginBox[a.size]},0),d=s+n[a.line],f=d-i;return f<=0?null:tn(a.line,f)},Hc=function(t,n){return oe({},t,{scroll:oe({},t.scroll,{max:n})})},zc=function(t,n,r){var a=t.frame;Pn(n,t)&&se(!1),t.subject.withPlaceholder&&se(!1);var i=gr(t.axis,n.displaceBy).point,o=Jw(t,i,r),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var d=hn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return oe({},t,{subject:d})}var f=o?nt(a.scroll.max,o):a.scroll.max,h=Hc(a,f),c=hn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:h});return oe({},t,{subject:c,frame:h})},eS=function(t){var n=t.subject.withPlaceholder;n||se(!1);var r=t.frame;if(!r){var a=hn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return oe({},t,{subject:a})}var i=n.oldFrameMaxScroll;i||se(!1);var o=Hc(r,i),s=hn({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return oe({},t,{subject:s,frame:o})},tS=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,d=e.afterCritical;if(!n){if(r.length)return null;var f={displaced:Qn,displacedBy:Mc,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=pa({impact:f,draggable:a,droppable:o,draggables:i,afterCritical:d}),c=Pn(a,o)?o:zc(o,a,i),l=jc({draggable:a,destination:c,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return l?f:null}var u=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],v=function(){var m=n.descriptor.index;return n.descriptor.id===a.descriptor.id||u?m:m+1}(),p=gr(o.axis,a.displaceBy);return Yr({draggable:a,insideDestination:r,destination:o,viewport:s,displacedBy:p,last:Qn,index:v})},nS=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,d=e.afterCritical,f=Xw({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:s});if(!f)return null;var h=An(f.descriptor.id,i),c=Qw({pageBorderBoxCenter:n,viewport:s,destination:f,insideDestination:h,afterCritical:d}),l=tS({previousPageBorderBoxCenter:n,destination:f,draggable:r,draggables:i,moveRelativeTo:c,insideDestination:h,viewport:s,afterCritical:d});if(!l)return null;var u=pa({impact:l,draggable:r,droppable:f,draggables:i,afterCritical:d}),v=_i({pageBorderBoxCenter:u,draggable:r,viewport:s});return{clientSelection:v,impact:l,scrollJumpRequest:null}},ct=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},rS=function(t,n){var r=ct(t);return r?n[r]:null},aS=function(e){var t=e.state,n=e.type,r=rS(t.impact,t.dimensions.droppables),a=!!r,i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,d=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!a)return null;var f=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,l=t.dimensions,u=l.draggables,v=l.droppables;return d?Kw({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:h,destination:o,draggables:u,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):nS({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:h,isOver:o,draggables:u,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Jt(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Uc(e){var t=gt(e.top,e.bottom),n=gt(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function iS(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function oS(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map(function(o){var s=o.axis,d=tn(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Zn(a,d)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function lS(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=da(r).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!iS(t,o))return!1;if(Uc(o)(t.center))return!0;var s=i.axis,d=o.center[s.crossAxisLine],f=t[s.crossAxisStart],h=t[s.crossAxisEnd],c=gt(o[s.crossAxisStart],o[s.crossAxisEnd]),l=c(f),u=c(h);return!l&&!u?!0:l?f<d:h>d});return a.length?a.length===1?a[0].descriptor.id:oS({pageBorderBox:t,draggable:n,candidates:a}):null}var Vc=function(t,n){return St(vr(t,n))},sS=function(e,t){var n=e.frame;return n?Vc(t,n.scroll.diff.value):t};function Wc(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function cS(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var uS=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,d=r.axis,f=gr(r.axis,n.displaceBy),h=f.value,c=t[d.start],l=t[d.end],u=ha(n,a),v=Gt(u,function(m){var g=m.descriptor.id,b=m.page.borderBox.center[d.line],x=Ut(g,s),y=Wc({displaced:i,id:g});return x?y?l<=b:c<b-h:y?l<=b+h:c<b}),p=cS({draggable:n,closest:v,inHomeList:Pn(n,r)});return Yr({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:f,index:p})},dS=4,fS=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,d=gr(a.axis,t.displaceBy),f=d.value,h=n[s.start],c=n[s.end],l=ha(t,i),u=Gt(l,function(p){var m=p.descriptor.id,g=p.page.borderBox,b=g[s.size],x=b/dS,y=Ut(m,o),C=Wc({displaced:r.displaced,id:m});return y?C?c>g[s.start]+x&&c<g[s.end]-x:h>g[s.start]-f+x&&h<g[s.end]-f-x:C?c>g[s.start]+f+x&&c<g[s.end]+f-x:h>g[s.start]+x&&h<g[s.end]-x});if(!u)return null;var v={displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:a.descriptor.id}}};return v},Gc=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,d=Vc(n.page.borderBox,t),f=lS({pageBorderBox:d,draggable:n,droppables:a});if(!f)return Iw;var h=a[f],c=An(h.descriptor.id,r),l=sS(h,d);return fS({pageBorderBoxWithDroppableScroll:l,draggable:n,previousImpact:i,destination:h,insideDestination:c,afterCritical:s})||uS({pageBorderBoxWithDroppableScroll:l,draggable:n,destination:h,insideDestination:c,last:i.displaced,viewport:o,afterCritical:s})},Ri=function(e,t){var n;return oe({},e,(n={},n[t.descriptor.id]=t,n))},hS=function(t){var n=t.previousImpact,r=t.impact,a=t.droppables,i=ct(n),o=ct(r);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var d=eS(s);return Ri(a,d)},pS=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,o=hS({previousImpact:a,impact:i,droppables:r}),s=ct(i);if(!s)return o;var d=r[s];if(Pn(t,d)||d.subject.withPlaceholder)return o;var f=zc(d,t,n);return Ri(o,f)},Vn=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,d=r||t.dimensions,f=n||t.current.client.selection,h=st(f,t.initial.client.selection),c={offset:h,selection:f,borderBoxCenter:nt(t.initial.client.borderBoxCenter,h)},l={selection:nt(c.selection,s.scroll.current),borderBoxCenter:nt(c.borderBoxCenter,s.scroll.current),offset:nt(c.offset,s.scroll.diff.value)},u={client:c,page:l};if(t.phase==="COLLECTING")return oe({phase:"COLLECTING"},t,{dimensions:d,viewport:s,current:u});var v=d.draggables[t.critical.draggable.id],p=i||Gc({pageOffset:l.offset,draggable:v,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=pS({draggable:v,impact:p,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),g=oe({},t,{current:u,dimensions:{draggables:d.draggables,droppables:m},impact:p,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function vS(e,t){return e.map(function(n){return t[n]})}var Yc=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,s=vS(o.all,r),d=Jn({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return oe({},t,{displaced:d})},Kc=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=pa({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o});return _i({pageBorderBoxCenter:s,draggable:n,viewport:i})},Xc=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&se(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,s=o.draggables,d=o.droppables,f=s[t.critical.draggable.id],h=ct(a);h||se(!1);var c=d[h],l=Yc({impact:a,viewport:i,destination:c,draggables:s}),u=Kc({impact:l,draggable:f,droppable:c,draggables:s,viewport:i,afterCritical:t.afterCritical});return Vn({impact:l,clientSelection:u,state:t,dimensions:o,viewport:i})},gS=function(e){return{index:e.index,droppableId:e.droppableId}},Zc=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=gr(n.axis,t.displaceBy),o=An(n.descriptor.id,r),s=o.indexOf(t);s===-1&&se(!1);var d=o.slice(s+1),f=d.reduce(function(u,v){return u[v.descriptor.id]=!0,u},{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:f},c=Jn({afterDragging:d,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),l={displaced:c,displacedBy:i,at:{type:"REORDER",destination:gS(t.descriptor)}};return{impact:l,afterCritical:h}},mS=function(e,t){return{draggables:e.draggables,droppables:Ri(e.droppables,t)}},yS=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=zr(t.client,n),i=Ur(a,r),o=oe({},t,{placeholder:oe({},t.placeholder,{client:a}),client:a,page:i});return o},bS=function(e){var t=e.frame;return t||se(!1),t},xS=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,s=n[o],d=bS(s),f=d.scroll.diff.value,h=nt(a,f),c=yS({draggable:i,offset:h,initialWindowScroll:r.scroll.initial});return c})},CS=function(e){var t=e.state,n=e.published,r=n.modified.map(function(x){var y=t.dimensions.droppables[x.droppableId],C=Di(y,x.scroll);return C}),a=oe({},t.dimensions.droppables,{},_c(r)),i=Rc(xS({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=oe({},t.dimensions.draggables,{},i);n.removals.forEach(function(x){delete o[x]});var s={droppables:a,draggables:o},d=ct(t.impact),f=d?s.droppables[d]:null,h=s.draggables[t.critical.draggable.id],c=s.droppables[t.critical.droppable.id],l=Zc({draggable:h,home:c,draggables:o,viewport:t.viewport}),u=l.impact,v=l.afterCritical,p=f&&f.isCombineEnabled?t.impact:u,m=Gc({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:v}),g=oe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:u,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var b=oe({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},ei=function(t){return t.movementMode==="SNAP"},Ta=function(t,n,r){var a=mS(t.dimensions,n);return!ei(t)||r?Vn({state:t,dimensions:a}):Xc({state:t,dimensions:a})};function _a(e){return e.isDragging&&e.movementMode==="SNAP"?oe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var sl={phase:"IDLE",completed:null,shouldFlush:!1},wS=function(e,t){if(e===void 0&&(e=sl),t.type==="FLUSH")return oe({},sl,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&se(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,s=n.movementMode,d=o.draggables[r.draggable.id],f=o.droppables[r.droppable.id],h={selection:a,borderBoxCenter:d.client.borderBox.center,offset:et},c={client:h,page:{selection:nt(h.selection,i.scroll.initial),borderBoxCenter:nt(h.selection,i.scroll.initial),offset:nt(h.selection,i.scroll.diff.value)}},l=da(o.droppables).every(function(te){return!te.isFixedOnPage}),u=Zc({draggable:d,home:f,draggables:o.draggables,viewport:i}),v=u.impact,p=u.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:l,impact:v,afterCritical:p,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&se(!1);var g=oe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||se(!1),CS({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Jt(e)||se(!1);var b=t.payload.client;return Ht(b,e.current.client.selection)?e:Vn({state:e,clientSelection:b,impact:ei(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return _a(e);Jt(e)||se(!1);var x=t.payload,y=x.id,C=x.newScroll,N=e.dimensions.droppables[y];if(!N)return e;var O=Di(N,C);return Ta(e,O,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Jt(e)||se(!1);var I=t.payload,k=I.id,D=I.isEnabled,S=e.dimensions.droppables[k];S||se(!1),S.isEnabled===D&&se(!1);var A=oe({},S,{isEnabled:D});return Ta(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Jt(e)||se(!1);var P=t.payload,_=P.id,L=P.isCombineEnabled,q=e.dimensions.droppables[_];q||se(!1),q.isCombineEnabled===L&&se(!1);var j=oe({},q,{isCombineEnabled:L});return Ta(e,j,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Jt(e)||se(!1),e.isWindowScrollAllowed||se(!1);var Y=t.payload.newScroll;if(Ht(e.viewport.scroll.current,Y))return _a(e);var B=qc(e.viewport,Y);return ei(e)?Xc({state:e,viewport:B}):Vn({state:e,viewport:B})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Jt(e))return e;var $=t.payload.maxScroll;if(Ht($,e.viewport.scroll.max))return e;var T=oe({},e.viewport,{scroll:oe({},e.viewport.scroll,{max:$})});return oe({phase:"DRAGGING"},e,{viewport:T})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&se(!1);var R=aS({state:e,type:t.type});return R?Vn({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var F=t.payload.reason;e.phase!=="COLLECTING"&&se(!1);var U=oe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F});return U}if(t.type==="DROP_ANIMATE"){var z=t.payload,M=z.completed,H=z.dropDuration,W=z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||se(!1);var V={phase:"DROP_ANIMATING",completed:M,dropDuration:H,newHomeClientOffset:W,dimensions:e.dimensions};return V}if(t.type==="DROP_COMPLETE"){var G=t.payload.completed;return{phase:"IDLE",completed:G,shouldFlush:!1}}return e},SS=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},ES=function(t){return{type:"LIFT",payload:t}},OS=function(t){return{type:"INITIAL_PUBLISH",payload:t}},IS=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},DS=function(){return{type:"COLLECTION_STARTING",payload:null}},NS=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},kS=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},AS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Qc=function(t){return{type:"MOVE",payload:t}},PS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},TS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},_S=function(){return{type:"MOVE_UP",payload:null}},RS=function(){return{type:"MOVE_DOWN",payload:null}},MS=function(){return{type:"MOVE_RIGHT",payload:null}},LS=function(){return{type:"MOVE_LEFT",payload:null}},Mi=function(){return{type:"FLUSH",payload:null}},$S=function(t){return{type:"DROP_ANIMATE",payload:t}},Li=function(t){return{type:"DROP_COMPLETE",payload:t}},Jc=function(t){return{type:"DROP",payload:t}},BS=function(t){return{type:"DROP_PENDING",payload:t}},eu=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},FS=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,d=o.clientSelection,f=o.movementMode,h=n();h.phase==="DROP_ANIMATING"&&r(Li({completed:h.completed})),n().phase!=="IDLE"&&se(!1),r(Mi()),r(SS({draggableId:s,movementMode:f}));var c={shouldPublishImmediately:f==="SNAP"},l={draggableId:s,scrollOptions:c},u=e.startPublishing(l),v=u.critical,p=u.dimensions,m=u.viewport;r(OS({critical:v,dimensions:p,clientSelection:d,movementMode:f,viewport:m}))}}}},qS=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},$i={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},er={opacity:{drop:0,combining:.7},scale:{drop:.75}},Bi={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Zt=Bi.outOfTheWay+"s "+$i.outOfTheWay,Wn={fluid:"opacity "+Zt,snap:"transform "+Zt+", opacity "+Zt,drop:function(t){var n=t+"s "+$i.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Zt,placeholder:"height "+Zt+", width "+Zt+", margin "+Zt},cl=function(t){return Ht(t,et)?null:"translate("+t.x+"px, "+t.y+"px)"},ti={moveTo:cl,drop:function(t,n){var r=cl(t);return r?n?r+" scale("+er.scale.drop+")":r:null}},ni=Bi.minDropTime,tu=Bi.maxDropTime,jS=tu-ni,ul=1500,HS=.6,zS=function(e){var t=e.current,n=e.destination,r=e.reason,a=Zn(t,n);if(a<=0)return ni;if(a>=ul)return tu;var i=a/ul,o=ni+jS*i,s=r==="CANCEL"?o*HS:o;return Number(s.toFixed(2))},US=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,o=r.draggables,s=r.droppables,d=ct(t),f=d?s[d]:null,h=s[n.descriptor.droppableId],c=Kc({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:f||h,viewport:a}),l=st(c,n.client.borderBox.center);return l},VS=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!r.at||n!=="DROP"){var s=Yc({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var d=oe({},r,{displaced:Qn});return{impact:d,didDropInsideDroppable:!0}},WS=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(a){if(a.type!=="DROP"){r(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){n(BS({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&se(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||se(!1);var d=i.critical,f=i.dimensions,h=f.draggables[i.critical.draggable.id],c=VS({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),l=c.impact,u=c.didDropInsideDroppable,v=u?ki(l):null,p=u?fa(l):null,m={index:d.draggable.index,droppableId:d.droppable.id},g={draggableId:h.descriptor.id,type:h.descriptor.type,source:m,reason:o,mode:i.movementMode,destination:v,combine:p},b=US({impact:l,draggable:h,dimensions:f,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:l},y=!Ht(i.current.client.offset,b)||!!g.combine;if(!y){n(Li({completed:x}));return}var C=zS({current:i.current.client.offset,destination:b,reason:o}),N={newHomeClientOffset:b,dropDuration:C,completed:x};n($S(N))}}}},nu=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function GS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function YS(e){var t=e.onWindowScroll;function n(){t(nu())}var r=Xn(n),a=GS(r),i=jt;function o(){return i!==jt}function s(){o()&&se(!1),i=vt(window,[a])}function d(){o()||se(!1),r.cancel(),i(),i=jt}return{start:s,stop:d,isActive:o}}var KS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},XS=function(e){var t=YS({onWindowScroll:function(r){e.dispatch(PS({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&KS(r)&&t.stop(),n(r)}}},ZS=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return a.wasCalled=function(){return t},a},QS=function(){var e=[],t=function(i){var o=Ni(e,function(f){return f.timerId===i});o===-1&&se(!1);var s=e.splice(o,1),d=s[0];d.callback()},n=function(i){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:i};e.push(s)},r=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},JS=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},eE=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},tE=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,a=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&a},Fn=function(t,n){n()},Ir=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Ra=function(t,n,r,a){if(!t){r(a(n));return}var i=ZS(r),o={announce:i};t(n,o),i.wasCalled()||r(a(n))},nE=function(e,t){var n=QS(),r=null,a=function(l,u){r&&se(!1),Fn("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var p={draggableId:l,mode:u};v(p)}})},i=function(l,u){r&&se(!1),Fn("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Ir(l,u))})},o=function(l,u){r&&se(!1);var v=Ir(l,u);r={mode:u,lastCritical:l,lastLocation:v.source,lastCombine:null},n.add(function(){Fn("onDragStart",function(){return Ra(e().onDragStart,v,t,_r.onDragStart)})})},s=function(l,u){var v=ki(u),p=fa(u);r||se(!1);var m=!tE(l,r.lastCritical);m&&(r.lastCritical=l);var g=!JS(r.lastLocation,v);g&&(r.lastLocation=v);var b=!eE(r.lastCombine,p);if(b&&(r.lastCombine=p),!(!m&&!g&&!b)){var x=oe({},Ir(l,r.mode),{combine:p,destination:v});n.add(function(){Fn("onDragUpdate",function(){return Ra(e().onDragUpdate,x,t,_r.onDragUpdate)})})}},d=function(){r||se(!1),n.flush()},f=function(l){r||se(!1),r=null,Fn("onDragEnd",function(){return Ra(e().onDragEnd,l,t,_r.onDragEnd)})},h=function(){if(r){var l=oe({},Ir(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});f(l)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:d,drop:f,abort:h}},rE=function(e,t){var n=nE(e,t);return function(r){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;n.flush(),a(i),n.drop(s);return}if(a(i),i.type==="FLUSH"){n.abort();return}var d=r.getState();d.phase==="DRAGGING"&&n.update(d.critical,d.impact)}}}},aE=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&se(!1),e.dispatch(Li({completed:r.completed}))}}},iE=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(eu())}};n=requestAnimationFrame(function(){n=null,t=vt(window,[o])})}}}},oE=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},lE=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},sE=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},cE=function(e){return function(t){return function(n){return function(r){if(sE(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var a=t.getState();a.phase!=="DRAGGING"&&se(!1),e.start(a);return}n(r),e.scroll(t.getState())}}}},uE=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Jc({reason:r.reason})))}}}},dE=Ad,fE=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return Nd(wS,dE(kd(qS(r),oE(t),FS(t),WS,aE,iE,uE,cE(o),XS,lE(n),rE(a,i))))},Ma=function(){return{additions:{},removals:{},modified:{}}};function hE(e){var t=e.registry,n=e.callbacks,r=Ma(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var h=r,c=h.additions,l=h.removals,u=h.modified,v=Object.keys(c).map(function(g){return t.draggable.getById(g).getDimension(et)}).sort(function(g,b){return g.descriptor.index-b.descriptor.index}),p=Object.keys(u).map(function(g){var b=t.droppable.getById(g),x=b.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:x}}),m={additions:v,removals:Object.keys(l),modified:p};r=Ma(),n.publish(m)}))},o=function(h){var c=h.descriptor.id;r.additions[c]=h,r.modified[h.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],i()},s=function(h){var c=h.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],i()},d=function(){a&&(cancelAnimationFrame(a),a=null,r=Ma())};return{add:o,remove:s,stop:d}}var ru=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=st({x:n,y:t},{x:a,y:r}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},au=function(){var e=document.documentElement;return e||se(!1),e},iu=function(){var e=au(),t=ru({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},pE=function(){var e=nu(),t=iu(),n=e.y,r=e.x,a=au(),i=a.clientWidth,o=a.clientHeight,s=r+i,d=n+o,f=St({top:n,left:r,right:s,bottom:d}),h={frame:f,scroll:{initial:e,current:e,max:t,diff:{value:et,displacement:et}}};return h},vE=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,a=pE(),i=a.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(i,n)}),d=r.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(i)}),f={draggables:Rc(d),droppables:_c(s)},h={dimensions:f,critical:t,viewport:a};return h};function dl(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var gE=function(e,t){var n=null,r=hE({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(u,v){e.droppable.exists(u)||se(!1),n&&t.updateDroppableIsEnabled({id:u,isEnabled:v})},i=function(u,v){n&&(e.droppable.exists(u)||se(!1),t.updateDroppableIsCombineEnabled({id:u,isCombineEnabled:v}))},o=function(u,v){n&&(e.droppable.exists(u)||se(!1),t.updateDroppableScroll({id:u,newScroll:v}))},s=function(u,v){n&&e.droppable.getById(u).callbacks.scroll(v)},d=function(){if(n){r.stop();var u=n.critical.droppable;e.droppable.getAllByType(u.type).forEach(function(v){return v.callbacks.dragStopped()}),n.unsubscribe(),n=null}},f=function(u){n||se(!1);var v=n.critical.draggable;u.type==="ADDITION"&&dl(e,v,u.value)&&r.add(u.value),u.type==="REMOVAL"&&dl(e,v,u.value)&&r.remove(u.value)},h=function(u){n&&se(!1);var v=e.draggable.getById(u.draggableId),p=e.droppable.getById(v.descriptor.droppableId),m={draggable:v.descriptor,droppable:p.descriptor},g=e.subscribe(f);return n={critical:m,unsubscribe:g},vE({critical:m,registry:e,scrollOptions:u.scrollOptions})},c={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:h,stopPublishing:d};return c},ou=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},mE=function(e){window.scrollBy(e.x,e.y)},yE=Je(function(e){return da(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),bE=function(t,n){var r=Gt(yE(n),function(a){return a.frame||se(!1),Uc(a.frame.pageMarginBox)(t)});return r},xE=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=bE(t,r);return i},zt={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},CE=function(e,t){var n=e[t.size]*zt.startFromPercentage,r=e[t.size]*zt.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:r};return a},lu=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;if(a===0)return 0;var i=r-t,o=i/a;return o},Fi=1,wE=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return zt.maxPixelScroll;if(e===t.startScrollingFrom)return Fi;var n=lu({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,a=zt.maxPixelScroll*zt.ease(r);return Math.ceil(a)},fl=zt.durationDampening.accelerateAt,hl=zt.durationDampening.stopDampeningAt,SE=function(e,t){var n=t,r=hl,a=Date.now(),i=a-n;if(i>=hl)return e;if(i<fl)return Fi;var o=lu({startOfRange:fl,endOfRange:r,current:i}),s=e*zt.ease(o);return Math.ceil(s)},pl=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=wE(t,n);return i===0?0:a?Math.max(SE(i,r),Fi):i},vl=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=CE(t,a),s=n[a.end]<n[a.start];return s?pl({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*pl({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},EE=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return!i&&!a?r:i&&a?null:{x:i?0:r.x,y:a?0:r.y}},OE=Pc(function(e){return e===0?0:e}),su=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=vl({container:n,distanceToEdges:o,dragStartTime:t,axis:Ai,shouldUseTimeDampening:i}),d=vl({container:n,distanceToEdges:o,dragStartTime:t,axis:$c,shouldUseTimeDampening:i}),f=OE({x:d,y:s});if(Ht(f,et))return null;var h=EE({container:n,subject:r,proposedScroll:f});return h?Ht(h,et)?null:h:null},IE=Pc(function(e){return e===0?0:e>0?1:-1}),qi=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,a=t.change,i=nt(n,a),o={x:e(i.x,r.x),y:e(i.y,r.y)};return Ht(o,et)?null:o}}(),cu=function(t){var n=t.max,r=t.current,a=t.change,i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=IE(a),s=qi({max:i,current:r,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},ji=function(t,n){return cu({current:t.scroll.current,max:t.scroll.max,change:n})},DE=function(t,n){if(!ji(t,n))return null;var r=t.scroll.max,a=t.scroll.current;return qi({current:a,max:r,change:n})},Hi=function(t,n){var r=t.frame;return r?cu({current:r.scroll.current,max:r.scroll.max,change:n}):!1},NE=function(t,n){var r=t.frame;return!r||!Hi(t,n)?null:qi({current:r.scroll.current,max:r.scroll.max,change:n})},kE=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=su({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&ji(t,o)?o:null},AE=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=su({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Hi(t,s)?s:null},gl=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],d=s.page.marginBox;if(t.isWindowScrollAllowed){var f=t.viewport,h=kE({dragStartTime:n,viewport:f,subject:d,center:o,shouldUseTimeDampening:r});if(h){a(h);return}}var c=xE({center:o,destination:ct(t.impact),droppables:t.dimensions.droppables});if(c){var l=AE({dragStartTime:n,droppable:c,subject:d,center:o,shouldUseTimeDampening:r});l&&i(c.descriptor.id,l)}},PE=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Xn(t),a=Xn(n),i=null,o=function(h){i||se(!1);var c=i,l=c.shouldUseTimeDampening,u=c.dragStartTime;gl({state:h,scrollWindow:r,scrollDroppable:a,dragStartTime:u,shouldUseTimeDampening:l})},s=function(h){i&&se(!1);var c=Date.now(),l=!1,u=function(){l=!0};gl({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:u,scrollDroppable:u}),i={dragStartTime:c,shouldUseTimeDampening:l},l&&o(h)},d=function(){i&&(r.cancel(),a.cancel(),i=null)};return{start:s,stop:d,scroll:o}},TE=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(f,h){var c=nt(f.current.client.selection,h);t({client:c})},i=function(f,h){if(!Hi(f,h))return h;var c=NE(f,h);if(!c)return n(f.descriptor.id,h),null;var l=st(h,c);n(f.descriptor.id,l);var u=st(h,l);return u},o=function(f,h,c){if(!f||!ji(h,c))return c;var l=DE(h,c);if(!l)return r(c),null;var u=st(c,l);r(u);var v=st(c,u);return v},s=function(f){var h=f.scrollJumpRequest;if(h){var c=ct(f.impact);c||se(!1);var l=i(f.dimensions.droppables[c],h);if(l){var u=f.viewport,v=o(f.isWindowScrollAllowed,u,l);v&&a(f,v)}}};return s},_E=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=PE({scrollWindow:n,scrollDroppable:t}),i=TE({move:r,scrollWindow:n,scrollDroppable:t}),o=function(f){if(f.phase==="DRAGGING"){if(f.movementMode==="FLUID"){a.scroll(f);return}f.scrollJumpRequest&&i(f)}},s={scroll:o,start:a.start,stop:a.stop};return s},pn="data-rbd",vn=function(){var e=pn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),ri=function(){var e=pn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),RE=function(){var e=pn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ml={contextId:pn+"-scroll-container-context-id"},ME=function(t){return function(n){return"["+n+'="'+t+'"]'}},qn=function(t,n){return t.map(function(r){var a=r.styles[n];return a?r.selector+" { "+a+" }":""}).join(" ")},LE="pointer-events: none;",$E=function(e){var t=ME(e),n=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(vn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:LE,dropAnimating:s}}}(),r=function(){var s=`
      transition: `+Wn.outOfTheWay+`;
    `;return{selector:t(ri.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:t(RE.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,a,i];return{always:qn(o,"always"),resting:qn(o,"resting"),dragging:qn(o,"dragging"),dropAnimating:qn(o,"dropAnimating"),userCancel:qn(o,"userCancel")}},ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,La=function(){var t=document.querySelector("head");return t||se(!1),t},yl=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function BE(e,t){var n=Ne(function(){return $E(e)},[e]),r=E.useRef(null),a=E.useRef(null),i=me(Je(function(c){var l=a.current;l||se(!1),l.textContent=c}),[]),o=me(function(c){var l=r.current;l||se(!1),l.textContent=c},[]);ut(function(){!r.current&&!a.current||se(!1);var c=yl(t),l=yl(t);return r.current=c,a.current=l,c.setAttribute(pn+"-always",e),l.setAttribute(pn+"-dynamic",e),La().appendChild(c),La().appendChild(l),o(n.always),i(n.resting),function(){var u=function(p){var m=p.current;m||se(!1),La().removeChild(m),p.current=null};u(r),u(a)}},[t,o,i,n.always,n.resting,e]);var s=me(function(){return i(n.dragging)},[i,n.dragging]),d=me(function(c){if(c==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),f=me(function(){a.current&&i(n.resting)},[i,n.resting]),h=Ne(function(){return{dragging:s,dropping:d,resting:f}},[s,d,f]);return h}var uu=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function va(e){return e instanceof uu(e).HTMLElement}function FE(e,t){var n="["+vn.contextId+'="'+e+'"]',r=Tc(document.querySelectorAll(n));if(!r.length)return null;var a=Gt(r,function(i){return i.getAttribute(vn.draggableId)===t});return!a||!va(a)?null:a}function qE(e){var t=E.useRef({}),n=E.useRef(null),r=E.useRef(null),a=E.useRef(!1),i=me(function(l,u){var v={id:l,focus:u};return t.current[l]=v,function(){var m=t.current,g=m[l];g!==v&&delete m[l]}},[]),o=me(function(l){var u=FE(e,l);u&&u!==document.activeElement&&u.focus()},[e]),s=me(function(l,u){n.current===l&&(n.current=u)},[]),d=me(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var l=n.current;l&&o(l)}))},[o]),f=me(function(l){n.current=null;var u=document.activeElement;u&&u.getAttribute(vn.draggableId)===l&&(n.current=l)},[]);ut(function(){return a.current=!0,function(){a.current=!1;var l=r.current;l&&cancelAnimationFrame(l)}},[]);var h=Ne(function(){return{register:i,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:s}},[i,f,d,s]);return h}function jE(){var e={draggables:{},droppables:{}},t=[];function n(c){return t.push(c),function(){var u=t.indexOf(c);u!==-1&&t.splice(u,1)}}function r(c){t.length&&t.forEach(function(l){return l(c)})}function a(c){return e.draggables[c]||null}function i(c){var l=a(c);return l||se(!1),l}var o={register:function(l){e.draggables[l.descriptor.id]=l,r({type:"ADDITION",value:l})},update:function(l,u){var v=e.draggables[u.descriptor.id];v&&v.uniqueId===l.uniqueId&&(delete e.draggables[u.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:function(l){var u=l.descriptor.id,v=a(u);v&&l.uniqueId===v.uniqueId&&(delete e.draggables[u],r({type:"REMOVAL",value:l}))},getById:i,findById:a,exists:function(l){return!!a(l)},getAllByType:function(l){return Gr(e.draggables).filter(function(u){return u.descriptor.type===l})}};function s(c){return e.droppables[c]||null}function d(c){var l=s(c);return l||se(!1),l}var f={register:function(l){e.droppables[l.descriptor.id]=l},unregister:function(l){var u=s(l.descriptor.id);u&&l.uniqueId===u.uniqueId&&delete e.droppables[l.descriptor.id]},getById:d,findById:s,exists:function(l){return!!s(l)},getAllByType:function(l){return Gr(e.droppables).filter(function(u){return u.descriptor.type===l})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function HE(){var e=Ne(jE,[]);return E.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var zi=Oe.createContext(null),Kr=function(){var e=document.body;return e||se(!1),e},zE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},UE=function(t){return"rbd-announcement-"+t};function VE(e){var t=Ne(function(){return UE(e)},[e]),n=E.useRef(null);E.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),oe(i.style,zE),Kr().appendChild(i),function(){setTimeout(function(){var d=Kr();d.contains(i)&&d.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var r=me(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return r}var WE=0,GE={separator:"::"};function Ui(e,t){return t===void 0&&(t=GE),Ne(function(){return""+e+t.separator+WE++},[t.separator,e])}function YE(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function KE(e){var t=e.contextId,n=e.text,r=Ui("hidden-text",{separator:"-"}),a=Ne(function(){return YE({contextId:t,uniqueId:r})},[r,t]);return E.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=n,o.style.display="none",Kr().appendChild(o),function(){var d=Kr();d.contains(o)&&d.removeChild(o)}},[a,n]),a}var ga=Oe.createContext(null);function du(e){var t=E.useRef(e);return E.useEffect(function(){t.current=e}),t}function XE(){var e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&se(!1);var s={abandon:o};return e=s,s}function a(){e||se(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:r,release:a,tryAbandon:i}}var ZE=9,QE=13,Vi=27,fu=32,JE=33,e2=34,t2=35,n2=36,r2=37,a2=38,i2=39,o2=40,Dr,l2=(Dr={},Dr[QE]=!0,Dr[ZE]=!0,Dr),hu=function(e){l2[e.keyCode]&&e.preventDefault()},ma=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Gt(t,function(r){return"on"+r in document});return n||e}(),pu=0,bl=5;function s2(e,t){return Math.abs(t.x-e.x)>=bl||Math.abs(t.y-e.y)>=bl}var xl={type:"IDLE"};function c2(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,d=o.clientX,f=o.clientY;if(s===pu){var h={x:d,y:f},c=r();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(h);return}c.type!=="PENDING"&&se(!1);var l=c.point;if(s2(l,h)){o.preventDefault();var u=c.actions.fluidLift(h);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=r();if(s.type==="PENDING"){t();return}if(o.keyCode===Vi){o.preventDefault(),t();return}hu(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=r();if(s.type==="IDLE"&&se(!1),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:ma,fn:t}]}function u2(e){var t=E.useRef(xl),n=E.useRef(jt),r=Ne(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===pu&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var l=e.findClosestDraggableId(c);if(l){var u=e.tryGetLock(l,o,{sourceEvent:c});if(u){c.preventDefault();var v={x:c.clientX,y:c.clientY};n.current(),f(u,v)}}}}}},[e]),a=Ne(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var l=e.findClosestDraggableId(c);if(l){var u=e.findOptionsForDraggable(l);u&&(u.shouldRespectForcePress||e.canGetLock(l)&&c.preventDefault())}}}}},[e]),i=me(function(){var c={passive:!1,capture:!0};n.current=vt(window,[a,r],c)},[a,r]),o=me(function(){var h=t.current;h.type!=="IDLE"&&(t.current=xl,n.current(),i())},[i]),s=me(function(){var h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),d=me(function(){var c={capture:!0,passive:!1},l=c2({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});n.current=vt(window,l,c)},[s,o]),f=me(function(c,l){t.current.type!=="IDLE"&&se(!1),t.current={type:"PENDING",point:l,actions:c},d()},[d]);ut(function(){return i(),function(){n.current()}},[i])}var ln;function d2(){}var f2=(ln={},ln[e2]=!0,ln[JE]=!0,ln[n2]=!0,ln[t2]=!0,ln);function h2(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Vi){i.preventDefault(),n();return}if(i.keyCode===fu){i.preventDefault(),r();return}if(i.keyCode===o2){i.preventDefault(),e.moveDown();return}if(i.keyCode===a2){i.preventDefault(),e.moveUp();return}if(i.keyCode===i2){i.preventDefault(),e.moveRight();return}if(i.keyCode===r2){i.preventDefault(),e.moveLeft();return}if(f2[i.keyCode]){i.preventDefault();return}hu(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ma,fn:n}]}function p2(e){var t=E.useRef(d2),n=Ne(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==fu)return;var o=e.findClosestDraggableId(i);if(!o)return;var s=e.tryGetLock(o,h,{sourceEvent:i});if(!s)return;i.preventDefault();var d=!0,f=s.snapLift();t.current();function h(){d||se(!1),d=!1,t.current(),r()}t.current=vt(window,h2(f,h),{capture:!0,passive:!1})}}},[e]),r=me(function(){var i={passive:!1,capture:!0};t.current=vt(window,[n],i)},[n]);ut(function(){return r(),function(){t.current()}},[r])}var $a={type:"IDLE"},v2=120,g2=.15;function m2(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.keyCode===Vi&&a.preventDefault(),t()}},{eventName:ma,fn:t}]}function y2(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=r();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=i.touches[0],d=s.clientX,f=s.clientY,h={x:d,y:f};i.preventDefault(),o.actions.move(h)}},{eventName:"touchend",fn:function(i){var o=r();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=r();o.type==="IDLE"&&se(!1);var s=i.touches[0];if(s){var d=s.force>=g2;if(d){var f=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){f&&t();return}if(f){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:ma,fn:t}]}function b2(e){var t=E.useRef($a),n=E.useRef(jt),r=me(function(){return t.current},[]),a=me(function(u){t.current=u},[]),i=Ne(function(){return{eventName:"touchstart",fn:function(u){if(!u.defaultPrevented){var v=e.findClosestDraggableId(u);if(v){var p=e.tryGetLock(v,s,{sourceEvent:u});if(p){var m=u.touches[0],g=m.clientX,b=m.clientY,x={x:g,y:b};n.current(),c(p,x)}}}}}},[e]),o=me(function(){var u={capture:!0,passive:!1};n.current=vt(window,[i],u)},[i]),s=me(function(){var l=t.current;l.type!=="IDLE"&&(l.type==="PENDING"&&clearTimeout(l.longPressTimerId),a($a),n.current(),o())},[o,a]),d=me(function(){var l=t.current;s(),l.type==="DRAGGING"&&l.actions.cancel({shouldBlockNextClick:!0}),l.type==="PENDING"&&l.actions.abort()},[s]),f=me(function(){var u={capture:!0,passive:!1},v={cancel:d,completed:s,getPhase:r},p=vt(window,y2(v),u),m=vt(window,m2(v),u);n.current=function(){p(),m()}},[d,r,s]),h=me(function(){var u=r();u.type!=="PENDING"&&se(!1);var v=u.actions.fluidLift(u.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[r,a]),c=me(function(u,v){r().type!=="IDLE"&&se(!1);var p=setTimeout(h,v2);a({type:"PENDING",point:v,actions:u,longPressTimerId:p}),f()},[f,r,a,h]);ut(function(){return o(),function(){n.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a($a))}},[r,o,a]),ut(function(){var u=vt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return u},[])}var x2={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vu(e,t){if(t==null)return!1;var n=!!x2[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:vu(e,t.parentElement)}function C2(e,t){var n=t.target;return va(n)?vu(e,n):!1}var w2=function(e){return St(e.getBoundingClientRect()).center};function S2(e){return e instanceof uu(e).Element}var E2=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Gt(t,function(r){return r in Element.prototype});return n||e}();function gu(e,t){return e==null?null:e[E2](t)?e:gu(e.parentElement,t)}function O2(e,t){return e.closest?e.closest(t):gu(e,t)}function I2(e){return"["+vn.contextId+'="'+e+'"]'}function D2(e,t){var n=t.target;if(!S2(n))return null;var r=I2(e),a=O2(n,r);return!a||!va(a)?null:a}function N2(e,t){var n=D2(e,t);return n?n.getAttribute(vn.draggableId):null}function k2(e,t){var n="["+ri.contextId+'="'+e+'"]',r=Tc(document.querySelectorAll(n)),a=Gt(r,function(i){return i.getAttribute(ri.id)===t});return!a||!va(a)?null:a}function A2(e){e.preventDefault()}function Nr(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function mu(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!(!i||!i.options.isEnabled||!ou(n.getState(),a))}function P2(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,d=mu({lockAPI:t,store:r,registry:a,draggableId:i});if(!d)return null;var f=a.draggable.getById(i),h=k2(n,f.descriptor.id);if(!h||s&&!f.options.canDragInteractiveElements&&C2(h,s))return null;var c=t.claim(o||jt),l="PRE_DRAG";function u(){return f.options.shouldRespectForcePress}function v(){return t.isActive(c)}function p(N,O){Nr({expected:N,phase:l,isLockActive:v,shouldWarn:!0})&&r.dispatch(O())}var m=p.bind(null,"DRAGGING");function g(N){function O(){t.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(O(),l!=="PRE_DRAG"&&se(!1)),r.dispatch(ES(N.liftActionArgs)),l="DRAGGING";function I(k,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),N.cleanup(),D.shouldBlockNextClick){var S=vt(window,[{eventName:"click",fn:A2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(S)}O(),r.dispatch(Jc({reason:k}))}return oe({isActive:function(){return Nr({expected:"DRAGGING",phase:l,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:u,drop:function(D){return I("DROP",D)},cancel:function(D){return I("CANCEL",D)}},N.actions)}function b(N){var O=Xn(function(k){m(function(){return Qc({client:k})})}),I=g({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return O.cancel()},actions:{move:O}});return oe({},I,{move:O})}function x(){var N={moveUp:function(){return m(_S)},moveRight:function(){return m(MS)},moveDown:function(){return m(RS)},moveLeft:function(){return m(LS)}};return g({liftActionArgs:{id:i,clientSelection:w2(h),movementMode:"SNAP"},cleanup:jt,actions:N})}function y(){var N=Nr({expected:"PRE_DRAG",phase:l,isLockActive:v,shouldWarn:!0});N&&t.release()}var C={isActive:function(){return Nr({expected:"PRE_DRAG",phase:l,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:u,fluidLift:b,snapLift:x,abort:y};return C}var T2=[u2,p2,b2];function _2(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?T2:[],a||[]),s=E.useState(function(){return XE()})[0],d=me(function(b,x){b.isDragging&&!x.isDragging&&s.tryAbandon()},[s]);ut(function(){var b=n.getState(),x=n.subscribe(function(){var y=n.getState();d(b,y),b=y});return x},[s,n,d]),ut(function(){return s.tryAbandon},[s.tryAbandon]);for(var f=me(function(g){return mu({lockAPI:s,registry:r,store:n,draggableId:g})},[s,r,n]),h=me(function(g,b,x){return P2({lockAPI:s,registry:r,contextId:t,store:n,draggableId:g,forceSensorStop:b,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,s,r,n]),c=me(function(g){return N2(t,g)},[t]),l=me(function(g){var b=r.draggable.findById(g);return b?b.options:null},[r.draggable]),u=me(function(){s.isClaimed()&&(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Mi()))},[s,n]),v=me(s.isClaimed,[s]),p=Ne(function(){return{canGetLock:f,tryGetLock:h,findClosestDraggableId:c,findOptionsForDraggable:l,tryReleaseLock:u,isLockClaimed:v}},[f,h,c,l,u,v]),m=0;m<o.length;m++)o[m](p)}var R2=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function jn(e){return e.current||se(!1),e.current}function M2(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=E.useRef(null),s=du(e),d=me(function(){return R2(s.current)},[s]),f=VE(t),h=KE({contextId:t,text:i}),c=BE(t,a),l=me(function(k){jn(o).dispatch(k)},[]),u=Ne(function(){return Xi({publishWhileDragging:IS,updateDroppableScroll:NS,updateDroppableIsEnabled:kS,updateDroppableIsCombineEnabled:AS,collectionStarting:DS},l)},[l]),v=HE(),p=Ne(function(){return gE(v,u)},[v,u]),m=Ne(function(){return _E(oe({scrollWindow:mE,scrollDroppable:p.scrollDroppable},Xi({move:Qc},l)))},[p.scrollDroppable,l]),g=qE(t),b=Ne(function(){return fE({announce:f,autoScroller:m,dimensionMarshal:p,focusMarshal:g,getResponders:d,styleMarshal:c})},[f,m,p,g,d,c]);o.current=b;var x=me(function(){var k=jn(o),D=k.getState();D.phase!=="IDLE"&&k.dispatch(Mi())},[]),y=me(function(){var k=jn(o).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),C=Ne(function(){return{isDragging:y,tryAbort:x}},[y,x]);n(C);var N=me(function(k){return ou(jn(o).getState(),k)},[]),O=me(function(){return Jt(jn(o).getState())},[]),I=Ne(function(){return{marshal:p,focus:g,contextId:t,canLift:N,isMovementAllowed:O,dragHandleUsageInstructionsId:h,registry:v}},[t,p,h,g,N,O,v]);return _2({contextId:t,store:b,registry:v,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),E.useEffect(function(){return x},[x]),Oe.createElement(ga.Provider,{value:I},Oe.createElement(gC,{context:zi,store:b},e.children))}var L2=0;function $2(){return Ne(function(){return""+L2++},[])}function yu(e){var t=$2(),n=e.dragHandleUsageInstructions||_r.dragHandleUsageInstructions;return Oe.createElement(pw,null,function(r){return Oe.createElement(M2,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var bu=function(t){return function(n){return t===n}},B2=bu("scroll"),F2=bu("auto"),Cl=function(t,n){return n(t.overflowX)||n(t.overflowY)},q2=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return Cl(r,B2)||Cl(r,F2)},j2=function(){return!1},H2=function e(t){return t==null?null:t===document.body?j2()?t:null:t===document.documentElement?null:q2(t)?t:e(t.parentElement)},ai=function(e){return{x:e.scrollLeft,y:e.scrollTop}},z2=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},U2=function(e){var t=H2(e),n=z2(e);return{closestScrollable:t,isFixedOnPage:n}},V2=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,d=e.closest,f=function(){if(!d)return null;var u=d.scrollSize,v=d.client,p=ru({scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:v,scrollSize:u,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:p,diff:{value:et,displacement:et}}}}(),h=i==="vertical"?Ai:$c,c=hn({page:s,withPlaceholder:null,axis:h,frame:f}),l={descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:h,isEnabled:n,client:o,page:s,frame:f,subject:c};return l},W2=function(t,n){var r=Dc(t);if(!n||t!==n)return r;var a=r.paddingBox.top-n.scrollTop,i=r.paddingBox.left-n.scrollLeft,o=a+n.scrollHeight,s=i+n.scrollWidth,d={top:a,right:s,bottom:o,left:i},f=Oi(d,r.border),h=Ii({borderBox:f,margin:r.margin,border:r.border,padding:r.padding});return h},G2=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,d=e.shouldClipSubject,f=r.closestScrollable,h=W2(t,f),c=Ur(h,a),l=function(){if(!f)return null;var v=Dc(f),p={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:v,page:Ur(v,a),scroll:ai(f),scrollSize:p,shouldClipSubject:d}}(),u=V2({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:h,page:c,closest:l});return u},Y2={passive:!1},K2={passive:!0},wl=function(e){return e.shouldPublishImmediately?Y2:K2};function Xr(e){var t=E.useContext(e);return t||se(!1),t}var kr=function(t){return t&&t.env.closestScrollable||null};function X2(e){var t=E.useRef(null),n=Xr(ga),r=Ui("droppable"),a=n.registry,i=n.marshal,o=du(e),s=Ne(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=E.useRef(s),f=Ne(function(){return Je(function(y,C){t.current||se(!1);var N={x:y,y:C};i.updateDroppableScroll(s.id,N)})},[s.id,i]),h=me(function(){var y=t.current;return!y||!y.env.closestScrollable?et:ai(y.env.closestScrollable)},[]),c=me(function(){var y=h();f(y.x,y.y)},[h,f]),l=Ne(function(){return Xn(c)},[c]),u=me(function(){var y=t.current,C=kr(y);y&&C||se(!1);var N=y.scrollOptions;if(N.shouldPublishImmediately){c();return}l()},[l,c]),v=me(function(y,C){t.current&&se(!1);var N=o.current,O=N.getDroppableRef();O||se(!1);var I=U2(O),k={ref:O,descriptor:s,env:I,scrollOptions:C};t.current=k;var D=G2({ref:O,descriptor:s,env:I,windowScroll:y,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),S=I.closestScrollable;return S&&(S.setAttribute(ml.contextId,n.contextId),S.addEventListener("scroll",u,wl(k.scrollOptions))),D},[n.contextId,s,u,o]),p=me(function(){var y=t.current,C=kr(y);return y&&C||se(!1),ai(C)},[]),m=me(function(){var y=t.current;y||se(!1);var C=kr(y);t.current=null,C&&(l.cancel(),C.removeAttribute(ml.contextId),C.removeEventListener("scroll",u,wl(y.scrollOptions)))},[u,l]),g=me(function(y){var C=t.current;C||se(!1);var N=kr(C);N||se(!1),N.scrollTop+=y.y,N.scrollLeft+=y.x},[]),b=Ne(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:p,dragStopped:m,scroll:g}},[m,v,p,g]),x=Ne(function(){return{uniqueId:r,descriptor:s,callbacks:b}},[b,s,r]);ut(function(){return d.current=x.descriptor,a.droppable.register(x),function(){t.current&&m(),a.droppable.unregister(x)}},[b,s,m,x,i,a.droppable]),ut(function(){t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ut(function(){t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Ba(){}var Sl={width:0,height:0,margin:xw},Z2=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate;return n||a==="close"?Sl:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Q2=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate,i=Z2({isAnimatingOpenOnMount:n,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Wn.placeholder:null}};function J2(e){var t=E.useRef(null),n=me(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=E.useState(e.animate==="open"),d=s[0],f=s[1];E.useEffect(function(){return d?r!=="open"?(n(),f(!1),Ba):t.current?Ba:(t.current=setTimeout(function(){t.current=null,f(!1)}),n):Ba},[r,d,n]);var h=me(function(l){l.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),c=Q2({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Oe.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:h,ref:e.innerRef})}var eO=Oe.memo(J2),Wi=Oe.createContext(null),tO=function(e){fc(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Oe.PureComponent),El={dragging:5e3,dropAnimating:4500},nO=function(t,n){return n?Wn.drop(n.duration):t?Wn.snap:Wn.fluid},rO=function(t,n){return t?n?er.opacity.drop:er.opacity.combining:null},aO=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function iO(e){var t=e.dimension,n=t.client,r=e.offset,a=e.combineWith,i=e.dropping,o=!!a,s=aO(e),d=!!i,f=d?ti.drop(r,o):ti.moveTo(r),h={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:nO(s,i),transform:f,opacity:rO(o,d),zIndex:d?El.dropAnimating:El.dragging,pointerEvents:"none"};return h}function oO(e){return{transform:ti.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function lO(e){return e.type==="DRAGGING"?iO(e):oO(e)}function sO(e,t,n){n===void 0&&(n=et);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Ic(a,r),o=Ur(i,n),s={client:i,tagName:t.tagName.toLowerCase(),display:r.display},d={x:i.marginBox.width,y:i.marginBox.height},f={descriptor:e,placeholder:s,displaceBy:d,client:i,page:o};return f}function cO(e){var t=Ui("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,d=Ne(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),f=me(function(u){var v=a();return v||se(!1),sO(n,v,u)},[n,a]),h=Ne(function(){return{uniqueId:t,descriptor:n,options:d,getDimension:f}},[n,f,d,t]),c=E.useRef(h),l=E.useRef(!0);ut(function(){return r.draggable.register(c.current),function(){return r.draggable.unregister(c.current)}},[r.draggable]),ut(function(){if(l.current){l.current=!1;return}var u=c.current;c.current=h,r.draggable.update(h,u)},[h,r.draggable])}function uO(e){e.preventDefault()}function dO(e){var t=E.useRef(null),n=me(function(k){t.current=k},[]),r=me(function(){return t.current},[]),a=Xr(ga),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,d=Xr(Wi),f=d.type,h=d.droppableId,c=Ne(function(){return{id:e.draggableId,index:e.index,type:f,droppableId:h}},[e.draggableId,e.index,f,h]),l=e.children,u=e.draggableId,v=e.isEnabled,p=e.shouldRespectForcePress,m=e.canDragInteractiveElements,g=e.isClone,b=e.mapped,x=e.dropAnimationFinished;if(!g){var y=Ne(function(){return{descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:v}},[c,s,r,m,p,v]);cO(y)}var C=Ne(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":u,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:uO}:null},[i,o,u,v]),N=me(function(k){b.type==="DRAGGING"&&b.dropping&&k.propertyName==="transform"&&x()},[x,b]),O=Ne(function(){var k=lO(b),D=b.type==="DRAGGING"&&b.dropping?N:null,S={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":u,style:k,onTransitionEnd:D},dragHandleProps:C};return S},[i,C,u,b,N,n]),I=Ne(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return l(O,b.snapshot,I)}var xu=function(e,t){return e===t},Cu=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},fO=function(t){return t.combine?t.combine.draggableId:null},hO=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function pO(){var e=Je(function(a,i){return{x:a,y:i}}),t=Je(function(a,i,o,s,d){return{isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),n=Je(function(a,i,o,s,d,f,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:i,offset:a,dimension:o,forceShouldAnimate:h,snapshot:t(i,s,d,f,null)}}}),r=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,d=i.dimensions.draggables[o.draggableId],f=ct(i.impact),h=hO(i.impact),c=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,d,o.isClone,f,h,c)}if(i.phase==="DROP_ANIMATING"){var l=i.completed;if(l.result.draggableId!==o.draggableId)return null;var u=o.isClone,v=i.dimensions.draggables[o.draggableId],p=l.result,m=p.mode,g=Cu(p),b=fO(p),x=i.dropDuration,y={duration:x,curve:$i.drop,moveTo:i.newHomeClientOffset,opacity:b?er.opacity.drop:null,scale:b?er.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:y,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,u,g,b,y)}}}return null};return r}function wu(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var vO={mapped:{type:"SECONDARY",offset:et,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wu(null)}};function gO(){var e=Je(function(o,s){return{x:o,y:s}}),t=Je(wu),n=Je(function(o,s,d){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:d,snapshot:t(s)}}}),r=function(s){return s?n(et,s,!0):null},a=function(s,d,f,h){var c=f.displaced.visible[s],l=!!(h.inVirtualList&&h.effected[s]),u=fa(f),v=u&&u.draggableId===s?d:null;if(!c){if(!l)return r(v);if(f.displaced.invisible[s])return null;var p=kn(h.displacedBy.point),m=e(p.x,p.y);return n(m,v,!0)}if(l)return r(v);var g=f.displacedBy.point,b=e(g.x,g.y);return n(b,v,c.shouldAnimate)},i=function(s,d){if(s.isDragging)return s.critical.draggable.id===d.draggableId?null:a(d.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var f=s.completed;return f.result.draggableId===d.draggableId?null:a(d.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null};return i}var mO=function(){var t=pO(),n=gO(),r=function(i,o){return t(i,o)||n(i,o)||vO};return r},yO={dropAnimationFinished:eu},bO=Ec(mO,yO,null,{context:zi,pure:!0,areStatePropsEqual:xu})(dO);function Su(e){var t=Xr(Wi),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Oe.createElement(bO,e)}function ya(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Oe.createElement(Su,oe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function xO(e){var t=E.useContext(ga);t||se(!1);var n=t.contextId,r=t.isMovementAllowed,a=E.useRef(null),i=E.useRef(null),o=e.children,s=e.droppableId,d=e.type,f=e.mode,h=e.direction,c=e.ignoreContainerClipping,l=e.isDropDisabled,u=e.isCombineEnabled,v=e.snapshot,p=e.useClone,m=e.updateViewportMaxScroll,g=e.getContainerForClone,b=me(function(){return a.current},[]),x=me(function(S){a.current=S},[]);me(function(){return i.current},[]);var y=me(function(S){i.current=S},[]),C=me(function(){r()&&m({maxScroll:iu()})},[r,m]);X2({droppableId:s,type:d,mode:f,direction:h,isDropDisabled:l,isCombineEnabled:u,ignoreContainerClipping:c,getDroppableRef:b});var N=Oe.createElement(tO,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(S){var A=S.onClose,P=S.data,_=S.animate;return Oe.createElement(eO,{placeholder:P,onClose:A,innerRef:y,animate:_,contextId:n,onTransitionEnd:C})}),O=Ne(function(){return{innerRef:x,placeholder:N,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}},[n,s,N,x]),I=p?p.dragging.draggableId:null,k=Ne(function(){return{droppableId:s,type:d,isUsingCloneFor:I}},[s,I,d]);function D(){if(!p)return null;var S=p.dragging,A=p.render,P=Oe.createElement(Su,{draggableId:S.draggableId,index:S.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(_,L){return A(_,L,S)});return Dd.createPortal(P,g())}return Oe.createElement(Wi.Provider,{value:k},o(O,v),D())}var Fa=function(t,n){return t===n.droppable.type},Ol=function(t,n){return n.draggables[t.draggable.id]},CO=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=oe({},t,{shouldAnimatePlaceholder:!1}),r=Je(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=Je(function(o,s,d,f,h,c){var l=h.descriptor.id,u=h.descriptor.droppableId===o;if(u){var v=c?{render:c,dragging:r(h.descriptor)}:null,p={isDraggingOver:d,draggingOverWith:d?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:v}}if(!s)return n;if(!f)return t;var m={isDraggingOver:d,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),i=function(s,d){var f=d.droppableId,h=d.type,c=!d.isDropDisabled,l=d.renderClone;if(s.isDragging){var u=s.critical;if(!Fa(h,u))return n;var v=Ol(u,s.dimensions),p=ct(s.impact)===f;return a(f,c,p,p,v,l)}if(s.phase==="DROP_ANIMATING"){var m=s.completed;if(!Fa(h,m.critical))return n;var g=Ol(m.critical,s.dimensions);return a(f,c,Cu(m.result)===f,ct(m.impact)===f,g,l)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var b=s.completed;if(!Fa(h,b.critical))return n;var x=ct(b.impact)===f,y=!!(b.impact.at&&b.impact.at.type==="COMBINE"),C=b.critical.droppable.id===f;return x?y?t:n:C?t:n}return n};return i},wO={updateViewportMaxScroll:TS};function SO(){return document.body||se(!1),document.body}var EO={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:SO},mr=Ec(CO,wO,null,{context:zi,pure:!0,areStatePropsEqual:xu})(xO);mr.defaultProps=EO;const OO=be.div`
  margin-top: 16px;
  margin-bottom: 16px;

  .listTitle {
    margin-bottom: 8px;
  }

  .isShow {
    display: flex;
  }

  .isHidden {
    display: none;
  }

  .ant-col {
    margin-bottom: 1px dashed #9f9f9f;
  }

  .addCheckItem {
    color: #9f9f9f;
    cursor: pointer;
    padding: 8px 0;
  }

  .addCheckItemTextArea {
    margin-bottom: 8px;
  }
`,IO=be.div`
  .isCompletedTitle {
    text-decoration: line-through;
  }

  .isShow {
    display: block;
  }

  .isHidden {
    display: none;
  }

  .underline {
    text-decoration: underline;
  }
`,Eu=be(Fe)`
  min-height: 32px;
  border-bottom: 1px dashed #9f9f9f;
  padding: 5px 8px;

  .checkbox {
    margin-right: 8px;
  }

  .checkboxLoading {
    margin-right: 10px;
  }

  .itemName {
    cursor: pointer;
  }

  .checkbox .ant-checkbox-inner {
    background-color: #ffffff;
    border-color: #ffffff;
  }

  /* Checkbox 選中狀態 */
  .checkbox .ant-checkbox-checked .ant-checkbox-inner {
    background-color: #9f9f9f;
    border-color: #9f9f9f;
  }

  .deleteIcon {
    course: pointer;
    padding: 0;
    position: absolute;
    top: 0;
    right: 0;
    z-index: 1;

    .ant-btn {
      height: auto;
      padding: 0;
    }
  }

  .lineThrough {
    text-decoration: line-through;
  }
`,DO=({itemData:{_id:e,checklistId:t,name:n,completed:r}})=>{const a=Ie(),i=He(),[o,s]=E.useState(!1),[d,f]=E.useState(n),[h,c]=E.useState(!1),[l,u]=E.useState(!1),[v,p]=E.useState(!1),[m,g]=E.useState(!1),[b,x]=E.useState(!1),y=async I=>{x(!0);try{await a(Zi({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e,completed:I}))}catch(k){console.error(k)}finally{x(!1)}},C=()=>{c(d!==n)},N=async()=>{if(d.trim()!==""){p(!0);try{await a(Zi({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e,name:d}))}catch(I){console.error(I)}finally{p(!1),s(!1)}}},O=async I=>{I.stopPropagation(),g(!0);try{await a(Td({cardId:(i==null?void 0:i._id)||"",checklistId:t,checkItemId:e}))}catch(k){console.error(k)}finally{g(!1)}};return E.useLayoutEffect(()=>{C()},[o,d]),Z(Eu,{gutter:0,align:"top",children:[w(xe,{flex:"none",children:b?w(li,{className:"checkboxLoading"}):w(Yn,{className:"checkbox",checked:r,onChange:I=>{y(I.target.checked)}})}),Z(xe,{flex:"auto",children:[w(Fe,{align:"middle",children:Z(xe,{span:24,onMouseOver:()=>u(!0),onMouseLeave:()=>u(!1),children:[Z("div",{className:o?"isHidden":"isShow",onClick:()=>{s(!0)},children:[w("div",{className:`itemName ${r?"lineThrough":""}`,children:n}),l&&w("span",{className:"deleteIcon",children:w(ce,{type:"link",icon:w(Pd,{}),onClick:I=>O(I),loading:m})})]}),w("div",{className:h&&!o?"isShow":"isHidden",children:Z(Ze,{children:[w("span",{children:"你在這個項目有未儲存的編輯內容。"}),w(ce,{size:"small",type:"link",children:w("span",{onClick:()=>s(!0),className:"underline",children:"檢視編輯"})}),"|",w(ce,{size:"small",type:"link",children:w("span",{onClick:()=>f(n),className:"underline",children:"放棄"})})]})})]})}),w(Fe,{children:w(xe,{span:24,className:o?"isShow":"isHidden",children:Z(Fe,{gutter:[16,4],children:[w(xe,{span:24,children:w(Qe.TextArea,{value:d,onChange:I=>f(I.target.value),onPressEnter:I=>{I.preventDefault(),N()},placeholder:"填寫待辦項目"})}),w(xe,{span:24,children:Z(Ze,{children:[w(ce,{type:"primary",size:"small",onClick:N,loading:v,children:"儲存"}),w(ce,{size:"small",onClick:()=>s(!1),children:"取消"})]})})]})})})]})]})},NO=({itemsData:e})=>Z(IO,{children:[w(_d,{percent:(()=>{const n=e.length,r=e.filter(a=>a.completed).length;return Math.round(r/n*100)})()}),e.sort((n,r)=>+n.position-+r.position).map((n,r)=>w(ya,{draggableId:n._id,index:r,children:(a,i)=>w(Fe,{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,style:{...a.draggableProps.style,background:(()=>n.completed?"#E9E9E9":i.isDragging?"#83E3FF":"#D6F3FF")()},children:w(xe,{span:24,children:w(DO,{itemData:n})})})},n._id))]}),kO=({listData:{_id:e,name:t,checkItem:n,cardId:r}})=>{const a=Ie(),[i,o]=E.useState(!1),[s,d]=E.useState(t),[f,h]=E.useState(!1),[c,l]=E.useState(""),[u,v]=E.useState(!1),[p,m]=E.useState(!1),[g,b]=E.useState(!1),[x,y]=E.useState(!1),C=async()=>{if(s.trim()){m(!0);try{await a(Rd({cardId:r,checklistId:e,name:s}))}catch(I){console.error(I)}finally{m(!1),o(!1)}}},N=async()=>{if(c.trim()){b(!0);try{await a(Md({cardId:r,checklistId:e,name:c,position:`${yt(n)}`})),l("")}catch(I){console.error(I)}finally{b(!1),h(!1)}}};return Z(OO,{children:[w(Fe,{justify:"space-between",align:"middle",gutter:0,className:"listTitle",children:Z(xe,{span:24,children:[Z(Fe,{className:i?"isHidden":"isShow",justify:"space-between",align:"middle",gutter:0,children:[w(xe,{flex:"auto",children:w("div",{onClick:()=>o(!0),children:t})}),w(xe,{flex:"none",children:w(Wt,{overlayStyle:{width:"300px"},trigger:"click",title:w(Le,{children:w(Fe,{justify:"center",gutter:0,children:w(xe,{flex:"none",children:Z(Ze,{size:8,children:[w(Bl,{style:{color:"red"}}),"刪除待辦清單"]})})})}),content:Z(Fe,{gutter:0,children:[Z(xe,{span:24,children:[w("br",{}),'確定要刪除"',t,'"嗎？',w("br",{}),"(刪除待辦清單是永久性的，無法復原)",w("br",{}),w("br",{})]}),w(xe,{span:24,children:w(ce,{block:!0,danger:!0,onClick:async()=>{y(!0);try{await a(Ld({cardId:r,checklistId:e}))}catch(I){console.error(I)}finally{y(!1),v(!1)}},loading:x,children:"刪除"})}),w(xe,{span:24,children:w(ce,{block:!0,type:"text",onClick:()=>v(!1),children:"取消"})})]}),open:u,children:w(ce,{onClick:()=>v(!0),children:"刪除"})})})]}),Z(Fe,{className:i?"isShow":"isHidden",gutter:[16,4],children:[w(xe,{span:24,children:w(Qe.TextArea,{value:s,onChange:I=>d(I.target.value),onPressEnter:I=>{I.preventDefault(),C()},placeholder:"填寫待辦清單名稱..."})}),w(xe,{span:24,children:Z(Ze,{children:[w(ce,{type:"primary",size:"small",onClick:C,loading:p,children:"儲存"}),w(ce,{size:"small",onClick:()=>o(!1),children:"取消"})]})})]})]})}),Z(Le,{children:[w(NO,{itemsData:n}),Z(Fe,{gutter:[16,4],className:`addCheckItem ${f?"isShow":"isHidden"}`,children:[w(xe,{span:24,children:w(Qe.TextArea,{value:c,onChange:I=>l(I.target.value),onPressEnter:I=>{I.preventDefault(),N()},placeholder:"填寫待辦項目...",className:"addCheckItemTextArea"})}),w(xe,{span:24,children:Z(Ze,{children:[w(ce,{type:"primary",onClick:N,loading:g,children:"新增"}),w(ce,{onClick:()=>h(!1),children:"取消"})]})})]}),w(Eu,{gutter:0,className:f?"isHidden":"isShow",children:w(xe,{span:24,onClick:()=>h(!0),children:Z(Ze,{size:8,children:[w(nn,{}),w("span",{className:"addCheckItem",children:"新增待辦項目"})]})})})]})]})},AO=({checkLists:e})=>w(Le,{children:e.sort((t,n)=>+t.position-+n.position).map((t,n)=>w(ya,{draggableId:t._id,index:n,children:(r,a)=>w("div",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,style:{...r.draggableProps.style},children:w(mr,{droppableId:t._id,type:"QUOTE",ignoreContainerClipping:void 0,isDropDisabled:void 0,isCombineEnabled:!1,renderClone:void 0,children:(i,o)=>Z("div",{ref:i.innerRef,style:{minHeight:"1px"},children:[w(kO,{listData:t}),i.placeholder]})})})},t._id))}),PO=()=>{const e=Ie(),t=He(),n=fn.cloneDeep((t==null?void 0:t.checklist)||[]);return w(yu,{onDragEnd:r=>{const a=Gs(r,n,"CheckList");a&&t&&e($d({cardId:t==null?void 0:t._id,checklist:a}))},children:w(mr,{droppableId:"board",type:"COLUMN",direction:"vertical",ignoreContainerClipping:!1,isCombineEnabled:!1,children:r=>Z(Fe,{ref:r.innerRef,gutter:8,style:{minHeight:"1px",flexDirection:"column"},children:[w(AO,{checkLists:n}),r.placeholder]})})})},TO=()=>Z(dg,{style:ug,children:[Z(Fe,{justify:"space-between",align:"top",style:{marginBottom:"16px"},children:[w(nC,{}),w(cC,{})]}),w(uC,{}),w(dC,{}),w(PO,{}),w(Xx,{}),w(lC,{})]}),_O=()=>{const e=He(),[t,n]=E.useState(!1),r=Ie();return Z(Wt,{placement:"bottom",trigger:"click",open:t,onOpenChange:n,content:w(Hl,{accept:".png, .jpg, .gif",onChange:({file:a})=>{a.status==="done"&&Pt({message:`${a.name} 上傳成功`}),a.status==="error"&&Pt({message:`${a.name} 上傳失敗`,success:!1})},customRequest:async a=>{var i,o;if(typeof a.file=="string"||!e){(i=a.onError)==null||i.call(a,new Error("上傳錯誤"));return}try{await r(zl({file:a.file,filename:`${a.filename}`,cardId:e._id})),(o=a.onSuccess)==null||o.call(a,"")}finally{n(!1)}},children:w(ce,{children:"上傳封面圖片"})}),children:[Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(Vl,{})}),w("span",{children:"附件"})]}),!(e!=null&&e.attachment.length)&&Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(_v,{})}),w("span",{children:"封面"})]})]})},Ou=e=>{const t=Te(tr),[n,r]=E.useState(t.filter(({board:i})=>i.length).map(({id:i,name:o,board:s})=>({value:i,label:o,children:s.map(({id:d,name:f})=>({value:d,label:f,isLeaf:!1}))}))),a=async i=>{const o=i[i.length-1];if(!o||i.length!==2)return;const{result:s}=await Wl(`${o.value}`);o.children=s.list.sort((d,f)=>+d.position-+f.position).map(({id:d,name:f,card:h})=>({value:d,label:f,children:[...h.sort((c,l)=>+c.position-+l.position).map((c,l,u)=>({value:yt(u,l),label:l})),{value:yt(h,h.length),label:h.length}]})),r([...n])};return w(ye.Item,{...e,children:w(ds,{placement:"bottomRight",options:n,loadData:a})})},RO=()=>{const e=Ie(),t=rn(),n=He(),[r]=ye.useForm(),[a,i]=E.useState({isLoading:!1,isPopoverOpen:!1}),o=async({name:s,cascader:[,d,f,h]})=>{if(n){i(c=>({...c,isLoading:!0}));try{await e(Bd({name:s,boardId:d,listId:f,sourceCardId:n.id,position:`${h}`}))}catch{}t(`/board/${d}`),i({isPopoverOpen:!1,isLoading:!1})}};return w(Wt,{placement:"bottom",trigger:"click",open:a.isPopoverOpen,onOpenChange:s=>{i({isLoading:!1,isPopoverOpen:s})},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"複製卡片"}),content:w(xt,{spinning:a.isLoading,children:Z(ye,{layout:"vertical",form:r,onFinish:o,children:[w(ye.Item,{label:"標題",name:"name",rules:[{required:!0,message:"請輸入標題!"}],children:w(Qe,{})}),w(Ou,{label:"複製到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(ye.Item,{children:w(ce,{type:"primary",htmlType:"submit",children:"建立卡片"})})]})}),children:Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(ks,{})}),w("span",{children:"複製"})]})})},MO=()=>{const e=Ie(),t=rn(),n=He(),[r,a]=E.useState(!1);return Z(ce,{className:"button-link",loading:r,onClick:async()=>{if(n){a(!0);try{await e(Fd(n._id)),t(`/board/${n.boardId}`)}catch{}a(!1)}},children:[w("span",{style:{marginRight:"6px"},children:w(ev,{})}),w("span",{children:"封存"})]})},LO=()=>{const e=Ie(),t=rn(),n=He(),[r]=ye.useForm(),[a,i]=E.useState({isLoading:!1,isPopoverOpen:!1}),o=async({cascader:[,s,d,f]})=>{if(n){i(h=>({...h,isLoading:!0}));try{await e(di({boardId:s,listId:d,sourceBoardId:n.boardId,cardId:n.id,position:`${f}`}))}catch{}t(`/board/${s}`),i({isPopoverOpen:!1,isLoading:!1})}};return w(Wt,{placement:"bottom",trigger:"click",open:a.isPopoverOpen,onOpenChange:s=>{i({isLoading:!1,isPopoverOpen:s})},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"移動卡片"}),content:w(xt,{spinning:a.isLoading,children:Z(ye,{layout:"vertical",form:r,onFinish:o,children:[w(Ou,{label:"移動到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(ye.Item,{children:w(ce,{type:"primary",htmlType:"submit",children:"移動"})})]})}),children:Z("a",{className:"button-link",children:[w("span",{style:{marginRight:"6px"},children:w(Kp,{})}),w("span",{children:"移動"})]})})},Il=({title:e,data:t,className:n})=>Z("div",{className:n,children:[w("h3",{children:e}),w("div",{className:"action-list",children:t.map(r=>Z(ce,{block:!0,className:"button-link",onClick:r.onClickEvent,children:[w("span",{style:{marginRight:"6px"},children:r.icon}),w("span",{children:r.label})]},r.label))})]}),$O=()=>{const e=Ie(),{setOpenPopover:t,PopoverType:n}=ir(),[r,a]=E.useState(!1),[i,o]=E.useState(!1),[s,d]=E.useState(!1),f=Te(l=>l.user.user._id),h=He(),c=async()=>{const l=h==null?void 0:h._id;if(l){a(!0);try{await e(si({cardId:l,userIdList:[f]})),Pt({message:"加入成功"})}catch{}a(!1)}};return w(Le,{children:Z(Jx,{style:Qx,children:[!(h!=null&&h.member.some(l=>l.userId._id===f))&&Z(xe,{children:[w("h4",{children:"建議"}),w(ce,{className:"button-link",onClick:c,icon:w(Ha,{}),loading:r,children:"加入"})]}),i&&w(uc,{setIsOpenAddMember:o,style:{top:" 32px",left:0}}),s&&w(dc,{setIsOpenLabel:d,style:{top:"64px"}}),w(Il,{className:"mid",title:"新增至卡片",data:[{label:"成員",value:"member",icon:w(Ha,{}),onClickEvent:()=>{o(!0)}},{label:"標籤",value:"label",icon:w(Fs,{}),onClickEvent:()=>{d(!0)}},{label:"代辦清單",value:"checklist",icon:w(yi,{}),onClickEvent:()=>{t({isShow:!0,type:n.CHECKLIST,position:{top:230,right:20}})}},{label:"日期",value:"date",icon:w(hs,{}),onClickEvent:()=>{t({isShow:!0,type:n.DATE,position:{top:100,right:20}})}}]}),w(_O,{}),w(Il,{className:"mid",title:"動作",data:[]}),w(LO,{}),w(RO,{}),w(Lr,{style:{margin:"8px 0"}}),w(MO,{}),Z(ce,{className:"button-link",onClick:()=>{navigator.clipboard.writeText(window.location.href),Pt({message:"已複製到剪貼簿"})},children:[w("span",{style:{marginRight:"6px"},children:w(wv,{})}),w("span",{children:"分享"})]})]})})},BO={color:"var(--modal-color)"},FO=be(ci)``,qO=be(Ul)`
  .ant-modal-close {
    width: 24px;
    height: 24px;
    top: 24px;
    right: 24px;
  }

  .ant-modal-content {
    color: var(--modal-color);
    padding-top: 0;
    padding-left: 0;
    padding-right: 0;
  }

  .ant-modal-body {
    padding-left: 24px;
    padding-right: 24px;
  }

  .spin {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
`,jO=()=>Z(FO,{style:BO,children:[w(TO,{}),w($O,{})]}),HO=()=>{const e=He(),t=rn(),n=Ie();E.useEffect(()=>{e&&n(qd(e._id))},[e==null?void 0:e._id]);const r=()=>{t(`/board/${e==null?void 0:e.boardId}`)};return e?Z(qO,{open:!!e,onOk:r,onCancel:r,width:768,title:w(sg,{}),footer:null,children:[w(jO,{}),w(ng,{})]}):null},Iu=E.createContext(null),zO=({children:e})=>{const t=Te(jd),n=E.useRef(null),[r,a]=E.useState(!1),[i,o]=E.useState();E.useEffect(()=>(n.current=new WebSocket(t),n.current.addEventListener("open",()=>{a(!0)}),n.current.addEventListener("error",d=>{a(!1),console.error(d)}),n.current.addEventListener("close",d=>{a(!1),console.log(d)}),n.current.addEventListener("message",d=>{const f=JSON.parse(d.data);f.type==="update"&&o(f.result)}),()=>{n.current&&r&&n.current.close()}),[]);const s=d=>{n.current&&r&&n.current.send(JSON.stringify(d))};return w(Iu.Provider,{value:[i,s],children:e})},UO=()=>{const e=E.useContext(Iu);if(!e)throw new Error;return e},VO=be.div`
  margin-bottom: 16px;
  .left-head {
    color: white;
    font-size: 24px;
    font-weight: 700;
    display: flex;
  }
  .right-head {
    display: flex;
    column-gap: 16px;
  }
`,Dl=be(ce)`
  color: white;
  background-color: var(--black23);
  padding: 8px;
  display: flex;
  align-items: center;
  height: 36px;
`,WO=be.div`
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,GO=be.div`
  .top-border {
    border-top: 1px solid var(--grayd5);
    padding: 8px 0;
  }
  .listBtn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .hoverBtn:hover {
    background-color: black;
    opacity: 0.3;
  }
`,YO=({headerState:e,setHeaderState:t,setOpenPopover:n})=>{const r={MENU:"選單",USER:"查看看板管理員",SETTING:"設定",LABEL:"標籤",ARCHIVE:"封存"}[e];return w(WO,{children:Z(Le,{children:[r,w(ce,{size:"small",type:"text",icon:w(dt,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>{n(!1),t("MENU")}}),e!=="MENU"&&w(ce,{size:"small",type:"text",style:{position:"absolute",left:-2,top:2},icon:w(dn,{style:{color:"var(--gray66)",fontSize:"16px"}}),onClick:()=>t("MENU")})]})})},KO=()=>{const e=Ie(),t=Te(bt),[n,r]=E.useState(),[a,i]=E.useState(!1);return E.useEffect(()=>{i(!0),Hd(t._id).then(({result:o})=>{r(o)}).finally(()=>{i(!1)})},[]),Z(xt,{spinning:a,className:"top-border",style:{paddingBottom:0},children:[Z(Le,{children:[w("p",{children:"卡片"}),n==null?void 0:n.closedCard.map(({name:o,_id:s})=>Z("div",{children:[o,w(ce,{type:"primary",onClick:async()=>{i(!0);try{await e(di({cardId:s,closed:!1})),r({...n,closedCard:n.closedCard.filter(d=>d._id!==s)})}catch{}i(!1)},children:"發送到看板"}),w(ce,{danger:!0,type:"primary",onClick:async()=>{i(!0);try{await e(zd(s)),r({...n,closedCard:n.closedCard.filter(d=>d._id!==s)})}catch{}i(!1)},children:"刪除"})]},s))]}),w("br",{}),Z(Le,{children:[w("p",{children:"列表"}),n==null?void 0:n.closedList.map(({name:o,_id:s})=>Z("div",{children:[o,w(ce,{type:"primary",onClick:async()=>{i(!0);try{await e(Ud({listId:s,closed:!1})),r({...n,closedList:n.closedList.filter(d=>d._id!==s)})}catch{}i(!1)},children:"發送到看板"})]},s))]})]})},XO=be.div`
  .createLabelView {
    position: absolute;
    width: 250px;
    background: #ffffff;
    box-shadow: 0px -1px 16px rgba(0, 0, 0, 0.16);
    right: -15px;
    top: 19px;
    border-radius: 8px;
  }
  .peopleTitle {
    display: flex;
    height: 40px;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    text-align: center;
    border-bottom: 1px solid var(--ds-border, #091e4221);
  }
  .label {
    font-size: 14px;
    line-height: 16px;
    margin-top: 12px;
  }
  .top-border {
    margin-top: 10px;
  }
  .hoverBtn {
    width: 100%;
    height: 100%;
    position: absolute;
    border-radius: 4px;
    left: 0;
    top: 0;
  }
`,ZO=be.div`
  position: relative;
  width: 100%;
  height: 101px;
  background-color: var(--ds-surface-sunken, #f4f5f7);

  div {
    position: absolute;
    width: 80%;
    height: 40%;
    background-color: ${({labelColor:e})=>e};
    left: 10%;
    top: 30%;
    text-align: center;
    line-height: 40px;
    font-size: 16px;
    border-radius: 4px;
  }
`,QO=be(ce)`
  color: white;
  background-color: ${({color:e})=>e};
  border: 1px solid white;
  border-radius: 4px;
  width: 31%;
  height: 36px;
  margin-top: 8px;
  margin-right: 5.2px;
`,JO=be(Qe)`
  width: 100%;
  height: 32px;
  border-radius: 4px;
  margin-top: 8px;
`,eI=be(ce)`
  color: ${({color:e})=>e};
  background-color: ${e=>e["background-color"]};
  border: 1px solid white;
  border-radius: 4px;
  width: 100%;
  height: 34px;
  padding: 0 12px;
  margin-top: 10px;
`,tI=be(ce)`
  width: 32px;
  height: 32px;
  padding: 0;
  margin-top: 10px;
  color: var(--gray66);
  z-index: 0;
`,nI=be(ce)`
  font-weight: bold;
  color: white;
  border: 1px solid white;
  border-radius: 4px;
  width: 100%;
  height: 38px;
  margin-top: -15px;
  background-color: #d4d4d4;
  &:hover {
    background-color: #bebebe;
  }
`,Nl=be(ce)`
  width: ${({width:e})=>e};
  height: 32px;
  margin-top: 5px;
  border-radius: 4px;
`,rI=({labelId:e,setState:t})=>{const n=Ie(),r=Te(bt),a=Te(Vd(e)),[i]=ye.useForm(),o=ye.useWatch("labelName",i),s=ye.useWatch("labelColor",i),[d,f]=E.useState(!1),h=async u=>{f(!0);try{e&&a?await n(ql({name:u.labelName,color:u.labelColor,boardId:a.boardId,labelId:a._id})):await n(Fl({name:u.labelName,color:u.labelColor,boardId:r._id}))}catch{}f(!1),l()},c=async()=>{if(a){f(!0);try{await n(jl({boardId:a.boardId,labelId:a._id}))}catch{}f(!1),l()}},l=()=>{t("NONE")};return Z("div",{className:"createLabelView",style:{zIndex:2060},children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"標籤"}),w(ce,{size:"small",type:"text",icon:w(dt,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>t("NONE")})]}),Z(ye,{form:i,initialValues:e?{labelName:a==null?void 0:a.name,labelColor:a==null?void 0:a.color}:{labelName:"",labelColor:"#DFE1E6"},onFinish:h,children:[w(ZO,{labelColor:s,children:w("div",{children:o})}),Z("div",{style:{padding:"0 12px"},children:[w("p",{className:"label",children:"標題"}),w(ye.Item,{name:"labelName",rules:[{required:!0,message:"請輸入標籤名稱!"}],children:w(JO,{placeholder:"輸入標籤名稱"})}),w("p",{className:"label",style:{marginTop:"-12px"},children:"選一個顏色"}),w(ye.Item,{name:"labelColor",children:w("div",{children:Nt==null?void 0:Nt.map(({color:u})=>w(QO,{type:"text",color:u,onClick:()=>{i.setFieldValue("labelColor",u)},children:w("div",{className:"hoverBtn"})},u))})}),w(nI,{className:"createLabelBtn",type:"primary",icon:w(dt,{}),disabled:s==="#DFE1E6",onClick:()=>i.setFieldValue("labelColor","#DFE1E6"),children:"移除顏色"}),Z("div",{className:"top-border",style:e?{display:"flex",justifyContent:"space-between"}:void 0,children:[w(Nl,{htmlType:"submit",width:e?"40%":"50%",loading:d,children:e?"儲存":"建立"}),e&&w(Nl,{width:"40%",danger:!0,loading:d,onClick:()=>c(),children:"刪除"})]})]})]})]})},aI=({openEdit:e})=>{const t=Te(bt),[n,r]=E.useState(""),a=t==null?void 0:t.label.filter(({name:i})=>i.includes(n));return Z(Le,{children:[w(Qe,{allowClear:!0,placeholder:"搜尋標籤...",onChange:i=>{r(i.target.value)}}),w(Ze,{style:{display:"flex"},children:w(Ze.Compact,{direction:"vertical",style:{width:200},children:a.map(i=>Z("div",{style:{display:"flex",justifyContent:"center"},children:[w(eI,{color:wi(i.color)?"white":"black","background-color":i.color,onClick:()=>e(i._id),children:i.name}),w(tI,{type:"text",icon:w(ui,{}),onClick:()=>e(i._id)})]},i._id))})})]})},iI=()=>{const[e,t]=E.useState("NONE"),[n,r]=E.useState("");return Z(XO,{className:"top-border",children:[w(aI,{openEdit:i=>{t("EDIT"),r(i)}}),w(ce,{type:"primary",style:{width:"100%",height:"32px",marginTop:"13px",borderRadius:"4px",marginBottom:"-5px"},onClick:()=>t("CREATE"),children:"建立新標籤"}),e!=="NONE"&&w(rI,{labelId:n,setState:t})]})},oI=be(ce)`
  width: 100%;
  span:last-child {
    margin: 0;
  }
  display: flex;
  align-items: center;
`,en=e=>w(oI,{...e,type:"text",style:{padding:0},children:e.text}),lI=()=>{var d;const[e,t]=E.useState({isLoading:!1,isPopoverOpen:!1}),[n]=ye.useForm(),{boardId:r}=Qr(),a=Te(tr),i=rn(),o=Ie(),s=async f=>{if(r){t(h=>({...h,isLoading:!0}));try{await o(Wd({...f,sourceBoardId:r})),i(`/workspace/${f.organizationId}/home`)}catch{}t({isPopoverOpen:!1,isLoading:!1})}};return w(Wt,{placement:"bottom",trigger:"click",open:e.isPopoverOpen,onOpenChange:f=>{t(h=>({...h,isPopoverOpen:f}))},title:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:"複製看板"}),content:w(xt,{spinning:e.isLoading,children:Z(ye,{layout:"vertical",form:n,onFinish:s,initialValues:{organizationId:(d=a.find(({board:f})=>f.map(({id:h})=>h).includes(`${r}`)))==null?void 0:d.id},children:[w(ye.Item,{name:"name",label:"看板名稱",rules:[{required:!0,message:"請輸入看板名稱!"}],children:w(Qe,{})}),w(ye.Item,{name:"organizationId",label:"工作區",rules:[{required:!0,message:"請選擇工作區!"}],children:w(gn,{onChange:f=>{n.setFieldsValue({organizationId:f})},options:a.map(({_id:f,name:h})=>({value:f,label:h}))})}),w(ye.Item,{children:w(ce,{htmlType:"submit",type:"primary",children:"新建"})})]})}),children:w(en,{icon:w(ks,{style:{fontSize:"20px",marginRight:"12px"}}),text:"複製看板"})})},sI=({setHeaderState:e})=>Z(Le,{children:[Z("div",{className:"top-border listBtn",children:[w(en,{icon:w(Ha,{style:{fontSize:"20px",marginRight:"12px"}}),text:"查看看板管理員",onClick:()=>e("USER")}),w(en,{icon:w(bv,{style:{fontSize:"20px",marginRight:"12px"}}),text:"設定",onClick:()=>e("SETTING")}),w(en,{icon:w(Fs,{style:{fontSize:"20px",marginRight:"12px"}}),text:"標籤",onClick:()=>e("LABEL")}),w(en,{icon:w(Ps,{style:{fontSize:"20px",marginRight:"12px"}}),text:"已封存的項目",onClick:()=>e("ARCHIVE")})]}),Z("div",{className:"top-border listBtn",children:[w(lI,{}),w(en,{icon:w(Dv,{style:{fontSize:"20px",marginRight:"12px"}}),text:"分享",onClick:()=>{}})]}),w("div",{className:"top-border",style:{paddingBottom:0},children:w(en,{icon:w(lv,{style:{fontSize:"20px",marginRight:"12px"}}),text:"退出看板",danger:!0})})]}),cI=({setState:e,setPeople:t})=>{const n=r=>{const a=r.currentTarget.innerText.split(`

`)[0];t(a),e("NONE")};return Z("div",{className:"peopleView",children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"評論權限"}),w(ce,{size:"small",type:"text",icon:w(dt,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>e("NONE")})]}),Z("div",{className:"peopleContent",children:[Z(ce,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["Disabled",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"沒有人可以發表評論"})]}),Z(ce,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["成員",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"管理員及成員可以發表評論"})]}),Z(ce,{type:"text",onClick:n,style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["工作區成員",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:"此工作區的所有成員皆可發表評論"})]})]})]})},uI=({setState:e})=>{const t=Te(bt),n=Te(tr),r=n.find(({_id:f})=>f===(t==null?void 0:t.organizationId)),a=Ie(),i=rn(),[o,s]=E.useState(!1);return Z("div",{className:"changeWorkSpaceView",children:[Z("div",{className:"peopleTitle",children:[w("p",{children:"變更工作區"}),w(ce,{size:"small",type:"text",icon:w(dt,{style:{color:"var(--gray66)"}}),style:{position:"absolute",right:3},onClick:()=>e("NONE")})]}),w("div",{className:"",children:w("div",{style:{position:"relative"},children:Z(ye,{onFinish:async f=>{t&&(s(!0),await a(Gd({name:t.name,organizationId:f.orgID,permission:t.permission,closed,boardId:t._id})),await a(Yd(f.orgID)),s(!1),i(`/workspace/${f.orgID}/home`))},style:{maxWidth:400,padding:"0 12px",width:"310px"},children:[w(ye.Item,{name:"orgID",label:"該看板隸屬於",style:{marginTop:"-3px"},children:w(gn,{placeholder:r==null?void 0:r.name,allowClear:!0,style:{position:"absolute",top:"30px",left:"-60px",width:"120%",marginLeft:"-38px"},options:n.map(({_id:f,name:h})=>({value:f,label:h}))})}),w(ye.Item,{name:"boardOrgName",children:w(ce,{type:"primary",htmlType:"submit",style:{position:"absolute",width:"80%",top:"15px",left:"-2px"},loading:o,children:"修改"})})]})})})]})},dI=be.div`
  .peopleView {
    position: absolute;
    width: 250px;
    height: 260px;
    background: #ffffff;
    box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.16);
    right: -25px;
    top: 0px;
    border-radius: 8px;
  }
  .peopleTitle {
    display: flex;
    height: 40px;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    text-align: center;
    border-bottom: 1px solid var(--ds-border, #091e4221);
  }

  .changeWorkSpaceView {
    position: absolute;
    width: 250px;
    height: 160px;
    background: #ffffff;
    box-shadow: 0px -1px 16px rgba(0, 0, 0, 0.16);
    right: -25px;
    top: 19px;
    border-radius: 8px;
  }
`,fI=()=>{var f;const[e,t]=E.useState("NONE"),[n,r]=E.useState("成員"),a=Te(bt),o=(f=Te(tr).find(({_id:h})=>h===(a==null?void 0:a.organizationId)))==null?void 0:f.name;return Z(dI,{children:[w("div",{className:"top-border",children:Z(ce,{type:"text",onClick:()=>{t("WORKSPACE")},style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["變更工作區...",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:o})]})}),w("div",{className:"top-border",children:Z(ce,{type:"text",onClick:()=>{t("PEOPLE")},style:{width:"100%",textAlign:"left",padding:"0 12px",height:"64px",lineHeight:"32px"},children:["評論權限...",w("p",{style:{fontSize:"12px",marginTop:"-10px",marginLeft:"2px",color:"gray"},children:n})]})}),e==="WORKSPACE"&&w(uI,{setState:t}),e==="PEOPLE"&&w(cI,{setState:t,setPeople:r})]})},hI=()=>{const e=Te(Kd);return w("div",{className:"top-border",style:{paddingBottom:0},children:e==null?void 0:e.map(({userId:t})=>Z("div",{style:{display:"flex"},children:[w(ft,{src:t.avatar}),w("p",{style:{marginTop:"5px",marginLeft:"5px"},children:t.name})]},t._id))})},pI=({headerState:e,setHeaderState:t})=>Z(GO,{children:[e==="MENU"&&w(sI,{setHeaderState:t}),e==="USER"&&w(hI,{}),e==="SETTING"&&w(fI,{}),e==="LABEL"&&w(iI,{}),e==="ARCHIVE"&&w(KO,{})]}),vI=({role:e,userId:{name:t,avatar:n}})=>Z("div",{className:"d-space",style:{marginBottom:"12px"},children:[Z("div",{className:"d-flex",children:[w(ft,{src:n,style:{width:"40px",height:"40px"}}),Z("div",{style:{marginLeft:"8px"},children:[w("div",{style:{color:"var(--black23)"},children:t}),w("div",{style:{fontSize:"12px",color:"var(--gray9f)"},children:`@${t}`})]})]}),Z("div",{className:"d-flex",style:{alignItems:"center"},children:[w(gn,{defaultValue:e,style:{width:"100px"},size:"large",options:[{value:"manager",label:"管理員"},{value:"editor",label:"成員"},{value:"viewer",label:"一般"}]}),w(ce,{shape:"circle",danger:!0,style:{width:"24px",height:"24px",padding:0,minWidth:"auto",marginLeft:"8px"},icon:w(hv,{})})]})]}),gI=({open:e,setOpen:t})=>{var h;const n=Te(bt),r=Ie(),[a]=ye.useForm(),[i,o]=E.useState(!1),[s,d]=E.useState({userIdList:[]});return Z(Xd,{open:e,footer:null,onCancel:()=>t(!1),width:576,children:[w("div",{className:"header",children:"邀請看板成員"}),Z(ye,{form:a,onFinish:async()=>{o(!0);try{await r(Jd({boardId:n._id,userIdList:s.userIdList}))}catch{}d({userIdList:[]}),t(!1),o(!1),a.resetFields()},children:[w(ye.Item,{name:"invite",className:"user",children:w(Zd,{selectedUsers:s,setSelectedUsers:d})}),w(ye.Item,{initialValue:"user",className:"select",children:w(gn,{options:[{value:"manager",label:"管理員"},{value:"editor",label:"成員"},{value:"viewer",label:"一般"}]})}),w(ye.Item,{className:"btn",children:w(ce,{type:"primary",htmlType:"submit",loading:i,children:"邀請"})})]}),(h=n.member)==null?void 0:h.map(c=>E.createElement(vI,{...c,key:c.userId._id})),w(Lr,{style:{margin:"12px 0"}}),Z("div",{className:"d-flex",style:{justifyContent:"right",alignItems:"center"},children:[w("p",{children:"透過連結邀請新成員加入看板"}),w(Qd,{setOpen:t,style:{backgroundColor:"var(--graye9)",marginLeft:"16px"},type:"BOARD"})]})]})},mI=()=>{var s;const e=Te(bt),[t,n]=E.useState(!1),[r,a]=E.useState(!1),[i,o]=E.useState("MENU");return Z(VO,{className:"d-space",children:[Z("div",{className:"left-head",children:[w(ef,{color:"#A0D7FF",text:"",size:"24px",fontSize:"14px",background:`linear-gradient(
                  112.89deg,
                  #0083ff 1.48%,
                  rgba(128, 0, 255, 0.86) 100%
                )`,"background-image":(e==null?void 0:e.image)&&`url(${e.image})`}),w("p",{style:{marginLeft:"16px"},children:e==null?void 0:e.name})]}),Z("div",{className:"right-head",children:[w(ft.Group,{children:(s=e==null?void 0:e.member)==null?void 0:s.map(({userId:{avatar:d,name:f,_id:h}})=>w($l,{placement:"top",title:f,children:w(ft,{src:d})},h))}),w(Dl,{icon:w(xa.FilterOutlined,{style:{fontSize:"16px"}}),children:"篩選"}),w(Dl,{icon:w(xa.TeamOutlined,{style:{fontSize:"16px"}}),onClick:()=>n(!0),children:"邀請成員"}),w(Wt,{placement:"bottomRight",arrow:!1,title:w(YO,{headerState:i,setHeaderState:o,setOpenPopover:a}),content:w(pI,{headerState:i,setHeaderState:o}),trigger:"click",open:r,onOpenChange:d=>{d||o("MENU"),a(d)},children:w(ce,{type:"link",style:{width:"32px",height:"32px",padding:0},children:w(xa.DashOutlined,{style:{color:"white",fontSize:"16px"}})})})]}),w(gI,{open:t,setOpen:n})]})},yI=be(ye)`
  height: ${e=>e.useadd==="true"?"88px":"40px"};
  display: flex;
  background-color: ${e=>e.useadd==="true"?"var(--gray66)":"var(--black23)"};
  min-width: 280px;
  width: 280px;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  .addCard {
    color: white;
    font-size: 16px;
    font-weight: 700;
    padding: 4px 12px 4px 8px;
    width: 109px;
    height: 32px;
  }
  .addCard:hover {
    background-color: var(--black);
    border-radius: 8px;
  }
`,bI=()=>{const e=Te(bt),t=Ie(),[n,r]=E.useState(!1),[a,i]=E.useState(!1),[o,s]=E.useState(""),d=E.useRef(null),f=async()=>{i(!0);try{await t(tf({name:o,boardId:e._id,position:`${yt(e.list)}`}))}catch{}i(!1),r(!1)};return E.useEffect(()=>{n&&d.current.focus({cursor:"start"})},[n]),w(Le,{children:a?w("div",{children:w(xt,{})}):w(yI,{useadd:n.toString(),onBlur:()=>r(!1),onMouseDown:h=>h.preventDefault(),onFinish:f,children:Z(Fe,{children:[w("a",{onClick:()=>{r(h=>!h),s("")},className:"addCard",style:{display:n?"none":"block"},children:Z(xe,{flex:"auto",children:[w(nn,{style:{fontSize:"16px",marginRight:"10px"}}),"新增列表"]})}),Z(xe,{style:{display:n?"block":"none",width:"100%",transition:"all 10s ease"},children:[Z(ye.Item,{style:{marginBottom:0},children:[w(Qe,{type:"text",name:"title",placeholder:"輸入標題",value:o,onChange:h=>s(h.target.value),autoComplete:"off",ref:d,style:{width:"224px"}}),w(ce,{type:"text",icon:w(dt,{style:{color:"white"}}),onClick:()=>{r(!1)},style:{marginLeft:"5px"}})]}),w(ye.Item,{style:{marginTop:"8px",display:"flex",justifyContent:"center",marginBottom:0},children:w(ce,{htmlType:"submit",type:"primary",style:{padding:"4px 12px"},disabled:o.length<2,children:"新增"})})]})]})})})},Du=E.createContext(null),xI=({children:e})=>{const[t,n]=E.useState(!1),[r,a]=E.useState("NONE");return w(Du.Provider,{value:{showAddCard:t,setShowAddCard:n,popoverState:r,setPopoverState:a},children:e})},Tt=()=>{const e=E.useContext(Du);if(!e)throw new Error;return e},CI=({listId:e})=>{const t=Ie(),{setShowAddCard:n,setPopoverState:r}=Tt(),[a,i]=E.useState(!1);return Z(xt,{spinning:a,children:[w(Ar,{className:"popoverList",selectedKeys:[],items:[{key:"newCard",label:"新增卡片",onClick:()=>{n(!0),r("NONE")}},{key:"CLONE",label:"複製列表",onClick:()=>r("CLONE")},{key:"MOVE",label:"移動列表",onClick:()=>r("MOVE")}]}),w(Lr,{style:{margin:"8px 0"}}),w(Ar,{className:"popoverList",selectedKeys:[],items:[{key:"MOVE_CARD",label:"移動這個列表裡的所有卡片",onClick:()=>r("MOVE_CARD")},{key:"CLOSED_CARD",label:"封存這個列表裡的所有卡片",onClick:()=>r("CLOSED_CARD")}]}),w(Lr,{style:{margin:"8px 0"}}),w(Ar,{className:"popoverList",selectedKeys:[],items:[{key:"closeList",label:"封存這個列表",onClick:async()=>{i(!0);try{await t(nf(e))}catch{}i(!1),r("NONE")}}]})]})},wI=({listId:e})=>{const t=Ie(),n=Te(bt),r=Te(fi(e)),{setPopoverState:a}=Tt(),[i,o]=E.useState(!1),s=async({name:d})=>{if(!r)return;o(!0);const f=(()=>{const h=n.list.map(({_id:l,position:u})=>({_id:l,position:u})).sort((l,u)=>+l.position-+u.position),c=1+h.findIndex(({_id:l})=>l===r._id);return`${yt(h,c)}`})();try{await t(rf({sourceListId:r._id,name:d,position:f}))}catch{}o(!1),a("NONE")};return w(xt,{spinning:i,children:Z(ye,{layout:"vertical",initialValues:{name:r==null?void 0:r.name},onFinish:s,children:[w(ye.Item,{name:"name",label:"名子",children:w(Qe.TextArea,{})}),w(ye.Item,{children:w(ce,{type:"primary",htmlType:"submit",children:"建立列表"})})]})})},SI=({listId:e})=>{const t=Ie(),{setPopoverState:n}=Tt(),[r,a]=E.useState(!1);return Z(xt,{spinning:r,children:[w("p",{children:"將移除所有本看板中此列表上的卡片。如欲閱覽已封存的卡片並將卡片移回看板，請點選「選單」>「已封存的項目」。"}),w(ce,{danger:!0,type:"primary",onClick:async()=>{a(!0);try{await t(af(e))}catch{}a(!1),n("NONE")},children:"全部封存"})]})},EI=e=>{const t=Te(tr),[n,r]=E.useState(t.filter(({board:i})=>i.length).map(({id:i,name:o,board:s})=>({value:i,label:o,children:s.map(({id:d,name:f})=>({value:d,label:f,isLeaf:!1}))}))),a=async i=>{const o=i[i.length-1];if(!o||i.length!==2)return;const{result:s}=await Wl(`${o.value}`);o.children=[...s.list.sort((d,f)=>+d.position-+f.position).map((d,f,h)=>({value:yt(h,f),label:f})),{value:yt(s.list,s.list.length),label:s.list.length}],r([...n])};return w(ye.Item,{...e,children:w(ds,{placement:"bottomRight",options:n,loadData:a})})},OI=({listId:e})=>{const t=Ie(),n=Te(fi(e)),{setPopoverState:r}=Tt(),[a,i]=E.useState(!1);return w(xt,{spinning:a,children:Z(ye,{layout:"vertical",onFinish:async({cascader:[,s,d]})=>{if(n){i(!0);try{await t(of({listId:n._id,sourceBoardId:n.boardId,boardId:s,position:`${d}`}))}catch{}i(!1),r("NONE")}},children:[w(EI,{label:"移動到...",name:"cascader",rules:[{required:!0,message:"請選擇位置!"}]}),w(ye.Item,{children:w(ce,{type:"primary",htmlType:"submit",children:"移動"})})]})})},II=({listId:e})=>{const t=Ie(),{setPopoverState:n}=Tt(),r=Te(bt),[a,i]=E.useState(!1),o=async s=>{const[d,f]=[e,s].map(c=>{var l;return fn.cloneDeep((l=r.list.find(({_id:u})=>u===c))==null?void 0:l.card)});if(!d||!f)return;i(!0);const h=d.map(c=>(c.position=`${yt(f)}`,f.push(c),t(di({cardId:c._id,position:c.position,listId:s}))));try{await Promise.all(h)}catch{}i(!1),n("NONE")};return w(xt,{spinning:a,children:w(Ar,{className:"popoverList",selectedKeys:[],items:[...r.list].sort((s,d)=>+s.position-+d.position).map(({_id:s,name:d})=>({key:s,label:Z(Le,{children:[d,s===e&&" (目前版本)"]}),disabled:s===e})),onClick:({key:s})=>o(s)})})},DI=({listId:e})=>{const{popoverState:t}=Tt();return Z(Le,{children:[t==="ACTION"&&w(CI,{listId:e}),t==="CLOSED_CARD"&&w(SI,{listId:e}),t==="MOVE_CARD"&&w(II,{listId:e}),t==="MOVE"&&w(OI,{listId:e}),t==="CLONE"&&w(wI,{listId:e})]})},NI=be.div`
  display: flex;
  align-content: center;
  justify-content: space-between;
  .button-hover:hover {
    background-color: var(--black);
  }
`,kI=be.div`
  position: relative;
  display: flex;
  align-content: center;
  justify-content: center;
  .title {
    line-height: 41px;
  }
  .popoverCloseIcon {
    position: absolute;
    top: 5px;
    right: 0px;
  }
  border-bottom: 1px solid var(--divider-gray);
`,AI=()=>{const{popoverState:e,setPopoverState:t}=Tt(),n={NONE:"",ACTION:"列表動作",CLOSED_CARD:"封存此列表上的所有卡片？",MOVE:"移動列表",CLONE:"複製列表",MOVE_CARD:"移動所有列表中的卡片"}[e];return Z(kI,{children:[w("span",{className:"title",children:n}),w(ce,{icon:w(dt,{}),type:"text",className:"popoverCloseIcon",onClick:()=>t("NONE")}),e!=="ACTION"&&w(ce,{type:"text",style:{position:"absolute",left:-2,top:5},icon:w(dn,{}),onClick:()=>t("ACTION")})]})},PI=({listId:e})=>{const{setShowAddCard:t,popoverState:n,setPopoverState:r}=Tt(),a=Te(fi(e));return Z(NI,{children:[w("div",{className:"d-flex",style:{fontSize:"16px",lineHeight:"150%",fontWeight:700},children:a==null?void 0:a.name}),Z("div",{className:"d-flex",children:[w(ce,{className:"button-hover",type:"text",icon:w(nn,{style:{color:"white"}}),title:"新增卡片",onClick:()=>t(!0)}),w(Wt,{placement:"bottomLeft",content:w(DI,{listId:e}),title:w(AI,{}),trigger:"click",open:n!=="NONE",arrow:!1,onOpenChange:i=>{r(i?"ACTION":"NONE")},overlayStyle:{width:"280px"},children:w(ce,{icon:w(Gl,{style:{color:"white"}}),type:"text",className:"button-hover"})})]})]})},TI=be(Lt)`
  width: 280px;
  border: 0px;

  .ant-card-meta-title {
    color: white;
  }
  background-color: ${e=>e.isdragging==="true"?" var(--gray66)":"var(--black23)"};

  animation: ${e=>e.isdragging==="true"&&"rotate 0s linear forwards"};

  @keyframes rotate {
    100% {
      transform: rotate(-5.75deg);
    }
  }
  .ant-card-body {
    padding: 8px;
  }
`,_I=be.div`
  overflow-x: hidden;
  overflow-y: ${e=>e.internalScroll?"auto":"hidden"};
  max-height: calc(100vh - 106px);
`,RI=be.div`
  display: ${e=>e.show==="true"?"none":"block"};
  height: 37px;
  margin-top: 8px;
  width: 264px;
  height: 37px;
  .add-title {
    width: 100%;
  }
  .add-title:hover {
    background-color: #404040 !important;
  }
  span {
    margin-inline-start: 12px !important;
  }
`,MI=be(Lt)`
  padding: 8px;
  min-height: 1px;
  background-color: var(--gray66);
  border-radius: 8px;
  display: ${e=>e.useadd==="true"?"block":"none"};
  .bottom-func {
    margin-top: 8px;
    display: flex;
  }
  width: 100%;
  cursor: pointer;
`,LI=()=>{const{showAddCard:e,setShowAddCard:t}=Tt();return w(RI,{show:e.toString(),children:w(ce,{type:"text",icon:w(nn,{style:{color:"white"}}),className:"add-title",onClick:()=>t(!0),style:{color:"white",backgroundColor:"var(--black23)",height:"100%"},children:"新增卡片"})})},$I=be.div`
  display: flex;
  padding: 0 12px;
  margin-top: 8px;
  .checkList {
    display: flex;
    width: 235px;
    overflow: hidden;
  }
  .items {
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-left: 5px;
  }
`,BI=be.div`
  display: flex;
  padding: 0 12px;
  margin-top: 6px;
  background-color: ${({dueComplete:e,isDue:t})=>e==="true"?"#1f845a":t==="true"?"#ffedeb":void 0};
  color: ${({dueComplete:e,isDue:t})=>e==="true"?"#ffffff":t==="true"?"#ae2a19":void 0};
  .showDate {
    margin-left: 8px;
    letter-spacing: 2px;
  }
`,FI=be.div`
  display: flex;
  justify-content: space-around;
  width: 160px;
  padding: 0 8px;
  margin-top: 6px;
  .mgleft5 {
    margin-left: 5px;
  }
`,qI=be.div`
  display: flex;
  padding: 0px 4px;
  color: ${e=>e.color};
  background-color: ${e=>e.backgroundColor};
`,jI=be.div`
  display: flex;
  margin-left: 7px;
  margin-top: 5px;
`,HI=be.div`
  background-color: ${({color:e})=>e};
  width: 24px;
  height: 8px;
  border-radius: 3px;
  margin-left: 5px;
`,zI=({checklist:e})=>w(Le,{children:e.length>0&&Z($I,{children:[w("div",{children:w(yi,{})}),w("div",{className:"checkList",children:e.map(({name:t,_id:n})=>w("p",{className:"items",children:`${t}、`},n))})]})}),UI=({date:e})=>{const t=Date.now()-new Date((e==null?void 0:e.dueDate)||"").getTime()>0,n=r=>{const a=new Date(r.startDate).getMonth()+1,i=new Date(r.dueDate).getMonth()+1,o=new Date(r.startDate).getDate(),s=new Date(r.dueDate).getDate();return r.startDate&&r.dueDate?`${a}月${o}日-${i}月${s}日`:r.startDate?`${a}月${o}日`:`${i}月${s}日`};return e&&Z(BI,{dueComplete:e==null?void 0:e.dueComplete.toString(),isDue:t.toString(),children:[w("div",{children:w(hs,{})}),w("div",{className:"showDate",children:n(e)})]})},VI=({commentLength:e,attachmentLength:t,checklist:n})=>{const r=e>0||t>0||n.length>0,a=n.flatMap(({checkItem:o})=>o).length,i=n.flatMap(({checkItem:o})=>o).filter(({completed:o})=>o).length;return w(Le,{children:r&&Z(FI,{children:[w("div",{children:w(Wp,{})}),e>0&&Z("div",{className:"d-flex",children:[w("div",{children:w(uv,{})}),w("div",{className:"mgleft5",children:e})]}),t>0&&Z("div",{className:"d-flex",children:[w("div",{children:w(Vl,{})}),w("div",{className:"mgleft5",children:t})]}),a>0&&Z(qI,{color:i===a?"#ffffff":"",backgroundColor:i===a?"#1f845a":"",children:[w("div",{children:w(yi,{})}),w("div",{className:"mgleft5",children:`${i}/${a}`})]})]})})},WI=({label:e})=>w(jI,{children:e.map(({_id:t,color:n})=>w(HI,{color:n},t))}),GI=({member:e})=>w(Le,{children:e.map(({userId:{_id:t,avatar:n}})=>w(ft.Group,{style:{marginTop:"6px",position:"relative"},children:w(ft,{src:n,style:{marginRight:"-10px",left:"10px"}})},t))}),YI=({name:e})=>w("div",{style:{height:"21px",fontSize:"14px",fontWeight:"700",lineHeight:"150%",padding:"0 12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),KI=({lists:e})=>{const t=rn();return w(Le,{children:e.card.sort((n,r)=>+n.position-+r.position).map(({id:n,name:r,attachment:a,label:i,checklist:o,date:s,member:d,comment:f,boardId:h},c)=>w(ya,{draggableId:n,index:c,children:(l,u)=>w("div",{...l.draggableProps,...l.dragHandleProps,ref:l.innerRef,"data-is-dragging":u.isDragging,"data-index":c,"aria-label":`${r} quote`,children:Z(Lt,{size:"small",className:"trello-card-inner",style:{display:"flex",flexDirection:"column",rowGap:"5px"},cover:w("img",{src:a!=null&&a.length?a[0].dirname:"",style:{height:a!=null&&a.length?133:0,objectFit:"cover"}}),onClick:()=>{t(`/board/${h}/cards/${n}`)},children:[w(YI,{name:r}),w(WI,{label:i}),w(zI,{checklist:o}),w(VI,{commentLength:f.length,attachmentLength:a.length,checklist:o}),w(UI,{date:s}),w(GI,{member:d})]})})},n))})},XI=Oe.memo(KI),ZI=({list:e})=>{const{showAddCard:t,setShowAddCard:n}=Tt(),r=Ie(),[a,i]=E.useState(""),[o,s]=E.useState(!1),d=E.useRef(null);return E.useEffect(()=>{t&&(d!=null&&d.current)&&(d==null||d.current.focus({cursor:"start"}))},[t]),w(xt,{spinning:o,children:w(MI,{useadd:t.toString(),bordered:!1,bodyStyle:{padding:0},children:Z("div",{tabIndex:t?0:void 0,onBlur:()=>{i(""),n(!1)},onMouseDown:f=>f.preventDefault(),children:[Z("div",{className:"d-center",children:[w(Qe,{value:a,onChange:f=>i(f.target.value),ref:d,placeholder:"輸入標題",style:{width:"calc(100% - 24px - 24px - 24px)"}}),w(ce,{className:"d-center",type:"text",icon:w(dt,{style:{color:"white"}}),onClick:()=>{n(!1)},style:{marginLeft:"16px",height:"24px",width:"24px"}}),w(ce,{className:"d-center",type:"text",icon:w(Gl,{style:{color:"white"}}),style:{marginLeft:"8px",height:"24px",width:"24px"}})]}),w("div",{className:"bottom-func",children:w(ce,{type:"primary",onClick:async()=>{if(!(a.length<2)){s(!0);try{await r(lf({name:a,position:`${yt(e.card)}`,listId:e.id,boardId:e.boardId}))}catch{}s(!1),n(!1),i("")}},style:{backgroundColor:"var(--black23)",width:"100%"},children:"新增卡片"})})]})})})},QI=({listType:e,isCombineEnabled:t,internalScroll:n,quotes:r})=>w(mr,{droppableId:r.id,type:e,ignoreContainerClipping:void 0,isDropDisabled:void 0,isCombineEnabled:t,renderClone:void 0,children:(a,i)=>w("div",{children:w(_I,{internalScroll:n,children:Z("div",{ref:a.innerRef,style:{minHeight:"1px",display:"flex",flexDirection:"column",rowGap:"8px"},children:[w(XI,{lists:r,dropProvided:a,isDrag:i.isDraggingOver}),w(ZI,{list:r}),a.placeholder]})})})}),JI=e=>{const t=e.index,n=e.quotes.id,r=e.quotes.name;return w(xI,{children:w(ya,{draggableId:n,index:t,children:(a,i)=>w("div",{ref:a.innerRef,...a.draggableProps,children:Z(TI,{size:"small",isdragging:i.isDragging.toString(),children:[w(Lt.Meta,{title:w(PI,{listId:n}),className:"cardTitle",...a.dragHandleProps,"aria-label":`${r} quote list`,style:{marginBottom:"8px"}}),w(QI,{...e,isScrollable:!1,listId:n,listType:"QUOTE",internalScroll:e.isScrollable,isCombineEnabled:e.isCombineEnabled,useClone:e.useClone}),w(LI,{})]})})})})},eD=()=>{const e=Ie(),t=Te(bt),n=fn.cloneDeep(t.list),[r,a]=UO();return E.useEffect(()=>{if(r){const i=Gv(n,r);i.reduce((s,{boardId:d})=>d===t._id,!1)&&e(Qi(i))}},[r]),E.useEffect(()=>(t._id&&a({type:"subscribe",boardId:t._id}),()=>a({type:"unsubscribe",boardId:t._id})),[t._id]),w(yu,{onDragEnd:i=>{const o=Gs(i,n);o&&e(Qi(o))},children:w(mr,{droppableId:"board",type:"COLUMN",direction:"horizontal",ignoreContainerClipping:!1,isCombineEnabled:!1,children:i=>Z(sf,{...i.droppableProps,ref:i.innerRef,children:[n.sort((o,s)=>+o.position-+s.position).map((o,s)=>w(JI,{index:s,quotes:o,isScrollable:!0,isCombineEnabled:!1,useClone:void 0},o.id)),i.placeholder,w(bI,{})]})})})},tD=()=>{const e=Ie(),{boardId:t}=Qr(),n=Te(cf),[r,a]=E.useState(!1);return E.useEffect(()=>{n&&e(uf())},[n]),E.useEffect(()=>{t&&(a(!0),e(df(t)).finally(()=>{a(!1)}))},[t]),w(zO,{children:r?w(xt,{className:"d-center",indicator:w(li,{spin:!0,style:{fontSize:96}})}):Z(Le,{children:[w(mI,{}),w(eD,{}),w(zv,{children:w(HO,{})})]})})},rD=Oe.memo(tD);export{rD as default};
