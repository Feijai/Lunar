import{r as h,al as m,am as i,an as f,ag as e,ar as g,cf as C,aG as b,cg as k,az as u,aA as c,ch as w,aH as x,b_ as y,ci as A,c3 as S,cj as v,ck as W,aY as T,cl as D,S as P}from"./index-82a00655.js";const j=({boardId:d})=>{const[p,r]=h.useState(!1),a=m();return i(f,{children:[e(g,{type:"text",onClick:t=>{t.stopPropagation()},children:"分享看板"}),e(g,{danger:!0,type:"text",loading:p,onClick:t=>{t.stopPropagation(),r(!0),a(C(d)).finally(()=>{r(!1)})},children:"刪除看板"}),e("div",{style:{color:"red"}})]})},Z=({title:d,permission:p,backgroundImage:r,boardId:a})=>{const t=b();return i(k,{hoverable:!0,"background-image":`${r}`,onClick:()=>{t(`/board/${a}`)},children:[e(u,{style:{marginBottom:"auto"},children:e(c,{style:{fontWeight:700,fontSize:"18px",lineHeight:"150%"},children:d})}),i(u,{justify:"space-between",align:"middle",children:[e(c,{children:e(w,{permission:p,id:a})}),e(c,{children:e(x,{trigger:"click",placement:"bottomRight",arrow:!1,content:e(j,{boardId:a}),children:e(g,{icon:e(y,{}),type:"text",style:{color:"white"},onClick:s=>{s.stopPropagation()}})})})]})]})},H=()=>{const d=m(),[p,r]=h.useState(!1),a=A(),[t,s]=h.useState(a==null?void 0:a.board);return h.useEffect(()=>{s(a==null?void 0:a.board)},[a]),h.useEffect(()=>{d(S(!0))}),i(v,{children:[i(u,{align:"middle",justify:"space-between",children:[e(W,{}),i(c,{children:[e(g,{icon:e(T,{}),style:{backgroundColor:"#232323",color:"white",width:"121px",height:"45px"},onClick:()=>r(!0),children:"新增看板"}),e(D,{open:p,setOpen:r})]})]}),i(u,{align:"middle",justify:"space-between",style:{marginTop:"16px"},children:[e(c,{style:{fontWeight:700,fontSize:"16px",lineHeight:"150%"},children:"我的看板"}),e(c,{children:e(P,{defaultValue:"排序方式",style:{fontSize:"14px"},onChange:l=>{switch(l){case"A-Z字母排序":return s([...t].sort((n,o)=>n.name.localeCompare(o.name)));case"Z-A字母排序":return s([...t].sort((n,o)=>o.name.localeCompare(n.name)));case"最近預覽":return s([...t].sort((n,o)=>new Date(o.updatedAt).getTime()-new Date(n.updatedAt).getTime()));case"最新":return s([...t].sort((n,o)=>new Date(n.createdAt).getTime()-new Date(o.createdAt).getTime()));case"最舊":return s([...t].sort((n,o)=>new Date(o.createdAt).getTime()-new Date(n.createdAt).getTime()))}},bordered:!1,options:[{value:"最近預覽",label:"最近預覽"},{value:"最新",label:"最新"},{value:"最舊",label:"最舊"},{value:"A-Z字母排序",label:"A-Z字母排序"},{value:"Z-A字母排序",label:"Z-A字母排序"}]})})]}),e(u,{style:{marginTop:"16px",columnGap:"8px",rowGap:"24px"},children:t==null?void 0:t.map(l=>e(Z,{title:l.name,permission:l.permission,backgroundImage:l.image,boardId:l._id},l._id))})]})};export{H as default};
